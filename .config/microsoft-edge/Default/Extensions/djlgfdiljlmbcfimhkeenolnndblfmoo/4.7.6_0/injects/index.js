/** @license ESUIT
 * COPYRIGHT (C) 2023 ESUIT. ALL RIGHTS RESERVED.
 *
 * This code is the intellectual property of ESUIT and is protected by
 * copyright law. Any unauthorized use, copying or reproduction of this
 * code without the expressed written permission of ESUIT is strictly
 * prohibited.
 *
 * For more information, please visit https://esuit.dev/.
 */(function(){function Ue(vt,kt){function le(){vt()?kt():requestAnimationFrame(le)}le()}Ue(()=>!!window.requireLazy,()=>{Ue(()=>!!window.download_albums_for_facebook_vendors&&!!window["download-albums-for-facebook"]&&!!window.download_albums_for_facebook,()=>{window.requireLazy(["react","__debug"],pn)})});function pn(){const vt=mn();if(vt){const kt=window.require("react"),le=window.require(vt),vn=wn();(function(N,M,g,it,Dt,Et){"use strict";const je="ESUIT | Photos Downloader for Facebook™",_t="download-albums-for-facebook",yn="djlgfdiljlmbcfimhkeenolnndblfmoo",bn="https://chromewebstore.google.com/detail/esuit-photos-downloader-f/djlgfdiljlmbcfimhkeenolnndblfmoo",Ve="https://www.facebook.com/permalink.php?story_fbid=pfbid0U7CsXoH3h7PDFyGWirvD6oRqQUgsa8F2w9KfMxfDu4AG3RcgZ5hV69yTh6Sn8TMhl&id=61563089216213",Cn={projectId:"a",chromeExtId:"b",name:"c",link:"d",description:"e",type:"f",ytb:"g",prices:"h",plan:"i",platform:"j",price:"k",id:"l",period:"m"};function Qe(t){const e=Object.fromEntries(Object.entries(Cn).map(([n,r])=>[r,n]));return t.map(n=>{let r={};for(let i in n){const a=e[i]||i;Array.isArray(n[i])?r[a]=n[i].map(o=>Qe([o])[0]):r[a]=n[i]}return r})}const Dn="https://static-data.esuit.dev/index.json",Tn="https://stats.esuit.dev/index.json",Fn="https://esuit.dev/";let Yt=[];const Xt="mHxGWIqCotRcnLgFbr4YcdaZWDMHJlWu";function de(t){const e={JsYJG:function(l,d){return l(d)},iLLNi:function(l,d){return l(d)},WJyjO:function(l){return l()},cWWCW:function(l){return l()},vMXZr:function(l,d,m){return l(d,m)},SbTof:`
      .esuit-exts{
        opacity: 0.6;
        transition: opacity 300ms;
      }
      
      .esuit-exts:hover,.esuit-ext:hover{
        opacity: 1 !important
      }
    `,ihjUs:"horizontal",UbnXx:"normal",Ylpyh:function(l,d){return l(d)},FldDV:function(l,d,m){return l(d,m)},CTdAh:function(l,d,m){return l(d,m)},YtulV:"section",mSKrk:"inherit",UFEyu:function(l,d){return l+d},RxaZA:"24px",DdHzo:" auto 0 auto",mBzWo:"esuit-exts",WAsua:"div",OXTSR:"flex",tDVqJ:function(l,d){return l===d},KuskP:"vertical",VNejt:"column",dZwxj:"row",QKjuD:"space-between",AtUzB:"center",eCDLk:"Useful extensions for you",pQDjn:function(l,d,m){return l(d,m)},rRVLL:"_blank",gartJ:"none",FMeHO:"Find more extensions",GHzmF:function(l,d,m){return l(d,m)},CYRCO:"grid"},{extsProjectIdArr:n=[],perRow:r=3,direction:i=e.ihjUs,size:a=e.UbnXx,avtarSize:o=48,withTitleBar:s=!0}=t,[u,c]=e.iLLNi(M.useState,{}),[f,p]=e.Ylpyh(M.useState,[]),h=e.vMXZr(M.useMemo,()=>n.map(l=>{const d=f.find(m=>m.projectId===l);if(d){const m=u[l]??{};return{...d,...m}}return!1}).filter(l=>!!l),[n,u,f]);return e.FldDV(M.useEffect,()=>{Promise.all([e.WJyjO(xn),e.cWWCW(An)]).then(([l,d])=>{e.JsYJG(c,l),e.iLLNi(p,d)}),e.vMXZr(Sn,Xt,e.SbTof)},[]),e.CTdAh(g.jsxs,e.YtulV,{style:{color:e.mSKrk,margin:e.UFEyu(s?e.RxaZA:"0",e.DdHzo)},className:e.mBzWo,children:[s&&e.FldDV(g.jsxs,e.WAsua,{style:{fontSize:14,opacity:.8,marginBottom:8,display:e.OXTSR,flexDirection:e.tDVqJ(e.KuskP,i)?e.VNejt:e.dZwxj,gap:e.tDVqJ(e.KuskP,i)?8:0,justifyContent:e.QKjuD,alignItems:e.AtUzB},children:[e.CTdAh(g.jsx,e.WAsua,{children:e.eCDLk}),e.pQDjn(g.jsx,"a",{href:Fn,target:e.rRVLL,style:{fontSize:12,textDecoration:e.gartJ},children:e.FMeHO})]}),e.GHzmF(g.jsx,e.WAsua,{style:{display:e.CYRCO,gridTemplateColumns:"repeat("+r+", 1fr)",gap:12},children:h.map(l=>g.jsx(N.Tooltip,{title:g.jsxs("div",{children:[g.jsx("div",{children:l.description}),g.jsx("div",{style:{paddingTop:8,paddingBottom:4,textAlign:"center",fontSize:16},children:"Click it to install"})]}),children:g.jsxs("div",{className:"esuit-ext",style:{display:"flex",flexDirection:i==="vertical"?"column":"row",alignItems:"center",gap:8,cursor:"pointer",minWidth:a==="normal"?330:180,paddingRight:i==="vertical"?0:16,opacity:.6,lineHeight:1.4,textAlign:"center"},onClick:()=>window.open(l.link,"_blank"),children:[g.jsx("img",{style:{width:o,height:o,display:"block"},src:"https://esuit.dev/extensions/"+l.projectId+".png",alt:""}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:a==="normal"?16:14},children:l.name}),g.jsxs("div",{style:{fontSize:12,display:"flex",opacity:.6,justifyContent:i==="vertical"?"center":"flex-start"},children:[g.jsxs("div",{children:["Users: ",l.users]}),g.jsxs("div",{style:{marginLeft:12},children:["Rate: ",l.rating]})]})]})]})},l.projectId))})]})}async function An(){const t=function(r,i){return r(i)},e=function(r,i){return r(i)};if(function(r,i){return r>i}(Yt.length,0))return Yt;const n=await t(fetch,Dn).then(r=>r.json());return Yt=e(Qe,n),Yt}function xn(){const t=function(n,r){return n(r)},e=function(n,r){return n(r)};return window[Xt]?Promise.resolve(window[Xt]):new Promise(n=>{const r=function(i,a){return t(i,a)};e(fetch,Tn).then(i=>i.json()).then(i=>{window[Xt]=i.exts,r(n,i.exts)})})}function Sn(t,e){const n="style",r=document.getElementById(t);if(r)r.innerText=e;else{const i=document.createElement(n);i.innerHTML=e,document.head.appendChild(i)}}let kn=/[\0-\x1F\x7F-\x9F\xAD\u0378\u0379\u037F-\u0383\u038B\u038D\u03A2\u0528-\u0530\u0557\u0558\u0560\u0588\u058B-\u058E\u0590\u05C8-\u05CF\u05EB-\u05EF\u05F5-\u0605\u061C\u061D\u06DD\u070E\u070F\u074B\u074C\u07B2-\u07BF\u07FB-\u07FF\u082E\u082F\u083F\u085C\u085D\u085F-\u089F\u08A1\u08AD-\u08E3\u08FF\u0978\u0980\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09FC-\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF2-\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B55\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B78-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BFB-\u0C00\u0C04\u0C0D\u0C11\u0C29\u0C34\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5A-\u0C5F\u0C64\u0C65\u0C70-\u0C77\u0C80\u0C81\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0D01\u0D04\u0D0D\u0D11\u0D3B\u0D3C\u0D45\u0D49\u0D4F-\u0D56\u0D58-\u0D5F\u0D64\u0D65\u0D76-\u0D78\u0D80\u0D81\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF5-\u0E00\u0E3B-\u0E3E\u0E5C-\u0E80\u0E83\u0E85\u0E86\u0E89\u0E8B\u0E8C\u0E8E-\u0E93\u0E98\u0EA0\u0EA4\u0EA6\u0EA8\u0EA9\u0EAC\u0EBA\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F48\u0F6D-\u0F70\u0F98\u0FBD\u0FCD\u0FDB-\u0FFF\u10C6\u10C8-\u10CC\u10CE\u10CF\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u137D-\u137F\u139A-\u139F\u13F5-\u13FF\u169D-\u169F\u16F1-\u16FF\u170D\u1715-\u171F\u1737-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17DE\u17DF\u17EA-\u17EF\u17FA-\u17FF\u180F\u181A-\u181F\u1878-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191D-\u191F\u192C-\u192F\u193C-\u193F\u1941-\u1943\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DB-\u19DD\u1A1C\u1A1D\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1A9F\u1AAE-\u1AFF\u1B4C-\u1B4F\u1B7D-\u1B7F\u1BF4-\u1BFB\u1C38-\u1C3A\u1C4A-\u1C4C\u1C80-\u1CBF\u1CC8-\u1CCF\u1CF7-\u1CFF\u1DE7-\u1DFB\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FC5\u1FD4\u1FD5\u1FDC\u1FF0\u1FF1\u1FF5\u1FFF\u200B-\u200F\u202A-\u202E\u2060-\u206F\u2072\u2073\u208F\u209D-\u209F\u20BB-\u20CF\u20F1-\u20FF\u218A-\u218F\u23F4-\u23FF\u2427-\u243F\u244B-\u245F\u2700\u2B4D-\u2B4F\u2B5A-\u2BFF\u2C2F\u2C5F\u2CF4-\u2CF8\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D71-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E3C-\u2E7F\u2E9A\u2EF4-\u2EFF\u2FD6-\u2FEF\u2FFC-\u2FFF\u3040\u3097\u3098\u3100-\u3104\u312E-\u3130\u318F\u31BB-\u31BF\u31E4-\u31EF\u321F\u32FF\u4DB6-\u4DBF\u9FCD-\u9FFF\uA48D-\uA48F\uA4C7-\uA4CF\uA62C-\uA63F\uA698-\uA69E\uA6F8-\uA6FF\uA78F\uA794-\uA79F\uA7AB-\uA7F7\uA82C-\uA82F\uA83A-\uA83F\uA878-\uA87F\uA8C5-\uA8CD\uA8DA-\uA8DF\uA8FC-\uA8FF\uA954-\uA95E\uA97D-\uA97F\uA9CE\uA9DA-\uA9DD\uA9E0-\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A\uAA5B\uAA7C-\uAA7F\uAAC3-\uAADA\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F-\uABBF\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBC2-\uFBD2\uFD40-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFE\uFDFF\uFE1A-\uFE1F\uFE27-\uFE2F\uFE53\uFE67\uFE6C-\uFE6F\uFE75\uFEFD-\uFF00\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFDF\uFFE7\uFFEF-\uFFFB\uFFFE\uFFFF]/g,En=/[\?<>\\:\*\|":]/g,Mn=/[\x00-\x1f\x80-\x9f]/g,Nn=/^\.+$/,On=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,In=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function At(t){return t.trim().replace(In,"").replace(En,"").replace(kn,"").replace(/[\\/]/g,"").replace(Mn,"").replace(Nn,"").replace(On,"").replaceAll(". ᴥ","").replace(/\s+/g," ").trim().split("").splice(0,255).join("").replaceAll("~","").replaceAll("  "," ").replaceAll("..","").trim()}function _n(t){return(r=At,i=t,e=r,n=i,e(n)).replaceAll(".","");var e,n,r,i}function Ln(t){return!!(t.toString().includes("1390008")||t.toString().includes("1348007")||t.toString().includes("3252001")||t.toString().includes("1404006")||t.toString().includes("1675004")||t.toString().includes("1404078")||t.toString().includes("Request is too frequent")||t.toString().includes("Rate limit")||t.toString().includes("Temporarily")||t.toString().includes("again later")||t.toString().includes("rate_limit_exceeded"))}(function(){var t=function(a,o){return a<o},e="style",n='@charset "UTF-8";:root{--tagify-dd-color-primary: rgb(53,149,246);--tagify-dd-bg-color: white;--tagify-dd-item-pad: .3em .5em}.tagify{--tags-disabled-bg: #F1F1F1;--tags-border-color: #DDD;--tags-hover-border-color: #CCC;--tags-focus-border-color: #3595f6;--tag-border-radius: 3px;--tag-bg: #E5E5E5;--tag-hover: #D3E2E2;--tag-text-color: black;--tag-text-color--edit: black;--tag-pad: .3em .5em;--tag-inset-shadow-size: 1.1em;--tag-invalid-color: #D39494;--tag-invalid-bg: rgba(211, 148, 148, .5);--tag-remove-bg: rgba(211, 148, 148, .3);--tag-remove-btn-color: black;--tag-remove-btn-bg: none;--tag-remove-btn-bg--hover: #c77777;--input-color: inherit;--tag--min-width: 1ch;--tag--max-width: auto;--tag-hide-transition: .3s;--placeholder-color: rgba(0, 0, 0, .4);--placeholder-color-focus: rgba(0, 0, 0, .25);--loader-size: .8em;--readonly-striped: 1;display:inline-flex;align-items:flex-start;flex-wrap:wrap;border:1px solid var(--tags-border-color);padding:0;line-height:0;cursor:text;outline:none;position:relative;box-sizing:border-box;transition:.1s}@keyframes tags--bump{30%{transform:scale(1.2)}}@keyframes rotateLoader{to{transform:rotate(1turn)}}.tagify:hover:not(.tagify--focus):not(.tagify--invalid){--tags-border-color: var(--tags-hover-border-color)}.tagify[disabled]{background:var(--tags-disabled-bg);filter:saturate(0);opacity:.5;pointer-events:none}.tagify[readonly].tagify--select,.tagify[disabled].tagify--select{pointer-events:none}.tagify[readonly]:not(.tagify--mix):not(.tagify--select),.tagify[disabled]:not(.tagify--mix):not(.tagify--select){cursor:default}.tagify[readonly]:not(.tagify--mix):not(.tagify--select)>.tagify__input,.tagify[disabled]:not(.tagify--mix):not(.tagify--select)>.tagify__input{visibility:hidden;width:0;margin:5px 0}.tagify[readonly]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div,.tagify[disabled]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div{padding:var(--tag-pad)}.tagify[readonly]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div:before,.tagify[disabled]:not(.tagify--mix):not(.tagify--select) .tagify__tag>div:before{animation:readonlyStyles 1s calc(-1s * (var(--readonly-striped) - 1)) paused}.tagify[readonly] .tagify__tag__removeBtn,.tagify[disabled] .tagify__tag__removeBtn{display:none}.tagify--loading .tagify__input>br:last-child{display:none}.tagify--loading .tagify__input:before{content:none}.tagify--loading .tagify__input:after{content:"";vertical-align:middle;opacity:1;width:.7em;height:.7em;width:var(--loader-size);height:var(--loader-size);min-width:0;border:3px solid;border-color:#EEE #BBB #888 transparent;border-radius:50%;animation:rotateLoader .4s infinite linear;content:""!important;margin:-2px 0 -2px .5em}.tagify--loading .tagify__input:empty:after{margin-left:0}.tagify+input,.tagify+textarea{position:absolute!important;left:-9999em!important;transform:scale(0)!important}.tagify__tag{display:inline-flex;align-items:center;margin:5px 0 5px 5px;position:relative;z-index:1;outline:none;line-height:normal;cursor:default;transition:.13s ease-out}.tagify__tag>div{vertical-align:top;box-sizing:border-box;max-width:100%;padding:var(--tag-pad);color:var(--tag-text-color);line-height:inherit;border-radius:var(--tag-border-radius);white-space:nowrap;transition:.13s ease-out}.tagify__tag>div>*{white-space:pre-wrap;overflow:hidden;text-overflow:ellipsis;display:inline-block;vertical-align:top;min-width:var(--tag--min-width);max-width:var(--tag--max-width);transition:.8s ease,.1s color}.tagify__tag>div>*[contenteditable]{outline:none;user-select:text;cursor:text;margin:-2px;padding:2px;max-width:350px}.tagify__tag>div:before{content:"";position:absolute;border-radius:inherit;inset:var(--tag-bg-inset, 0);z-index:-1;pointer-events:none;transition:.12s ease;animation:tags--bump .3s ease-out 1;box-shadow:0 0 0 var(--tag-inset-shadow-size) var(--tag-bg) inset}.tagify__tag:hover:not([readonly]) div:before,.tagify__tag:focus div:before{--tag-bg-inset: -2.5px;--tag-bg: var(--tag-hover)}.tagify__tag--loading{pointer-events:none}.tagify__tag--loading .tagify__tag__removeBtn{display:none}.tagify__tag--loading:after{--loader-size: .4em;content:"";vertical-align:middle;opacity:1;width:.7em;height:.7em;width:var(--loader-size);height:var(--loader-size);min-width:0;border:3px solid;border-color:#EEE #BBB #888 transparent;border-radius:50%;animation:rotateLoader .4s infinite linear;margin:0 .5em 0 -.1em}.tagify__tag--flash div:before{animation:none}.tagify__tag--hide{width:0!important;padding-left:0;padding-right:0;margin-left:0;margin-right:0;opacity:0;transform:scale(0);transition:var(--tag-hide-transition);pointer-events:none}.tagify__tag--hide>div>*{white-space:nowrap}.tagify__tag.tagify--noAnim>div:before{animation:none}.tagify__tag.tagify--notAllowed:not(.tagify__tag--editable) div>span{opacity:.5}.tagify__tag.tagify--notAllowed:not(.tagify__tag--editable) div:before{--tag-bg: var(--tag-invalid-bg);transition:.2s}.tagify__tag[readonly] .tagify__tag__removeBtn{display:none}.tagify__tag[readonly]>div:before{animation:readonlyStyles 1s calc(-1s * (var(--readonly-striped) - 1)) paused}@keyframes readonlyStyles{0%{background:linear-gradient(45deg,var(--tag-bg) 25%,transparent 25%,transparent 50%,var(--tag-bg) 50%,var(--tag-bg) 75%,transparent 75%,transparent) 0/5px 5px;box-shadow:none;filter:brightness(.95)}}.tagify__tag--editable>div{color:var(--tag-text-color--edit)}.tagify__tag--editable>div:before{box-shadow:0 0 0 2px var(--tag-hover) inset!important}.tagify__tag--editable>.tagify__tag__removeBtn{pointer-events:none}.tagify__tag--editable>.tagify__tag__removeBtn:after{opacity:0;transform:translate(100%) translate(5px)}.tagify__tag--editable.tagify--invalid>div:before{box-shadow:0 0 0 2px var(--tag-invalid-color) inset!important}.tagify__tag__removeBtn{order:5;display:inline-flex;align-items:center;justify-content:center;border-radius:50px;cursor:pointer;font:14px/1 Arial;background:var(--tag-remove-btn-bg);color:var(--tag-remove-btn-color);width:14px;height:14px;margin-right:4.6666666667px;margin-left:auto;overflow:hidden;transition:.2s ease-out}.tagify__tag__removeBtn:after{content:"\\d7";transition:.3s,color 0s}.tagify__tag__removeBtn:hover{color:#fff;background:var(--tag-remove-btn-bg--hover)}.tagify__tag__removeBtn:hover+div>span{opacity:.5}.tagify__tag__removeBtn:hover+div:before{box-shadow:0 0 0 var(--tag-inset-shadow-size) var(--tag-remove-bg, rgba(211, 148, 148, .3)) inset!important;transition:box-shadow .2s}.tagify:not(.tagify--mix) .tagify__input br{display:none}.tagify:not(.tagify--mix) .tagify__input *{display:inline;white-space:nowrap}.tagify__input{flex-grow:1;display:inline-block;min-width:110px;margin:5px;padding:var(--tag-pad);line-height:normal;position:relative;white-space:pre-wrap;color:var(--input-color);box-sizing:inherit}.tagify__input:empty:before{position:static}.tagify__input:focus{outline:none}.tagify__input:focus:before{transition:.2s ease-out;opacity:0;transform:translate(6px)}@supports (-ms-ime-align: auto){.tagify__input:focus:before{display:none}}.tagify__input:focus:empty:before{transition:.2s ease-out;opacity:1;transform:none;color:#00000040;color:var(--placeholder-color-focus)}@-moz-document url-prefix(){.tagify__input:focus:empty:after{display:none}}.tagify__input:before{content:attr(data-placeholder);height:1em;line-height:1em;margin:auto 0;z-index:1;color:var(--placeholder-color);white-space:nowrap;pointer-events:none;opacity:0;position:absolute}.tagify__input:after{content:attr(data-suggest);display:inline-block;vertical-align:middle;position:absolute;min-width:calc(100% - 1.5em);text-overflow:ellipsis;overflow:hidden;white-space:pre;color:var(--tag-text-color);opacity:.3;pointer-events:none;max-width:100px}.tagify__input .tagify__tag{margin:0 1px}.tagify--mix{display:block}.tagify--mix .tagify__input{padding:5px;margin:0;width:100%;height:100%;line-height:1.5;display:block}.tagify--mix .tagify__input:before{height:auto;display:none;line-height:inherit}.tagify--mix .tagify__input:after{content:none}.tagify--select:after{content:">";opacity:.5;position:absolute;top:50%;right:0;bottom:0;font:16px monospace;line-height:8px;height:8px;pointer-events:none;transform:translate(-150%,-50%) scaleX(1.2) rotate(90deg);transition:.2s ease-in-out}.tagify--select[aria-expanded=true]:after{transform:translate(-150%,-50%) rotate(270deg) scaleY(1.2)}.tagify--select .tagify__tag{position:absolute;top:0;right:1.8em;bottom:0}.tagify--select .tagify__tag div{display:none}.tagify--select .tagify__input{width:100%}.tagify--empty .tagify__input:before{transition:.2s ease-out;opacity:1;transform:none;display:inline-block;width:auto}.tagify--mix .tagify--empty .tagify__input:before{display:inline-block}.tagify--focus{--tags-border-color: var(--tags-focus-border-color);transition:0s}.tagify--invalid{--tags-border-color: #D39494}.tagify__dropdown{position:absolute;z-index:9999;transform:translateY(1px);overflow:hidden}.tagify__dropdown[placement=top]{margin-top:0;transform:translateY(-100%)}.tagify__dropdown[placement=top] .tagify__dropdown__wrapper{border-top-width:1.1px;border-bottom-width:0}.tagify__dropdown[position=text]{box-shadow:0 0 0 3px rgba(var(--tagify-dd-color-primary),.1);font-size:.9em}.tagify__dropdown[position=text] .tagify__dropdown__wrapper{border-width:1px}.tagify__dropdown__wrapper{max-height:300px;overflow:auto;overflow-x:hidden;background:var(--tagify-dd-bg-color);border:1px solid;border-color:var(--tagify-dd-color-primary);border-bottom-width:1.5px;border-top-width:0;box-shadow:0 2px 4px -2px #0003;transition:.25s cubic-bezier(0,1,.5,1)}.tagify__dropdown__header:empty{display:none}.tagify__dropdown__footer{display:inline-block;margin-top:.5em;padding:var(--tagify-dd-item-pad);font-size:.7em;font-style:italic;opacity:.5}.tagify__dropdown__footer:empty{display:none}.tagify__dropdown--initial .tagify__dropdown__wrapper{max-height:20px;transform:translateY(-1em)}.tagify__dropdown--initial[placement=top] .tagify__dropdown__wrapper{transform:translateY(2em)}.tagify__dropdown__item{box-sizing:border-box;padding:var(--tagify-dd-item-pad);margin:1px;white-space:pre-wrap;cursor:pointer;border-radius:2px;position:relative;outline:none;max-height:60px;max-width:100%}.tagify__dropdown__item--active{background:var(--tagify-dd-color-primary);color:#fff}.tagify__dropdown__item:active{filter:brightness(105%)}.tagify__dropdown__item--hidden{padding-top:0;padding-bottom:0;margin:0 1px;pointer-events:none;overflow:hidden;max-height:0;transition:var(--tagify-dd-item--hidden-duration, .3s)!important}.tagify__dropdown__item--hidden>*{transform:translateY(-100%);opacity:0;transition:inherit}.tagify-wrapper{font-size:14px}.tagify-wrapper .eg-txt{display:inline-block;max-width:330px;white-space:pre-wrap;word-break:break-all;vertical-align:top}.tagify-wrapper .bottom-bar{display:flex;flex-direction:row;justify-content:space-between}.tagify-wrapper.dark .tagify{border-color:#424242}.tagify-wrapper.dark .tagify__input:before,.tagify-wrapper.dark .tagify__input,.tagify-wrapper.dark .tagify-example{color:#b0b3b8}.tagify{padding-left:4px;border-radius:6px;border-color:#d9d9d9;font-size:14px;min-width:384px;max-width:384px;overflow:hidden}.tagify.tagify--focus{border-color:#4096ff!important;box-shadow:0 0 0 2px #0591ff1a;outline:0}.tagify .tagify__tag-text,.tagify .tagify__input{white-space:nowrap!important}.tagify .tagify__tag-text br,.tagify .tagify__input br{display:none!important}.tagify .tagify__tag-text *,.tagify .tagify__input *{display:inline;white-space:nowrap}.tagify-dropdown .ant-dropdown-menu{overflow:auto;overflow-x:hidden;max-height:240px}.tagify-dropdown .tagify__tag,.tagify .tagify__tag{display:inline-flex;transition:none;margin:0 4px!important;transform:translateY(-1px)}.tagify-dropdown .tagify__tag x,.tagify .tagify__tag x{display:none}.tagify-dropdown .tagify__tag>div,.tagify .tagify__tag>div{background:#1677ff;color:#fff;font-size:12px;line-height:20px;border-radius:4px;padding:0 7px;font-family:-apple-system,sans-serif}.tagify-dropdown .tagify__tag>div:before,.tagify .tagify__tag>div:before{display:none}.tagify-example{width:100%;padding-top:4px;font-size:11px}.tagify-example .eg{padding-right:8px;opacity:.8}',r="vite-plugin-css-injected-by-js";try{if(t(typeof document,"u")){var i=document.createElement(e);i.appendChild(document.createTextNode(n)),document.head.appendChild(i)}}catch(a){console.error(r,a)}})();var fe="​";const jt=(t,e,n,r)=>(t=""+t,e=""+e,r&&(t=t.trim(),e=e.trim()),n?t==e:t.toLowerCase()==e.toLowerCase()),We=(t,e)=>t&&Array.isArray(t)&&t.map(n=>ge(n,e));function ge(t,e){var n,r=function(a,o){return a<o},i={};for(n in t)r(e.indexOf(n),0)&&(i[n]=t[n]);return i}function Ke(t){var e=document.createElement("div");return t.replace(/\&#?[0-9a-z]+;/gi,function(n){return e.innerHTML=n,e.innerText})}function he(t){return new DOMParser().parseFromString(t.trim(),"text/html").body.firstElementChild}function Pn(t){return t?t.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""}function Bn(t){for(var e,n=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=n.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}function qe(t,e){var n=function(a,o){return a+o},r="Sibling",i=function(a,o){return a==o};for(e=function(a,o){return a||o}(e,"previous");t=t[n(e,r)];)if(i(3,t.nodeType))return t}function Lt(t){var e="&amp;",n="&lt;",r="&gt;",i="&quot;",a="&#039;";return function(o,s){return o==s}("string",typeof t)?t.replace(/&/g,e).replace(/</g,n).replace(/>/g,r).replace(/"/g,i).replace(/`|'/g,a):t}function Mt(t){var e=function(p,h){return p===h},n=function(p,h){return p(h)},r=function(p,h){return p!=h},i="Array",a=function(p,h){return p!=h},o="Function",s="RegExp",u=function(p,h){return p!=h},c="HTMLUnknownElement",f=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return e(t,n(Object,t))&&r(i,f)&&a(o,f)&&a(s,f)&&u(c,f)}function at(t,e,n){var r=function(s,u){return s(u)},i=function(s,u,c){return s(u,c)},a=function(s,u,c){return s(u,c)};function o(s,u){for(var c in u)if(u.hasOwnProperty(c)){if(r(Mt,u[c])){r(Mt,s[c])?i(o,s[c],u[c]):s[c]=Object.assign({},u[c]);continue}if(Array.isArray(u[c])){s[c]=Object.assign([],u[c]);continue}s[c]=u[c]}}return function(s,u){return s instanceof u}(t,Object)||(t={}),i(o,t,e),n&&a(o,t,n),t}function Ye(){var t=function(r,i){return r(i)};const e=[],n={};for(let r of arguments)for(let i of r)t(Mt,i)?n[i.value]||(e.push(i),n[i.value]=1):e.includes(i)||e.push(i);return e}function Gt(t){var e=function(i,a){return i==a},n="string",r="NFD";return String.prototype.normalize?e(n,typeof t)?t.normalize(r).replace(/[\u0300-\u036f]/g,""):void 0:t}function zn(t){var e,n=t.cloneNode(!0);return n.style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(n),e=n.clientHeight,n.parentNode.removeChild(n),e}var Xe=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function Ge(){var t=function(e,n){return e+n};return t(function(e,n){return e+n}(t(function(e,n){return e+n}([1e7],-1e3),-4e3),-8e3),-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16))}function Ut(t){return t&&t.classList&&t.classList.contains(this.settings.classNames.tag)}function Hn(){var t=function(r,i){return r>i},e=function(r,i){return r-i};const n=document.getSelection();if(n.rangeCount){const r=n.getRangeAt(0),i=r.startContainer,a=r.startOffset;let o,s;if(t(a,0))return s=document.createRange(),s.setStart(i,e(a,1)),s.setEnd(i,a),o=s.getBoundingClientRect(),{left:o.right,top:o.top,bottom:o.bottom};if(i.getBoundingClientRect)return i.getBoundingClientRect()}return{left:-9999,top:-9999}}function Je(t,e){var n=function(a,o){return a==o},r="string",i=window.getSelection();return e=e||i.getRangeAt(0),n(r,typeof t)&&(t=document.createTextNode(t)),e&&(e.deleteContents(),e.insertNode(t)),t}function nt(t,e,n){var r=function(a,o,s,u){return a(o,s,u)},i="tag element doesn't exist";return t?(e&&(t.__tagifyTagData=n?e:r(at,{},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn(i,t,e),e)}function Pt(t){if(t&&t.parentNode){var e=t,n=window.getSelection(),r=n.getRangeAt(0);n.rangeCount&&(r.setStartAfter(e),r.collapse(!0),n.removeAllRanges(),n.addRange(r))}}function Ze(t,e){var n=function(r,i){return r(i)};t.forEach(r=>{if(n(nt,r.previousSibling)||!r.previousSibling){var i=document.createTextNode(fe);r.before(i),e&&n(Pt,i)}})}const pe={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:" "},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function Un(){var t=function(n,r){return n==r},e="function";this.dropdown={};for(let n in this._dropdown)this.dropdown[n]=t(e,typeof this._dropdown[n])?this._dropdown[n].bind(this):this._dropdown[n];this.dropdown.refs()}const jn={refs(){var t="dropdown",e="[data-selector='tagify-suggestions-wrapper']";this.DOM.dropdown=this.parseTemplate(t,[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(e)},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(t){var e,n,r,i="dropdown:show",a=function(z,H){return z==H},o="mix",s="manual",u=function(z,H){return z===H},c=function(z,H){return z&&H},f=function(z,H){return z(H)},p="dropdown:noMatch",h=function(z,H,U){return z(H,U)},l=function(z,H){return z||H},d=function(z,H){return z+H},m=function(z,H){return z(H)},v=function(z,H){return z(H)},F=function(z,H){return z||H},C=function(z,H){return z(H)},b=function(z,H){return z(H)},A=this.settings,w=a(o,A.mode)&&!A.enforceWhitelist,y=!A.whitelist||!A.whitelist.length,x=a(s,A.dropdown.position);if(t=u(void 0,t)?this.state.inputText:t,!(c(y,!w)&&!A.templates.dropdownItemNoMatch||u(!1,A.dropdown.enable)||this.state.isLoading||this.settings.readonly)){if(f(clearTimeout,this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger(p,t),A.templates.dropdownItemNoMatch&&(r=A.templates.dropdownItemNoMatch.call(this,{value:t}))),!r){if(this.suggestedListItems.length)c(t,w)&&!this.state.editing.scope&&!h(jt,this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(l(!t,!w)||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}n=d("",m(Mt,e=this.suggestedListItems[0])?e.value:e),A.autoComplete&&n&&a(0,n.indexOf(t))&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(r),A.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(A.classNames.dropdownItemSelector)),this.state.dropdown.visible||v(setTimeout,this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=F(t,!0),this.state.dropdown.query=t,this.setStateSelection(),x||C(setTimeout,()=>{this.dropdown.position(),this.dropdown.render()}),b(setTimeout,()=>{this.trigger(i,this.DOM.dropdown)})}},hide(t){var e=function(f,p){return f==p},n="manual",r="resize",i="aria-expanded",a=function(f,p,h){return f(p,h)},o="dropdown:hide",{scope:s,dropdown:u}=this.DOM,c=e(n,this.settings.dropdown.position)&&!t;if(u&&document.body.contains(u)&&!c)return window.removeEventListener(r,this.dropdown.position),this.dropdown.events.binding.call(this,!1),s.setAttribute(i,!1),u.parentNode.removeChild(u),a(setTimeout,()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger(o,u),this},toggle(t){var e="hide",n="show";this.dropdown[this.state.dropdown.visible&&!t?e:n]()},render(){var t=function(s,u){return s(u)},e=function(s,u){return s==u},n="number",r=function(s,u){return s>=u},i="aria-expanded",a=t(zn,this.DOM.dropdown),o=this.settings;return e(n,typeof o.dropdown.enabled)&&r(o.dropdown.enabled,0)?(this.DOM.scope.setAttribute(i,!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(o.classNames.dropdownInital),this.dropdown.position(a),o.dropdown.appendTarget.appendChild(this.DOM.dropdown),t(setTimeout,()=>this.DOM.dropdown.classList.remove(o.classNames.dropdownInital))),this):this},fill(t){var e=function(r,i){return r(i)};t=function(r,i){return r==i}("string",typeof t)?t:this.dropdown.createListHTML(t||this.suggestedListItems);var n=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=e(Pn,n)},fillHeaderFooter(){var t="dropdownHeader",e="dropdownFooter",n=function(c,f){return c==f},r=function(c,f){return c==f},i=this.dropdown.filterListItems(this.state.dropdown.query),a=this.parseTemplate(t,[i]),o=this.parseTemplate(e,[i]),s=this.dropdown.getHeaderRef(),u=this.dropdown.getFooterRef();a&&(n(null,s)||s.parentNode.replaceChild(a,s)),o&&(r(null,u)||u.parentNode.replaceChild(o,u))},refilter(t){t=t||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(t){var e=function(X,G){return X!=G},n=function(X,G){return X!=G},r="manual",i=function(X,G){return X===G},a=function(X,G){return X>G},o="all",s=function(X,G){return X==G},u="input",c="scope",f=function(X,G){return X==G},p="text",h=function(X){return X()},l="auto",d=function(X,G){return X-G},m=function(X,G){return X+G},v=function(X,G){return X<G},F=function(X,G){return X-G},C=function(X,G){return X+G},b=function(X,G){return X+G},A=function(X,G){return X+G},w=function(X,G){return X+G},y=function(X,G){return X+G},x="left:",z=function(X,G){return X+G},H="px; width:",U=function(X,G){return X+G},J=function(X,G){return X+G},B="top: ",T=function(X,G){return X+G},D="placement",_="top",j="bottom",W="position",S=this.settings.dropdown;if(n(r,S.position)){var O,Y,K,E,k,P,$=this.DOM.dropdown,L=S.placeAbove,I=i(S.appendTarget,document.body),Q=I?window.pageYOffset:S.appendTarget.scrollTop,Z=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,lt=Z.clientHeight,ht=a(Math.max(Z.clientWidth||0,window.innerWidth||0),480)?S.position:o,Ct=this.DOM[s(u,ht)?u:c];if(t=t||$.clientHeight,this.state.dropdown.visible){if(f(p,ht)?(K=(O=h(Hn)).bottom,Y=O.top,E=O.left,k=l):(P=function(X){for(var G=0,tt=0;X&&e(X,Z);)G+=X.offsetLeft||0,tt+=X.offsetTop||0,X=X.parentNode;return{left:G,top:tt}}(S.appendTarget),Y=d((O=Ct.getBoundingClientRect()).top,P.top),K=d(d(O.bottom,1),P.top),E=d(O.left,P.left),k=m(O.width,"px")),!I){let X=function(){for(var G=0,tt=S.appendTarget.parentNode;tt;)G+=tt.scrollTop||0,tt=tt.parentNode;return G}();Y+=X,K+=X}Y=Math.floor(Y),K=Math.ceil(K),L=i(void 0,L)?v(F(lt,O.bottom),t):L,$.style.cssText=C(b(A(w(y(x,z(E,window.pageXOffset)),H),k),";"),L?U(J(B,w(Y,Q)),"px"):m(T(B,w(K,Q)),"px")),$.setAttribute(D,L?_:j),$.setAttribute(W,ht)}}},events:{binding(t=!0){var e={QjQKh:"addEventListener",xPiEQ:"removeEventListener",yDVgs:function(a,o){return a!=o},TITWz:"manual",traah:"scroll",WkzlQ:"resize",gBEiu:"keydown",HpCII:"mouseover",oYBAG:"mouseleave",ZVVwI:"mousedown"},n=this.dropdown.events.callbacks,r=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:n.onKeyDown.bind(this),onMouseOver:n.onMouseOver.bind(this),onMouseLeave:n.onMouseLeave.bind(this),onClick:n.onClick.bind(this),onScroll:n.onScroll.bind(this)},i=t?e.QjQKh:e.xPiEQ;e.yDVgs(e.TITWz,this.settings.dropdown.position)&&(document[i](e.traah,r.position,!0),window[i](e.WkzlQ,r.position),window[i](e.gBEiu,r.onKeyDown)),this.DOM.dropdown[i](e.HpCII,r.onMouseOver),this.DOM.dropdown[i](e.oYBAG,r.onMouseLeave),this.DOM.dropdown[i](e.ZVVwI,r.onClick),this.DOM.dropdown.content[i](e.traah,r.onScroll)},callbacks:{onKeyDown(t){var e=function(U,J){return U!=J},n="mix",r="ArrowDown",i="ArrowUp",a="Down",o=function(U,J){return U==J},s=function(U,J){return U==J},u=function(U,J){return U-J},c="Escape",f="Esc",p="ArrowRight",h="Tab",l=function(U,J){return U!=J},d="Enter",m="Backspace",v=function(U,J){return U==J},F=function(U,J){return U===J},C=function(U,J){return U==J},b="edit",A=function(U,J,B){return U(J,B)};if(this.state.hasFocus&&!this.state.composing){var w=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),y=this.dropdown.getSuggestionDataByNode(w);switch(t.key){case r:case i:case a:case"Up":t.preventDefault();var x=this.dropdown.getAllSuggestionsRefs(),z=o(i,t.key)||s("Up",t.key);w&&(w=this.dropdown.getNextOrPrevOption(w,!z)),(!w||!w.matches(this.settings.classNames.dropdownItemSelector))&&(w=x[z?u(x.length,1):0]),this.dropdown.highlightOption(w,!0);break;case c:case f:this.dropdown.hide();break;case p:if(this.state.actions.ArrowLeft)return;case h:if(l(n,this.settings.mode)&&w&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var H=this.dropdown.getMappedValue(y);return this.input.autocomplete.set.call(this,H),!1}return!0;case d:t.preventDefault(),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:y,suggestionElm:w}).then(()=>{if(w)return this.dropdown.selectOption(w),w=this.dropdown.getNextOrPrevOption(w,!z),void this.dropdown.highlightOption(w);this.dropdown.hide(),e(n,this.settings.mode)&&this.addTags(this.state.inputText.trim(),!0)}).catch(U=>U);break;case m:{if(o(n,this.settings.mode)||this.state.editing.scope)return;const U=this.input.raw.call(this);(v("",U)||o(8203,U.charCodeAt(0)))&&(F(!0,this.settings.backspace)?this.removeTags():C(b,this.settings.backspace)&&A(setTimeout,this.editTag.bind(this),0))}}}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);e&&this.dropdown.highlightOption(e)},onMouseLeave(t){this.dropdown.highlightOption()},onClick(t){var e=function(a,o){return a!=o},n=function(a,o,s){return a(o,s)};if(function(a,o){return a==o}(0,t.button)&&e(t.target,this.DOM.dropdown)&&e(t.target,this.DOM.dropdown.content)){var r=t.target.closest(this.settings.classNames.dropdownItemSelector),i=this.dropdown.getSuggestionDataByNode(r);this.state.actions.selectOption=!0,n(setTimeout,()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:r}).then(()=>{r?this.dropdown.selectOption(r,t):this.dropdown.hide()}).catch(a=>console.warn(a))}},onScroll(t){var e=function(s,u){return s*u},n=function(s,u){return s/u},r=function(s,u){return s-u},i="dropdown:scroll",a=t.target,o=e(n(a.scrollTop,r(a.scrollHeight,a.parentNode.clientHeight)),100);this.trigger(i,{percentage:Math.round(o)})}}},getSuggestionDataByNode(t){var e=t&&t.getAttribute("value");return this.suggestedListItems.find(n=>n.value==e)||null},getNextOrPrevOption(t,e=!0){var n=function(o,s){return o+s},r=function(o,s){return o-s},i=this.dropdown.getAllSuggestionsRefs(),a=i.findIndex(o=>o===t);return e?i[n(a,1)]:i[r(a,1)]},highlightOption(t,e){var n,r="aria-selected",i=function(s,u){return s-u},a=function(s,u){return s+u},o=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(o),this.state.ddItemElm.removeAttribute(r)),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);n=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=n,this.state.ddItemElm=t,t.classList.add(o),t.setAttribute(r,!0),e&&(t.parentNode.scrollTop=i(a(t.clientHeight,t.offsetTop),t.parentNode.clientHeight)),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,n),this.dropdown.position())},selectOption(t,e){for(var n={eXwiL:"0|2|4|5|1|3",tyaoR:function(p,h,l){return p(h,l)},LviRp:"value",bXsWl:function(p,h){return p==h},wqrfy:"noMatch",CuzdP:"dropdown:select",rAMyn:function(p,h){return p||h},YWPTA:"mix",DMmpj:"addMixTags",BGeXI:"addTags",PcLbk:function(p,h){return p(h)},nAqAH:function(p,h){return p(h)},iChNA:"transitionend"},r=n.eXwiL.split("|"),i=0;;){switch(r[i++]){case"0":var a={ncoaY:function(p,h,l){return n.tyaoR(p,h,l)}};continue;case"1":var o=t.getAttribute(n.LviRp),s=n.bXsWl(n.wqrfy,o),u=this.suggestedListItems.find(p=>(p.value??p)==o);continue;case"2":var{clearOnSelect:c,closeOnSelect:f}=this.settings.dropdown;continue;case"3":this.trigger(n.CuzdP,{data:u,elm:t,event:e}),o&&n.rAMyn(u,s)?(this.state.editing?this.onEditTagDone(null,n.tyaoR(at,{__isValid:!0},this.normalizeTags([u])[0])):this[n.bXsWl(n.YWPTA,this.settings.mode)?n.DMmpj:n.BGeXI]([u||this.input.raw.call(this)],c),this.DOM.input.parentNode&&(n.PcLbk(setTimeout,()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)}),f&&n.nAqAH(setTimeout,this.dropdown.hide.bind(this)),t.addEventListener(n.iChNA,()=>{this.dropdown.fillHeaderFooter(),a.ncoaY(setTimeout,()=>t.remove(),100)},{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))):f&&n.PcLbk(setTimeout,this.dropdown.hide.bind(this));continue;case"4":if(!t)return this.addTags(this.state.inputText,!0),void(f&&this.dropdown.hide());continue;case"5":e=n.rAMyn(e,{});continue}break}},selectAll(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var e=this.dropdown.filterListItems("");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems(t,e){var n,r,i,a,o=function(k,P){return k+P},s=function(k,P){return k(P)},u=function(k,P){return k===P},c=function(k,P){return k===P},f=function(k,P){return k==P},p=function(k,P){return k||P},h=function(k,P){return k>=P},l=function(k,P){return k/P},d=function(k,P){return k==P},m="select",v=function(k,P){return k==P},F=function(k,P){return k<P},C=function(k,P){return k instanceof P},b="value",A=function(k,P){return k(P)},w=function(k,P){return k(P)},y=function(k,P){return k==P},x=function(k,P,$){return k(P,$)},z=function(k,P){return k(P)},H=function(k,P){return k&&P},U=function(k,P){return k&&P},J=function(k,P){return k==P},B="startsWith",T="function",D=this.settings,_=D.dropdown,j=(e=p(e,{}),[]),W=[],S=D.whitelist,O=h(_.maxItems,0)?_.maxItems:l(1,0),Y=_.searchKeys,K=0;if(!(t=d(m,D.mode)&&this.value.length&&v(this.value[0][D.tagTextProp],t)?"":t)||!Y.length)return j=_.includeSelectedTags?S:S.filter(k=>!this.isTagDuplicate(Mt(k)?k.value:k)),this.state.dropdown.suggestions=j,j.slice(0,O);function E(k,P){return P.toLowerCase().split(" ").every($=>k.includes($.toLowerCase()))}for(a=_.caseSensitive?o("",t):o("",t).toLowerCase();F(K,S.length);K++){let k,P;n=C(S[K],Object)?S[K]:{value:S[K]};let $=Object.keys(n).some(L=>Y.includes(L))?Y:[b];_.fuzzySearch&&!e.exact?(i=$.reduce((L,I)=>L+" "+(n[I]||""),"").toLowerCase().trim(),_.accentedSearch&&(i=A(Gt,i),a=w(Gt,a)),k=y(0,i.indexOf(a)),P=u(i,a),r=x(E,i,a)):(k=!0,r=$.some(L=>{var I=o("",n[L]||"");return _.accentedSearch&&(I=s(Gt,I),a=s(Gt,a)),_.caseSensitive||(I=I.toLowerCase()),P=u(I,a),e.exact?c(I,a):f(0,I.indexOf(a))})),H(r,!(!_.includeSelectedTags&&this.isTagDuplicate(z(Mt,n)?n.value:n)))&&(U(P,k)?W.push(n):J(B,_.sortby)&&k?j.unshift(n):j.push(n))}return this.state.dropdown.suggestions=W.concat(j),J(T,typeof _.sortby)?_.sortby(W.concat(j),a):W.concat(j).slice(0,O)},getMappedValue(t){var e=function(a,o){return a==o},n="function",r=function(a,o){return a(o)},i=this.settings.dropdown.mapValueTo;return i?e(n,typeof i)?r(i,t):t[i]||t.value:t.value},createListHTML(t){var e=function(s,u){return s==u},n="string",r=function(s,u){return s==u},i="number",a=function(s,u){return s==u},o=function(s,u){return s(u)};return function(s,u,c){return s(u,c)}(at,[],t).map((s,u)=>{(e(n,typeof s)||r(i,typeof s))&&(s={value:s});var c=this.dropdown.getMappedValue(s);return c=a(n,typeof c)?o(Lt,c):c,this.settings.templates.dropdownItem.apply(this,[{...s,mappedValue:c},this])}).join("")}},Vt="@yaireo/tagify/",Vn=t=>e=>{var n=function(c,f){return c+f},r=function(c,f){return c==f},i=function(c,f){return c+f},a=function(c,f){return c+f},o=function(c,f){return c+f};let s,u=n("/",e);if(r(1,localStorage.getItem(i(a(Vt,t),"/v"),1)))try{s=JSON.parse(localStorage[o(n(Vt,t),u)])}catch{}return s},Qn=t=>t?(localStorage.setItem(Vt+t+"/v",1),(e,n)=>{var r=function(c,f){return c+f},i=function(c,f){return c&&f},a=function(c,f){return c(f)},o="storage";let s=r("/",n),u=JSON.stringify(e);i(e,n)&&(localStorage.setItem(r(r(Vt,t),s),u),a(dispatchEvent,new Event(o)))}):()=>{},Wn=t=>e=>{var n=function(i,a){return i+a};const r=function(i,a){return i+a}(function(i,a){return i+a}(function(i,a){return i+a}(Vt,"/"),t),"/");if(e)localStorage.removeItem(n(r,e));else for(let i in localStorage)i.includes(r)&&localStorage.removeItem(i)},Kn={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},qn={wrapper:(t,e)=>'<tags class="'+e.classNames.namespace+" "+(e.mode?""+e.classNames[e.mode+"Mode"]:"")+" "+t.className+`"
                    `+(e.readonly?"readonly":"")+`
                    `+(e.disabled?"disabled":"")+`
                    `+(e.required?"required":"")+`
                    `+(e.mode==="select"?"spellcheck='false'":"")+`
                    tabIndex="-1">
            <span `+(!e.readonly&&e.userInput?"contenteditable":"")+' tabIndex="0" data-placeholder="'+(e.placeholder||"&#8203;")+'" aria-placeholder="'+(e.placeholder||"")+`"
                class="`+e.classNames.input+`"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="`+(e.mode=="mix")+`"></span>
                &#8203;
        </tags>`,tag(t,{settings:e}){return'<tag title="'+(t.title||t.value)+`"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="`+(e.a11y.focusableTags?0:-1)+`"
                    class="`+e.classNames.tag+" "+(t.class||"")+`"
                    `+this.getAttributes(t)+`>
            <x title='' class="`+e.classNames.tagX+`" role='button' aria-label='remove tag'></x>
            <div>
                <span class="`+e.classNames.tagText+'">'+(t[e.tagTextProp]||t.value)+`</span>
            </div>
        </tag>`},dropdown(t){var e=function(o,s){return o==s},n="manual",r=t.dropdown,i=e(n,r.position),a=""+t.classNames.dropdown;return'<div class="'+(i?"":a)+" "+r.classname+`" role="listbox" aria-labelledby="dropdown">
                    <div data-selector='tagify-suggestions-wrapper' class="`+t.classNames.dropdownWrapper+`"></div>
                </div>`},dropdownContent(t){var e=this.settings,n=this.state.dropdown.suggestions;return`
            `+e.templates.dropdownHeader.call(this,n)+`
            `+t+`
            `+e.templates.dropdownFooter.call(this,n)+`
        `},dropdownItem(t){return"<div "+this.getAttributes(t)+`
                    class='`+this.settings.classNames.dropdownItem+" "+(t.class?t.class:"")+`'
                    tabindex="0"
                    role="option">`+(t.mappedValue||t.value)+"</div>"},dropdownHeader(t){return`<header data-selector='tagify-suggestions-header' class="`+this.settings.classNames.dropdownHeader+'"></header>'},dropdownFooter(t){var e=function(r,i){return r>i},n=function(r,i){return r-i}(t.length,this.settings.dropdown.maxItems);return e(n,0)?`<footer data-selector='tagify-suggestions-footer' class="`+this.settings.classNames.dropdownFooter+`">
                `+n+` more items. Refine your search.
            </footer>`:""},dropdownItemNoMatch:null};function Yn(t){var e=function(F,C,b,A){return F(C,b,A)},n="remove",r=function(F,C){return F==C},i="function",a=function(F,C,b,A){return F(C,b,A)},o="add",s=function(F,C){return F||C},u=function(F,C){return F==C},c="removeTag",f=function(F,C){return F(C)},p="object",h=function(F,C,b){return F(C,b)},l=function(F,C){return F instanceof C},d=function(F,C){return F instanceof C},m=document.createTextNode("");function v(F,C,b){b&&C.split(/\s+/g).forEach(A=>m[F+"EventListener"].call(m,A,b))}return{off(F,C){return e(v,n,F,C),this},on(F,C){return C&&r(i,typeof C)&&a(v,o,F,C),this},trigger(F,C,b){var A;if(b=s(b,{cloneData:!0}),F)if(t.settings.isJQueryPlugin)u(n,F)&&(F=c),f(jQuery,t.DOM.originalInput).triggerHandler(F,[C]);else{try{var w=r(p,typeof C)?C:{value:C};if((w=b.cloneData?h(at,{},w):w).tagify=this,C.event&&(w.event=this.cloneEvent(C.event)),l(C,Object))for(var y in C)d(C[y],HTMLElement)&&(w[y]=C[y]);A=new CustomEvent(F,{detail:w})}catch(x){console.warn(x)}m.dispatchEvent(A)}}}}var Re;function Xn(){var t=function(a,o){return a!==o},e="change";if(!this.settings.mixMode.integrated){var n=this.DOM.originalInput,r=t(this.state.lastOriginalValueReported,n.value),i=new CustomEvent(e,{bubbles:!0});r&&(this.state.lastOriginalValueReported=n.value,i.simulated=!0,n._valueTracker&&n._valueTracker.setValue(Math.random()),n.dispatchEvent(i),this.trigger(e,this.state.lastOriginalValueReported),n.value=this.state.lastOriginalValueReported)}}const Gn={customBinding(){this.customEventsList.forEach(t=>{this.on(t,this.settings.callbacks[t])})},binding(t=!0){var e,n={KaUUp:"addEventListener",AwpPC:"removeEventListener",WPjHq:function(s,u){return s(u)},RSuxk:"tagify.removeAllTags",cfstj:"input",DKxwe:"scope",gDNnF:function(s,u){return s(u)},RlPCB:function(s,u,c){return s(u,c)},EjxyP:function(s,u){return s==u},XbYlH:"mix"},r=this.events.callbacks,i=t?n.KaUUp:n.AwpPC;if(!this.state.mainEvents||!t){for(var a in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&n.WPjHq(jQuery,this.DOM.originalInput).on(n.RSuxk,this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:[n.cfstj,r.onFocusBlur.bind(this)],keydown:[n.cfstj,r.onKeydown.bind(this)],click:[n.DKxwe,r.onClickScope.bind(this)],dblclick:[n.DKxwe,r.onDoubleClickScope.bind(this)],paste:[n.cfstj,r.onPaste.bind(this)],drop:[n.cfstj,r.onDrop.bind(this)],compositionstart:[n.cfstj,r.onCompositionStart.bind(this)],compositionend:[n.cfstj,r.onCompositionEnd.bind(this)]})this.DOM[e[a][0]][i](a,e[a][1]);n.gDNnF(clearInterval,this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=n.RlPCB(setInterval,r.observeOriginalInputValue.bind(this),500);var o=this.listeners.main.inputMutationObserver||new MutationObserver(r.onInputDOMChange.bind(this));o.disconnect(),n.EjxyP(n.XbYlH,this.settings.mode)&&o.observe(this.DOM.input,{childList:!0})}},bindGlobal(t){var e,n={kOrbb:"removeEventListener",ojsyr:"addEventListener",TuUPZ:"keydown",rOxoF:"input",MkXeW:"onInputIE",ThfmK:"onInput",ArNFy:"blur",ZaqTn:"click"},r=this.events.callbacks,i=t?n.kOrbb:n.ojsyr;if(this.listeners&&(t||!this.listeners.global))for(e of(this.listeners.global=this.listeners.global||[{type:this.isIE?n.TuUPZ:n.rOxoF,target:this.DOM.input,cb:r[this.isIE?n.MkXeW:n.ThfmK].bind(this)},{type:n.TuUPZ,target:window,cb:r.onWindowKeyDown.bind(this)},{type:n.ArNFy,target:this.DOM.input,cb:r.onFocusBlur.bind(this)},{type:n.ZaqTn,target:document,cb:r.onClickAnywhere.bind(this)}],this.listeners.global))e.target[i](e.type,e.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(t){var e,n,r=function(H,U){return H==U},i=function(H,U){return H>=U},a="blur",o=function(H,U){return H===U},s=function(H,U){return H&&U},u=function(H,U){return H==U},c="focus",f="mix",p=function(H,U){return H==U},h=function(H,U){return H==U},l="select",d=function(H,U){return H===U},m="style",v=this.settings,F=t.target?this.trim(t.target.textContent):"",C=r(null,n=r(null,e=this.value)?void 0:e[0])?void 0:n[v.tagTextProp],b=t.type,A=i(v.dropdown.enabled,0),w={relatedTarget:t.relatedTarget},y=this.state.actions.selectOption&&(A||!v.dropdown.closeOnSelect),x=this.state.actions.addNew&&A,z=t.relatedTarget&&Ut.call(this,t.relatedTarget)&&this.DOM.scope.contains(t.relatedTarget);if(r(a,b)){if(o(t.relatedTarget,this.DOM.scope))return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),v.onChangeAfterBlur&&this.triggerChangeEvent()}if(s(!y,!x)){if(this.state.hasFocus=u(c,b)&&+new Date,this.toggleFocusClass(this.state.hasFocus),r(f,v.mode))return void(u(c,b)?this.trigger(c,w):u(a,t.type)&&(this.trigger(a,w),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection()));if(p(c,b))return this.trigger(c,w),void((o(0,v.dropdown.enabled)||!v.userInput)&&this.dropdown.show(this.value.length?"":void 0));h(a,b)&&(this.trigger(a,w),this.loading(!1),r(l,v.mode)&&(z&&(this.removeTags(),F=""),d(C,F)&&(F="")),F&&!this.state.actions.selectOption&&v.addTagOnBlur&&this.addTags(F,!0)),this.DOM.input.removeAttribute(m),this.dropdown.hide()}},onCompositionStart(t){this.state.composing=!0},onCompositionEnd(t){this.state.composing=!1},onWindowKeyDown(t){var e,n="readonly",r=function(c,f){return c&&f},i="Backspace",a="Enter",o=function(c,f,p,h){return c(f,p,h)},s=document.activeElement,u=Ut.call(this,s)&&this.DOM.scope.contains(document.activeElement);if(r(u,!(u&&s.hasAttribute(n))))switch(e=s.nextElementSibling,t.key){case i:this.settings.readonly||(this.removeTags(s),(e||this.DOM.input).focus());break;case a:o(setTimeout,this.editTag.bind(this),0,s)}},onKeydown(t){var e=function(V,q){return V(q)},n="remove",r=function(V,q){return V(q)},i=function(V,q){return V==q},a="select",o=function(V,q){return V!=q},s="Tab",u="keydown",c="mix",f="Left",p="ArrowLeft",h="Delete",l="Backspace",d=function(V,q){return V==q},m=function(V,q){return V==q},v=function(V,q){return V===q},F=function(V,q){return V==q},C=function(V,q){return V==q},b="edit",A=function(V,q){return V==q},w=function(V,q,mt,Ht){return V(q,mt,Ht)},y=function(V){return V()},x=function(V,q){return V instanceof q},z=function(V,q){return V(q)},H="readonly",U=function(V,q){return V(q)},J=function(V,q){return V==q},B=function(V,q){return V||q},T=function(V,q){return V==q},D=function(V,q){return V-q},_=function(V,q){return V instanceof q},j=function(V,q){return V==q},W=function(V,q){return V||q},S="Range",O=function(V,q){return V==q},Y=function(V,q){return V!=q},K=function(V,q){return V==q},E=function(V,q,mt){return V(q,mt)},k=function(V,q){return V==q},P="manual",$=function(V,q){return V===q},L=function(V,q){return V==q},I=function(V,q,mt){return V(q,mt)},Q="Esc",Z="Escape",lt="Down",ht="ArrowDown",Ct="ArrowRight",X=function(V,q){return V==q},G=function(V,q){return V||q},tt="Enter",dt=function(V,q){return V(q)},ft=this.settings;if(!this.state.composing&&ft.userInput){i(a,ft.mode)&&ft.enforceWhitelist&&this.value.length&&o(s,t.key)&&t.preventDefault();var Bt=this.trim(t.target.textContent);if(this.trigger(u,{event:t}),i(c,ft.mode)){switch(t.key){case f:case p:this.state.actions.ArrowLeft=!0;break;case h:case l:if(this.state.editing)return;var rt=document.getSelection(),zt=i(h,t.key)&&i(rt.anchorOffset,rt.anchorNode.length||0),se=rt.anchorNode.previousSibling,Tt=d(1,rt.anchorNode.nodeType)||!rt.anchorOffset&&se&&m(1,se.nodeType)&&rt.anchorNode.previousSibling;r(Ke,this.DOM.input.innerHTML);var Kt,Nt,ue,It=this.getTagElms(),ce=v(1,rt.anchorNode.length)&&F(rt.anchorNode.nodeValue,"​");if(C(b,ft.backspace)&&Tt)return Kt=A(1,rt.anchorNode.nodeType)?null:rt.anchorNode.previousElementSibling,w(setTimeout,this.editTag.bind(this),0,Kt),void t.preventDefault();if(y(Xe)&&x(Tt,Element))return ue=z(qe,Tt),Tt.hasAttribute(H)||Tt.remove(),this.DOM.input.focus(),void U(setTimeout,()=>{e(Pt,ue),this.DOM.input.click()});if(J("BR",rt.anchorNode.nodeName))return;if(B(zt,Tt)&&T(1,rt.anchorNode.nodeType)?Nt=m(0,rt.anchorOffset)?zt?It[0]:null:It[D(Math.min(It.length,rt.anchorOffset),1)]:zt?Nt=rt.anchorNode.nextElementSibling:_(Tt,Element)&&(Nt=Tt),j(3,rt.anchorNode.nodeType)&&!rt.anchorNode.nodeValue&&rt.anchorNode.previousElementSibling&&t.preventDefault(),W(Tt,zt)&&!ft.backspace||o(S,rt.type)&&!rt.anchorOffset&&O(rt.anchorNode,this.DOM.input)&&o(h,t.key))return void t.preventDefault();if(Y(S,rt.type)&&Nt&&Nt.hasAttribute(H))return void r(Pt,r(qe,Nt));K(h,t.key)&&ce&&r(nt,rt.anchorNode.nextSibling)&&this.removeTags(rt.anchorNode.nextSibling),e(clearTimeout,Re),Re=E(setTimeout,()=>{var V={QnmUk:function(mt,Ht){return e(mt,Ht)},wIdmA:n},q=document.getSelection();r(Ke,this.DOM.input.innerHTML),!zt&&q.anchorNode.previousSibling,this.value=[].map.call(It,(mt,Ht)=>{var qt=V.QnmUk(nt,mt);if(mt.parentNode||qt.readonly)return qt;this.trigger(V.wIdmA,{tag:mt,index:Ht,data:qt})}).filter(mt=>mt)},20)}return!0}switch(t.key){case l:k(a,ft.mode)&&ft.enforceWhitelist&&this.value.length?this.removeTags():(!this.state.dropdown.visible||K(P,ft.dropdown.position))&&(C("",t.target.textContent)||j(8203,Bt.charCodeAt(0)))&&($(!0,ft.backspace)?this.removeTags():L(b,ft.backspace)&&I(setTimeout,this.editTag.bind(this),0));break;case Q:case Z:if(this.state.dropdown.visible)return;t.target.blur();break;case lt:case ht:this.state.dropdown.visible||this.dropdown.show();break;case Ct:{let V=this.state.inputSuggestion||this.state.ddItemData;if(V&&ft.autoComplete.rightKey)return void this.addTags([V],!0);break}case s:{let V=X(a,ft.mode);if(G(!Bt,V))return!0;t.preventDefault()}case tt:if(this.state.dropdown.visible&&o(P,ft.dropdown.position))return;t.preventDefault(),dt(setTimeout,()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(Bt,!0)})}}},onInput(t){for(var e={hfbPW:"4|2|0|3|1",zQogG:function(c,f){return c==f},vkzkg:"mix",LkbxS:"select",YfZLA:function(c,f){return c!=f},PSzrk:function(c,f){return c>=f},ARguh:"show",esDYr:"hide",tgRYP:"input",lKdgU:function(c,f){return c>=f}},n=e.hfbPW.split("|"),r=0;;){switch(n[r++]){case"0":if(e.zQogG(e.vkzkg,i.mode))return this.events.callbacks.onMixTagsInput.call(this,t);continue;case"1":e.zQogG(e.LkbxS,i.mode)&&this.toggleScopeValidation(u),s.isValid=u,e.YfZLA(this.state.inputText,a)&&(this.input.set.call(this,a,!1),e.YfZLA(-1,a.search(i.delimiters))?this.addTags(a)&&this.input.set.call(this):e.PSzrk(i.dropdown.enabled,0)&&this.dropdown[o?e.ARguh:e.esDYr](a),this.trigger(e.tgRYP,s));continue;case"2":var i=this.settings;continue;case"3":var a=this.input.normalize.call(this),o=e.lKdgU(a.length,i.dropdown.enabled),s={value:a,inputElm:this.DOM.input},u=this.validateTag({value:a});continue;case"4":this.postUpdate();continue}break}},onMixTagsInput(t){for(var e={oFaef:"5|0|1|4|2|3",ZfJVg:function(b,A){return b==A},HlEtc:"deleteContentBackward",yyuGq:function(b){return b()},UDOxN:"Backspace",iqRrR:function(b,A){return b(A)},VWHzS:function(b,A){return b!=A},GlBSQ:function(b,A){return b>A},zbHad:function(b,A){return b==A},xnTsX:function(b,A){return b-A},wREXJ:function(b,A){return b-A},CEgLg:function(b,A){return b>=A},XtnEZ:function(b,A){return b==A},Iowaf:function(b,A){return b<A},zpGTB:function(b,A,w){return b(A,w)},isHDh:"input",UlgnT:function(b,A,w,y){return b(A,w,y)},oREil:"show",CpxGN:"hide"},n=e.oFaef.split("|"),r=0;;){switch(n[r++]){case"0":var i,a,o,s,u,c,f,p,h=this.settings,l=this.value.length,d=this.getTagElms(),m=document.createDocumentFragment(),v=window.getSelection().getRangeAt(0),F=[].map.call(d,b=>nt(b).value);continue;case"1":if(e.ZfJVg(e.HlEtc,t.inputType)&&e.yyuGq(Xe)&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:e.UDOxN}),e.iqRrR(Ze,this.getTagElms()),this.value.slice().forEach(b=>{b.readonly&&!F.includes(b.value)&&m.appendChild(this.createTagElem(b))}),m.childNodes.length&&(v.insertNode(m),this.setRangeAtStartEnd(!1,m.lastChild)),e.VWHzS(d.length,l))return this.value=[].map.call(this.getTagElms(),b=>nt(b)),void this.update({withoutChangeEvent:!0});continue;case"2":if(window.getSelection&&e.GlBSQ((c=window.getSelection()).rangeCount,0)&&e.zbHad(3,c.anchorNode.nodeType)){if((v=c.getRangeAt(0).cloneRange()).collapse(!0),v.setStart(c.focusNode,0),o=e.xnTsX((i=v.toString().slice(0,v.endOffset)).split(h.pattern).length,1),(a=i.match(h.pattern))&&(s=i.slice(i.lastIndexOf(a[e.wREXJ(a.length,1)]))),s){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:s.match(h.pattern)[0],value:s.replace(h.pattern,"")},this.state.tag.baseOffset=e.xnTsX(c.baseOffset,this.state.tag.value.length),p=this.state.tag.value.match(h.delimiters))return this.state.tag.value=this.state.tag.value.replace(h.delimiters,""),this.state.tag.delimiters=p[0],this.addTags(this.state.tag.value,h.dropdown.clearOnSelect),void this.dropdown.hide();u=e.CEgLg(this.state.tag.value.length,h.dropdown.enabled);try{f=e.XtnEZ((f=this.state.flaggedTags[this.state.tag.baseOffset]).prefix,this.state.tag.prefix)&&e.ZfJVg(f.value[0],this.state.tag.value[0]),this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(f||e.Iowaf(o,this.state.mixMode.matchedPatternCount))&&(u=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=o}continue;case"3":e.zpGTB(setTimeout,()=>{this.update({withoutChangeEvent:!0}),this.trigger(C.kHvBb,C.akwBL(at,{},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[u?C.rALJU:C.vSmYG](this.state.tag.value)},10);continue;case"4":if(this.hasMaxTags())return!0;continue;case"5":var C={kHvBb:e.isHDh,akwBL:function(b,A,w,y){return e.UlgnT(b,A,w,y)},rALJU:e.oREil,vSmYG:e.CpxGN};continue}break}},onInputIE(t){var e=this;setTimeout(function(){e.events.callbacks.onInput.call(e,t)})},observeOriginalInputValue(){var t,e;this.DOM.originalInput.parentNode||this.destroy(),t=this.DOM.originalInput.value,e=this.DOM.originalInput.tagifyValue,t!=e&&this.loadOriginalValues()},onClickAnywhere(t){var e,n;e=t.target,n=this.DOM.scope,e!=n&&!this.DOM.scope.contains(t.target)&&(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(t){var e=function(C,b){return C+b},n=function(C,b){return C-b},r=function(C,b){return C!=b},i="click",a=function(C,b){return C(b)},o=function(C,b){return C===b},s=function(C,b){return C===b},u=function(C,b){return C==b},c="mix",f=function(C,b){return C>b},p=function(C,b){return C!=b},h=function(C,b){return C==b},l="select",d=function(C,b){return C===b},m=this.settings,v=t.target.closest(e(".",m.classNames.tag)),F=n(+new Date,this.state.hasFocus);if(r(t.target,this.DOM.scope)){if(!t.target.classList.contains(m.classNames.tagX))return v?(this.trigger(i,{tag:v,index:this.getNodeIndex(v),data:a(nt,v),event:t}),void((o(1,m.editTags)||s(1,m.editTags.clicks))&&this.events.callbacks.onDoubleClickScope.call(this,t))):void(u(t.target,this.DOM.input)&&(u(c,m.mode)&&this.fixFirefoxLastTagNoCaret(),f(F,500))?this.state.dropdown.visible?this.dropdown.hide():s(0,m.dropdown.enabled)&&p(c,m.mode)&&this.dropdown.show(this.value.length?"":void 0):h(l,m.mode)&&d(0,m.dropdown.enabled)&&!this.state.dropdown.visible&&this.dropdown.show());this.removeTags(t.target.parentNode)}else this.DOM.input.focus()},onPaste(t){for(var e={jGtlo:"3|0|4|1|2",YFYzW:function(u,c){return u==c},nNGIa:"select",PeDWd:"Text",UtOwD:function(u,c){return u===c},Sdmpj:"mix",eMqVW:function(u,c){return u+c}},n=e.jGtlo.split("|"),r=0;;){switch(n[r++]){case"0":t.preventDefault();continue;case"1":if(e.YFYzW(e.nNGIa,s.mode)&&s.enforceWhitelist||!s.userInput)return!1;continue;case"2":s.readonly||(a=t.clipboardData||window.clipboardData,o=a.getData(e.PeDWd),s.hooks.beforePaste(t,{tagify:this,pastedText:o,clipboardData:a}).then(u=>{i.pZaDs(void 0,u)&&(u=o),u&&(this.injectAtCaret(u,window.getSelection().getRangeAt(0)),i.YIPMA(i.AWeib,this.settings.mode)?this.events.callbacks.onMixTagsInput.call(this,t):this.settings.pasteAsTags?this.addTags(i.CIgJx(this.state.inputText,u),!0):this.state.inputText=u)}).catch(u=>u));continue;case"3":var i={pZaDs:function(u,c){return e.UtOwD(u,c)},YIPMA:function(u,c){return e.YFYzW(u,c)},AWeib:e.Sdmpj,CIgJx:function(u,c){return e.eMqVW(u,c)}};continue;case"4":var a,o,s=this.settings;continue}break}},onDrop(t){t.preventDefault()},onEditTagInput(t,e){var n=function(F,C){return F+C},r=function(F,C){return F(C)},i=function(F,C,b){return F(C,b)},a=function(F,C){return F===C},o=function(F,C){return F!==C},s=function(F,C){return F===C},u=function(F,C){return F>=C},c="edit:input",f=function(F,C,b,A){return F(C,b,A)},p=t.closest(n(".",this.settings.classNames.tag)),h=this.getNodeIndex(p),l=r(nt,p),d=this.input.normalize.call(this,t),m={[this.settings.tagTextProp]:d,__tagId:l.__tagId},v=this.validateTag(m);!this.editTagChangeDetected(i(at,l,m))&&a(!0,t.originalIsValid)&&(v=!0),p.classList.toggle(this.settings.classNames.tagInvalid,o(!0,v)),l.__isValid=v,p.title=s(!0,v)?l.title||l.value:v,u(d.length,this.settings.dropdown.enabled)&&(this.state.editing&&(this.state.editing.value=d),this.dropdown.show(d)),this.trigger(c,{tag:p,index:h,data:f(at,{},this.value[h],{newValue:d}),event:e})},onEditTagPaste(t,e){var n="Text",r=function(o,s){return o(s)},i=(e.clipboardData||window.clipboardData).getData(n);e.preventDefault();var a=r(Je,i);this.setRangeAtStartEnd(!1,a)},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector("[contenteditable]")}},onEditTagBlur(t){var e={dojgr:"4|3|1|0|2",ZVQAk:function(d,m,v,F){return d(m,v,F)},Fgtsw:function(d,m){return d!==m},sHDzA:function(d,m){return d===m},WZKsI:"invalid",mhsnm:"aria-invalid",sKVlx:function(d,m){return d+m},QUnVk:function(d,m){return d(m)},cMEAl:function(d,m,v){return d(m,v)}};if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t))for(var n=e.dojgr.split("|"),r=0;;){switch(n[r++]){case"0":if(i=this.hasMaxTags(),a=e.ZVQAk(at,{},p,{[o.tagTextProp]:this.trim(c),__isValid:l}),o.transformTag.call(this,a,p),e.Fgtsw(!0,l=(!i||e.sHDzA(!0,p.__isValid))&&this.validateTag(a))){if(this.trigger(e.WZKsI,{data:a,tag:s,message:l}),o.editTags.keepInvalid)return;o.keepInvalidTags?a.__isValid=l:a=p}else o.keepInvalidTags&&(delete a.title,delete a[e.mhsnm],delete a.class);continue;case"1":if(!h)return void this.onEditTagDone(s,p);continue;case"2":this.onEditTagDone(s,a);continue;case"3":if(!c)return void this.onEditTagDone(s);continue;case"4":var i,a,o=this.settings,s=t.closest(e.sKVlx(".",o.classNames.tag)),u=e.QUnVk(nt,s),c=this.input.normalize.call(this,t),f={[o.tagTextProp]:c,__tagId:u.__tagId},p=u.__originalData,h=this.editTagChangeDetected(e.cMEAl(at,u,f)),l=this.validateTag(f);continue}break}},onEditTagkeydown(t,e){var n="edit:keydown",r="Esc",i="Escape",a="Enter",o="Tab";if(!this.state.composing)switch(this.trigger(n,{event:t}),t.key){case r:case i:e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e),this.state.editing=!1;case a:case o:t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,n,r=function(d,m){return d+m},i=function(d,m){return d(m)},a=function(d,m){return d===m},o="readonly",s=function(d,m){return d!=m},u="select",c="dblclick",f=function(d,m){return d(m)},p=t.target.closest(r(".",this.settings.classNames.tag)),h=i(nt,p),l=this.settings;!p||!l.userInput||a(!1,h.editable)||(e=p.classList.contains(this.settings.classNames.tagEditing),n=p.hasAttribute(o),s(u,l.mode)&&!l.readonly&&!e&&!n&&this.settings.editTags&&this.editTag(p),this.toggleFocusClass(!0),this.trigger(c,{tag:p,index:this.getNodeIndex(p),data:f(nt,p)}))},onInputDOMChange(t){var e=function(l,d){return l==d},n="<div><br></div>",r=function(l,d){return l==d},i=function(l,d){return l!=d},a=function(l,d){return l(d)},o=function(l,d){return l==d},s=function(l,d){return l+d},u=function(l,d){return l(d)},c=function(l,d){return l==d},f=function(l,d){return l==d},p=function(l,d){return l!=d};t.forEach(l=>{l.addedNodes.forEach(d=>{var m;if(e(n,d.outerHTML))d.replaceWith(document.createElement("br"));else if(r(1,d.nodeType)&&d.querySelector(this.settings.classNames.tagSelector)){let v=document.createTextNode("");r(3,d.childNodes[0].nodeType)&&i("BR",d.previousSibling.nodeName)&&(v=document.createTextNode(`
`)),d.replaceWith(v,...[...d.childNodes].slice(0,-1)),a(Pt,v)}else if(Ut.call(this,d))if(o(3,r(null,m=d.previousSibling)?void 0:m.nodeType)&&!d.previousSibling.textContent&&d.previousSibling.remove(),d.previousSibling&&e("BR",d.previousSibling.nodeName)){d.previousSibling.replaceWith(s(`
`,fe));let v=d.nextSibling,F="";for(;v;)F+=v.textContent,v=v.nextSibling;F.trim()&&a(Pt,d.previousSibling)}else(!d.previousSibling||u(nt,d.previousSibling))&&d.before(fe)}),l.removedNodes.forEach(d=>{d&&c("BR",d.nodeName)&&Ut.call(this,h)&&(this.removeTags(h),this.fixFirefoxLastTagNoCaret())})});var h=this.DOM.input.lastChild;h&&f("",h.nodeValue)&&h.remove(),(!h||p("BR",h.nodeName))&&this.DOM.input.appendChild(document.createElement("br"))}}};function Jt(t,e){var n="Tagify:",r="input element not found",i="Tagify: ",a="input element is already Tagified - Same instance is returned.",o=function(h,l,d){return h(l,d)},s=function(h,l){return h(l)},u=function(h,l){return h||l},c=function(h,l){return h(l)},f=function(h,l){return h(l)},p=function(h,l){return h(l)};if(!t){console.warn(n,r,t);const h=new Proxy(this,{get:()=>()=>h});return h}if(t.__tagify)return console.warn(i,a,t),t.__tagify;o(at,this,s(Yn,this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,e=u(e,{}),this.getPersistedData=c(Vn,e.id),this.setPersistedData=f(Qn,e.id),this.clearPersistedData=p(Wn,e.id),this.applySettings(t,e),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),Un.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}Jt.prototype={_dropdown:jn,getSetTagData:nt,helpers:{sameStr:jt,removeCollectionProp:We,omit:ge,isObject:Mt,parseHTML:he,escapeHTML:Lt,extend:at,concatWithoutDups:Ye,getUID:Ge,isNodeTag:Ut},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(t){var e=function(r,i){return r==i},n="string";return this.settings.trim&&t&&e(n,typeof t)?t.trim():t},parseHTML:he,templates:qn,parseTemplate(t,e){var n,r;return n=he,r=(t=this.settings.templates[t]||t).apply(this,e),n(r)},set whitelist(t){const e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(t){var e=function(r,i){return r+i},n="Selector";for(let r in t){let i=r;Object.defineProperty(t,e(i,n),{get(){return e(".",this[i].split(" ")[0])}})}},applySettings(t,e){var n,r,i={hMEZi:function(u,c){return u+c},LcFIp:"data-",GfVkO:function(u,c){return u instanceof c},VZGsP:function(u,c,f,p){return u(c,f,p)},nPiXf:function(u,c){return u==c},zAMQE:"mix",YGmgD:"text",WcXki:"disabled",VllYa:"readonly",xGFQB:function(u,c){return u(c)},qwXdN:"placeholder",eEtmB:"required",xqSqW:function(u,c){return u===c},aCdvs:"whitelist",fhIKr:"blacklist",Xqmix:function(u,c){return u in c},oNQnj:"autoComplete",rbFLQ:function(u,c){return u(c)},obOmQ:function(u,c){return u==c},kIUWU:"select",rhdMo:function(u,c){return u!=c},kQHpU:function(u,c,f){return u(c,f)}};pe.templates=this.templates;var a=i.VZGsP(at,{},pe,i.nPiXf(i.zAMQE,e.mode)?{dropdown:{position:i.YGmgD}}:{}),o=this.settings=i.VZGsP(at,{},a,e);if(o.disabled=t.hasAttribute(i.WcXki),o.readonly=o.readonly||t.hasAttribute(i.VllYa),o.placeholder=i.xGFQB(Lt,t.getAttribute(i.qwXdN)||o.placeholder||""),o.required=t.hasAttribute(i.eEtmB),this.generateClassSelectors(o.classNames),i.xqSqW(void 0,o.dropdown.includeSelectedTags)&&(o.dropdown.includeSelectedTags=o.duplicates),this.isIE&&(o.autoComplete=!1),[i.aCdvs,i.fhIKr].forEach(u=>{var c=t.getAttribute(i.hMEZi(i.LcFIp,u));c&&i.GfVkO(c=c.split(o.delimiters),Array)&&(o[u]=c)}),i.Xqmix(i.oNQnj,e)&&!i.rbFLQ(Mt,e.autoComplete)&&(o.autoComplete=pe.autoComplete,o.autoComplete.enabled=e.autoComplete),i.obOmQ(i.zAMQE,o.mode)&&(o.pattern=o.pattern||/@/,o.autoComplete.rightKey=!0,o.delimiters=e.delimiters||null,o.tagTextProp&&!o.dropdown.searchKeys.includes(o.tagTextProp)&&o.dropdown.searchKeys.push(o.tagTextProp)),t.pattern)try{o.pattern=new RegExp(t.pattern)}catch{}if(o.delimiters){o._delimiters=o.delimiters;try{o.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}o.disabled&&(o.userInput=!1),this.TEXTS={...Kn,...o.texts||{}},(i.obOmQ(i.kIUWU,o.mode)&&!(i.rhdMo(null,n=e.dropdown)&&n.enabled)||!o.userInput)&&(o.dropdown.enabled=0),o.dropdown.appendTarget=(i.nPiXf(null,r=e.dropdown)?void 0:r.appendTarget)||document.body;let s=this.getPersistedData(i.aCdvs);Array.isArray(s)&&(this.whitelist=Array.isArray(o.whitelist)?i.kQHpU(Ye,o.whitelist,s):s)},getAttributes(t){var e,n=function(s,u){return s+u},r=function(s,u){return s+u},i=function(s,u){return s!==u},a=this.getCustomAttributes(t),o="";for(e in a)o+=n(r(" ",e),i(void 0,t[e])?'="'+a[e]+'"':"");return o},getCustomAttributes(t){var e=function(s,u){return s(u)},n=function(s,u){return s!=u},r="class",i=function(s,u){return s!==u};if(!e(Mt,t))return"";var a,o={};for(a in t)n("__",a.slice(0,2))&&n(r,a)&&t.hasOwnProperty(a)&&i(void 0,t[a])&&(o[a]=e(Lt,t[a]));return o},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCSSVars(){var t,e="tag-hide-transition",n=function(i,a){return i+a},r=function(i,a,o){return i(a,o)}(getComputedStyle,this.DOM.scope,null);this.CSSVars={tagHideTransition:(({value:i,unit:a})=>a=="s"?1e3*i:i)(function(i){if(!i)return{};var a=(i=i.trim().split(" ")[0]).split(/\d+/g).filter(o=>o).pop().trim();return{value:+i.split(a).filter(o=>o)[0].trim(),unit:a}}((t=e,r.getPropertyValue(n("--",t)))))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate("wrapper",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1)},destroy(){var t=function(e,n){return e(n)};this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),t(clearTimeout,this.dropdownHide__bindEventsTimeout),t(clearInterval,this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(t){var e,n=function(p,h){return p===h},r="value",i=function(p,h){return p==h},a="mix",o=function(p,h){return p!=h},s="beforeend",u="<br>",c=function(p,h){return p instanceof h},f=this.settings;if(this.state.blockChangeEvent=!0,n(void 0,t)){const p=this.getPersistedData(r);t=p&&!this.DOM.originalInput.value?p:f.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if(i(a,f.mode))this.parseMixTags(t),(!(e=this.DOM.input.lastChild)||o("BR",e.tagName))&&this.DOM.input.insertAdjacentHTML(s,u);else{try{c(JSON.parse(t),Array)&&(t=JSON.parse(t))}catch{}this.addTags(t,!0).forEach(p=>p&&p.classList.add(f.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=f.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(t){var e=function(a,o){return a!=o},n="path",r={};for(var i in t)e(n,i)&&(r[i]=t[i]);return r},loading(t){var e="add",n="remove";return this.state.isLoading=t,this.DOM.scope.classList[t?e:n](this.settings.classNames.scopeLoading),this},tagLoading(t,e){var n="add",r="remove";return t&&t.classList[e?n:r](this.settings.classNames.tagLoading),this},toggleClass(t,e){(function(n,r){return n==r})("string",typeof t)&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation(t){var e=function(i,a){return i===a},n=function(i,a){return i===a},r=function(i,a){return i===a}(!0,t)||e(void 0,t);!this.settings.required&&t&&n(t,this.TEXTS.empty)&&(r=!0),this.toggleClass(this.settings.classNames.tagInvalid,!r),this.DOM.scope.title=r?"":t},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:Xn,events:Gn,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(t,e){var n={BoRJS:function(i,a){return i==a},JFJJC:"number",nrSiX:function(i,a){return i instanceof a},RdDvv:function(i,a){return i>=a},aTFfw:"Start",ttQJK:"End"};if(e){t=n.BoRJS(n.JFJJC,typeof t)?t:!!t,e=e.lastChild||e;var r=document.getSelection();if(n.nrSiX(r.focusNode,Element)&&!this.DOM.input.contains(r.focusNode))return!0;try{n.RdDvv(r.rangeCount,1)&&[n.aTFfw,n.ttQJK].forEach(i=>r.getRangeAt(0)["set"+i](e,t||e.length))}catch{}}},insertAfterTag(t,e){var n=function(i,a){return i==a},r="string";if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e=n(r,typeof e)?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected(t){var e=function(i,a){return i!=a},n=t.__originalData;for(var r in n)if(!this.dataProps.includes(r)&&e(t[r],n[r]))return!0;return!1},getTagTextNode(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(t,e){this.getTagTextNode(t).innerHTML=Lt(e)},editTag(t,e){for(var n={OaCSB:"4|3|1|0|2",adGTv:function(l,d){return l instanceof d},yhPIN:function(l,d){return l in d},VKYVp:"editable",YfgXh:function(l,d,m){return l(d,m)},gqMZQ:"contenteditable",lmGoL:"focus",ZBqqH:"blur",nNYuE:"input",kdczk:"paste",fTsUl:"keydown",QfnTb:"compositionstart",JXoMP:"compositionend",BZKBF:"edit:start",gFeWG:function(l,d){return l(d)},eELwY:"Cannot find element in Tag template: .",NQUwk:function(l,d){return l||d},NuWOE:function(l,d){return l(d)}},r=n.OaCSB.split("|"),i=0;;){switch(r[i++]){case"0":if(o)return n.adGTv(u,Object)&&n.yhPIN(n.VKYVp,u)&&!u.editable?void 0:(u=n.YfgXh(nt,t,{__originalData:n.YfgXh(at,{},u),__originalHTML:t.cloneNode(!0)}),n.YfgXh(nt,u.__originalHTML,u.__originalData),o.setAttribute(n.gqMZQ,!0),t.classList.add(a.classNames.tagEditing),o.addEventListener(n.lmGoL,c.onEditTagFocus.bind(this,t)),o.addEventListener(n.ZBqqH,function(){h.hlTpQ(setTimeout,()=>c.onEditTagBlur.call(f,f.getTagTextNode(t)))}),o.addEventListener(n.nNYuE,c.onEditTagInput.bind(this,o)),o.addEventListener(n.kdczk,c.onEditTagPaste.bind(this,o)),o.addEventListener(n.fTsUl,l=>c.onEditTagkeydown.call(this,l,t)),o.addEventListener(n.QfnTb,c.onCompositionStart.bind(this)),o.addEventListener(n.JXoMP,c.onCompositionEnd.bind(this)),e.skipValidation||(p=this.editTagToggleValidity(t)),o.originalIsValid=p,this.trigger(n.BZKBF,{tag:t,index:s,data:u,isValid:p}),o.focus(),this.setRangeAtStartEnd(!1,o),this);continue;case"1":var a=this.settings,o=this.getTagTextNode(t),s=this.getNodeIndex(t),u=n.gFeWG(nt,t),c=this.events.callbacks,f=this,p=!0;continue;case"2":console.warn(n.eELwY,a.classNames.tagTextSelector);continue;case"3":t=t||this.getLastTag(),e=n.NQUwk(e,{}),this.dropdown.hide();continue;case"4":var h={hlTpQ:function(l,d){return n.NuWOE(l,d)}};continue}break}},editTagToggleValidity(t,e){var n,r=function(s,u){return s in u},i="__isValid",a=function(s,u){return s===u},o="tag has no data: ";if(e=e||function(s,u){return s(u)}(nt,t))return(n=!r(i,e)||a(!0,e.__isValid))||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!n),e.__isValid=n,e.__isValid;console.warn(o,t,e)},onEditTagDone(t,e){var n=function(o,s){return o(s)},r="edit:beforeUpdate",i="edit:updated";e=function(o,s){return o||s}(e,{});var a={tag:t=t||this.state.editing.scope,index:this.getNodeIndex(t),previousData:n(nt,t),data:e};this.trigger(r,a,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&e[this.settings.tagTextProp]?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),this.settings.a11y.focusableTags?t.focus():n(Pt,t)):t&&this.removeTags(t),this.trigger(i,a),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){var n=function(a,o){return a!=o},r=function(a,o,s){return a(o,s)};(!e||!e.value)&&(e=t.__tagifyTagData),e.__isValid&&n(1,e.__isValid)&&r(at,e,this.getInvalidTagAttrs(e,e.__isValid));var i=this.createTagElem(e);return t.parentNode.replaceChild(i,t),this.updateValueByDOMTags(),i},updateValueByDOMTags(){var t=function(e,n){return e(n)};this.value.length=0,[].forEach.call(this.getTagElms(),e=>{e.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(t(nt,e))}),this.update()},injectAtCaret(t,e){var n,r=function(i,a,o){return i(a,o)};return!(e=e||(function(i,a){return i==a}(null,n=this.state.selection)?void 0:n.range))&&t?(this.appendMixTags(t),this):(r(Je,t,e),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this)},input:{set(t="",e=!0){var n=function(o,s){return o(s)},r=function(o,s){return o+s},i=function(o,s){return o&&s},a=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=n(Lt,r("",t))),i(!t,a)&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var t,e,n=!this.state.inputText||(t=!0,e=this.validateTag({value:this.state.inputText}),t===e);return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!n),n},normalize(t){var e=t||this.DOM.input,n=[];e.childNodes.forEach(r=>r.nodeType==3&&n.push(r.nodeValue)),n=n.join(`
`);try{n=n.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return n=n.replace(/\s/g," "),this.trim(n)},autocomplete:{suggest(t){var e=function(p,h){return p==h},n="string",r=function(p,h){return p||h},i=function(p,h){return p!=h},a="number",o=function(p,h){return p==h},s="data-suggest";if(this.settings.autoComplete.enabled){e(n,typeof(t=r(t,{value:""})))&&(t={value:t});var u=this.dropdown.getMappedValue(t);if(i(a,typeof u)){var c=u.substr(0,this.state.inputText.length).toLowerCase(),f=u.substring(this.state.inputText.length);u&&this.state.inputText&&o(c,this.state.inputText.toLowerCase())?(this.DOM.input.setAttribute(s,f),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute(s),delete this.state.inputSuggestion)}}},set(t){var e="data-suggest",n=function(s,u){return s+u},r=function(s,u){return s==u},i="mix",a=this.DOM.input.getAttribute(e),o=t||(a?n(this.state.inputText,a):null);return!!o&&(r(i,this.settings.mode)?this.replaceTextWithNode(document.createTextNode(n(this.state.tag.prefix,o))):(this.input.set.call(this,o),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(t){return this.value.findIndex(e=>e.__tagId==(t||{}).__tagId)},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(...t){var e,n,r=(e=".",n=[...this.settings.classNames.tag.split(" "),...t].join("."),e+n);return[].slice.call(this.DOM.scope.querySelectorAll(r))},getLastTag(){var t,e,n=this.DOM.scope.querySelectorAll(this.settings.classNames.tagSelector+":not(."+this.settings.classNames.tagHide+"):not([readonly])");return n[t=n.length,e=1,t-e]},isTagDuplicate(t,e,n){var r=function(s,u,c,f){return s(u,c,f)},i=function(s,u){return s+u},a=function(s,u){return s!=u},o=0;if(function(s,u){return s==u}("select",this.settings.mode))return!1;for(let s of this.value)r(jt,this.trim(i("",t)),s.value,e)&&a(n,s.__tagId)&&o++;return o},getTagIndexByValue(t){var e=function(i,a,o,s){return i(a,o,s)},n=[],r=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((i,a)=>{i.__tagifyTagData&&e(jt,this.trim(i.__tagifyTagData.value),t,r)&&n.push(a)}),n},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{t.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter(e=>(""+e).toLowerCase()==t).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,n){var r=function(f,p){return f==p},i="string",a=function(f,p,h,l,d){return f(p,h,l,d)},o="value",s=function(f,p){return f!=p};e=function(f,p){return f||p}(e,o);var u,c=this.settings;return(n=n||c.whitelist).some(f=>{var p=r(i,typeof f)?f:f[e]||f.value;if(a(jt,p,t,c.dropdown.caseSensitive,c.trim))return u=r(i,typeof f)?{value:f}:f,!0}),!u&&r(o,e)&&s(o,c.tagTextProp)&&(u=this.getWhitelistItem(t,c.tagTextProp,n)),u},validateTag(t){var e=function(f,p){return f in p},n="value",r=function(f,p){return f+p},i=function(f,p){return f!=p},a="mix",o=function(f,p){return f instanceof p},s=this.settings,u=e(n,t)?n:s.tagTextProp,c=this.trim(r(t[u],""));return r(t[u],"").trim()?i(a,s.mode)&&s.pattern&&o(s.pattern,RegExp)&&!s.pattern.test(c)?this.TEXTS.pattern:!s.duplicates&&this.isTagDuplicate(c,s.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(c)||s.enforceWhitelist&&!this.isTagWhitelisted(c)?this.TEXTS.notAllowed:!s.validate||s.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{"aria-invalid":!0,class:((t.class||"")+" "+this.settings.classNames.tagNotAllowed).trim(),title:e}},hasMaxTags(){var t,e;return t=this.value.length,e=this.settings.maxTags,t>=e&&this.TEXTS.exceed},setReadonly(t,e){var n=function(f,p){return f||p},r="readonly",i=function(f,p){return f+p},a="set",o="remove",s="Attribute",u=function(f,p){return f||p},c=this.settings;document.activeElement.blur(),c[n(e,r)]=t,this.DOM.scope[i(t?a:o,s)](u(e,r),!0),this.settings.userInput=!0,this.setContentEditable(!t)},setContentEditable(t){this.settings.userInput&&(this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1)},setDisabled(t){this.setReadonly(t,"disabled")},normalizeTags(t){var e=function(y,x){return y>x},n=function(y,x){return y instanceof x},r=function(y,x){return y!=x},i="mix",a=function(y,x){return y==x},o=function(y,x){return y instanceof x},s=function(y,x){return y==x},u="number",c=function(y,x){return y==x},f="string",p=function(y,x){return y(x)},h=function(y,x){return y&&x},{whitelist:l,delimiters:d,mode:m,tagTextProp:v}=this.settings,F=[],C=!!l&&o(l[0],Object),b=Array.isArray(t),A=b&&t[0].value,w=y=>(y+"").split(d).filter(x=>x).map(x=>({[v]:this.trim(x),value:this.trim(x)}));if(s(u,typeof t)&&(t=t.toString()),c(f,typeof t)){if(!t.trim())return[];t=p(w,t)}else b&&(t=[].concat(...t.map(y=>y.value!=null?y:w(y))));return h(C,!A)&&(t.forEach(y=>{var x=F.map(U=>U.value),z=this.dropdown.filterListItems.call(this,y[v],{exact:!0});this.settings.duplicates||(z=z.filter(U=>!x.includes(U.value)));var H=e(z.length,1)?this.getWhitelistItem(y[v],v,z):z[0];H&&n(H,Object)?F.push(H):r(i,m)&&(a(null,y.value)&&(y.value=y[v]),F.push(y))}),F.length&&(t=F)),t},parseMixTags(t,e){for(var n={YuJaR:"2|0|1|5|4|3",KKXTz:function(d,m){return d==m},AiGMv:function(d,m){return d==m},WpdMU:function(d,m){return d>m},tcaUC:function(d,m){return d&&m},hSxTk:function(d,m){return d+m},Flgfj:"value",rpYEg:function(d,m,v){return d(m,v)}},r=n.YuJaR.split("|"),i=0;;){switch(r[i++]){case"0":var{mixTagsInterpolator:a,duplicates:o,transformTag:s,enforceWhitelist:u,maxTags:c,tagTextProp:f}=this.settings,p=[];continue;case"1":if(t=t.split(a[0]).map((d,m)=>{var v,F,C,b=d.split(a[1]),A=b[0],w=h.xmtcf(p.length,c);try{if(h.sPZkL(A,+A))throw Error;F=JSON.parse(A)}catch{F=this.normalizeTags(A)[0]||{value:A}}if(s.call(this,F),w||!h.DKBtF(b.length,1)||u&&!this.isTagWhitelisted(F.value)||h.xKuWH(!o,!e)&&this.isTagDuplicate(F.value)){if(d)return m?h.pkjwH(a[0],d):d}else F[v=F[f]?f:h.Cxzxu]=this.trim(F[v]),C=this.createTagElem(F),p.push(F),C.classList.add(this.settings.classNames.tagNoAnimation),b[0]=C.outerHTML,this.value.push(F);return b.join("")}).join(""),e)return t;continue;case"2":var h={xmtcf:function(d,m){return n.KKXTz(d,m)},sPZkL:function(d,m){return n.AiGMv(d,m)},DKBtF:function(d,m){return n.WpdMU(d,m)},xKuWH:function(d,m){return n.tcaUC(d,m)},pkjwH:function(d,m){return n.hSxTk(d,m)},Cxzxu:n.Flgfj};continue;case"3":return l.forEach((d,m)=>nt(d,p[m])),this.update({withoutChangeEvent:!0}),n.rpYEg(Ze,l,this.state.hasFocus),t;case"4":var l=this.getTagElms();continue;case"5":this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();continue}break}},replaceTextWithNode(t,e){var n=function(f,p){return f+p},r=function(f,p){return f-p},i=function(f,p){return f==p};if(this.state.tag||e){e=e||n(this.state.tag.prefix,this.state.tag.value);var a,o,s=this.state.selection||window.getSelection(),u=s.anchorNode,c=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return u.splitText(r(s.anchorOffset,c)),i(-1,a=u.nodeValue.lastIndexOf(e))||(o=u.splitText(a),t&&u.parentNode.replaceChild(t,o)),!0}},selectTag(t,e){var n=function(o,s){return o(s)},r="add",i=this.settings;if(!i.enforceWhitelist||this.isTagWhitelisted(e.value)){this.input.set.call(this,e[i.tagTextProp]||e.value,!0),this.state.actions.selectOption&&n(setTimeout,()=>this.setRangeAtStartEnd(!1,this.DOM.input));var a=this.getLastTag();return a?this.replaceTag(a,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger(r,{tag:t,data:e}),[t]}},addEmptyTag(t){var e=function(i,a,o){return i(a,o)},n=e(at,{value:""},function(i,a){return i||a}(t,{})),r=this.createTagElem(n);e(nt,r,n),this.appendTag(r),this.editTag(r,{skipValidation:!0})},addTags(t,e,n){for(var r={dvWbO:"3|4|1|2|0",AGKkW:"style",VbSoh:function(p,h){return p==h},HdUEE:"mix",FndfA:"select",uGzmZ:function(p,h){return p+h},MwzCD:function(p,h){return p!==h},GiyZN:function(p,h,l,d){return p(h,l,d)},yxgoV:function(p,h){return p==h},biIaX:function(p,h){return p in h},QxgDv:"readonly",lqwVt:"aria-readonly",LpUyf:function(p,h){return p==h},aKEBJ:function(p,h){return p===h},NauZE:"add",GnGQE:function(p,h){return p-h},ZcaNO:"invalid",ynDzt:function(p,h,l){return p(h,l)}},i=r.dvWbO.split("|"),a=0;;){switch(i[a++]){case"0":return this.DOM.input.removeAttribute(r.AGKkW),t.forEach(p=>{var h,l={},d=Object.assign({},p,{value:o.ZSYqq(p.value,"")});if(p=Object.assign({},d),u.transformTag.call(this,p),p.__isValid=this.hasMaxTags()||this.validateTag(p),o.pabPi(!0,p.__isValid)){if(n)return;if(o.vZeOP(at,l,this.getInvalidTagAttrs(p,p.__isValid),{__preInvalidData:d}),o.qrmZD(p.__isValid,this.TEXTS.duplicate)&&this.flashTag(this.getTagElmByValue(p.value)),!u.createInvalidTags)return void c.push(p.value)}if(o.JXWia(o.RtFtf,p)&&(p.readonly?l[o.HLjuV]=!0:delete p.readonly),h=this.createTagElem(p,l),s.push(h),o.oWucu(o.HHvPj,u.mode))return this.selectTag(h,p);f.appendChild(h),p.__isValid&&o.RcyRX(!0,p.__isValid)?(this.value.push(p),this.trigger(o.pZGfg,{tag:h,index:o.pcioo(this.value.length,1),data:p})):(this.trigger(o.bDgcf,{data:p,index:this.value.length,tag:h,message:p.__isValid}),u.keepInvalidTags||o.xsGbh(setTimeout,()=>this.removeTags(h,!0),1e3)),this.dropdown.position()}),this.appendTag(f),this.update(),t.length&&e&&(this.input.set.call(this,u.createInvalidTags?"":c.join(u._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),u.dropdown.enabled&&this.dropdown.refilter(),s;case"1":if(n=n||u.skipInvalid,!t||r.VbSoh(0,t.length))return s;continue;case"2":switch(t=this.normalizeTags(t),u.mode){case r.HdUEE:return this.addMixTags(t);case r.FndfA:e=!1,this.removeAllTags()}continue;case"3":var o={ZSYqq:function(p,h){return r.uGzmZ(p,h)},pabPi:function(p,h){return r.MwzCD(p,h)},vZeOP:function(p,h,l,d){return r.GiyZN(p,h,l,d)},qrmZD:function(p,h){return r.yxgoV(p,h)},JXWia:function(p,h){return r.biIaX(p,h)},RtFtf:r.QxgDv,HLjuV:r.lqwVt,oWucu:function(p,h){return r.LpUyf(p,h)},HHvPj:r.FndfA,RcyRX:function(p,h){return r.aKEBJ(p,h)},pZGfg:r.NauZE,pcioo:function(p,h){return r.GnGQE(p,h)},bDgcf:r.ZcaNO,xsGbh:function(p,h,l){return r.ynDzt(p,h,l)}};continue;case"4":var s=[],u=this.settings,c=[],f=document.createDocumentFragment();continue}break}},addMixTags(t){if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);var e=document.createDocumentFragment();return t.forEach(n=>{var r=this.createTagElem(n);e.appendChild(r)}),this.appendMixTags(e),e},appendMixTags(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(t){var e,n=function(c,f,p){return c(f,p)},r=function(c,f,p,h){return c(f,p,h)},i="add",a=function(c,f,p,h){return c(f,p,h)},o=this.settings,s=this.state.tag.delimiters;if(o.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(o.pattern.source||o.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),n(setTimeout,()=>e.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(t),this.update(),!s){var u=this.insertAfterTag(e)||e;r(setTimeout,Pt,0,u)}return this.state.tag=null,this.trigger(i,a(at,{},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,n=e.input;e.scope.insertBefore(t,n)},createTagElem(t,e){var n=function(f){return f()},r=function(f,p,h,l){return f(p,h,l)},i=function(f,p){return f(p)},a=function(f,p){return f+p},o="tag",s=function(f,p,h){return f(p,h)};t.__tagId=n(Ge);var u,c=r(at,{},t,{value:i(Lt,a(t.value,"")),...e});return i(Bn,u=this.parseTemplate(o,[c,this])),s(nt,u,t),u},reCheckInvalidTags(){var t=function(o,s){return o(s)},e=function(o,s){return o===s},n=function(o,s){return o==s},r="select",i=function(o,s){return o||s},a=this.settings;this.getTagElms(a.classNames.tagNotAllowed).forEach((o,s)=>{var u=t(nt,o),c=this.hasMaxTags(),f=this.validateTag(u),p=e(!0,f)&&!c;if(n(r,a.mode)&&this.toggleScopeValidation(f),p)return u=u.__preInvalidData?u.__preInvalidData:{value:u.value},this.replaceTag(o,u);o.title=i(c,f)})},removeTags(t,e,n){var r,i=function(A,w){return A==w},a="string",o=function(A,w){return A(w)},s=function(A,w){return A&&w},u=function(A,w,y){return A(w,y)},c=function(A,w){return A+w},f=function(A,w,y,x){return A(w,y,x)},p="remove",h=function(A,w){return A>w},l=function(A,w){return A==w},d=function(A,w){return A==w},m="select",v=function(A,w){return A instanceof w},F="number",C=function(A,w){return A!=w},b=this.settings;if(t=t&&v(t,HTMLElement)?[t]:v(t,Array)?t:t?[t]:[this.getLastTag()],r=t.reduce((A,w)=>{w&&i(a,typeof w)&&(w=this.getTagElmByValue(w));var y=o(nt,w);return s(w,y)&&!y.readonly&&A.push({node:w,idx:this.getTagIdx(y),data:u(nt,w,{__removed:!0})}),A},[]),n=i(F,typeof n)?n:this.CSSVars.tagHideTransition,l(m,b.mode)&&(n=0,this.input.set.call(this)),i(1,r.length)&&C(m,b.mode)&&r[0].node.classList.contains(b.classNames.tagNotAllowed)&&(e=!0),r.length)return b.hooks.beforeRemoveTag(r,{tagify:this}).then(()=>{var A={NEQbm:p};function w(y){y.node.parentNode&&(y.node.parentNode.removeChild(y.node),e?b.keepInvalidTags&&this.trigger(A.NEQbm,{tag:y.node,index:y.idx}):(this.trigger(A.NEQbm,{tag:y.node,index:y.idx,data:y.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),b.keepInvalidTags&&this.reCheckInvalidTags()))}n&&h(n,10)&&l(1,r.length)?(function(y){y.node.style.width=c(o(parseFloat,window.getComputedStyle(y.node).width),"px"),document.body.clientTop,y.node.classList.add(b.classNames.tagHide),f(setTimeout,w.bind(this),n,y)}).call(this,r[0]):r.forEach(w.bind(this)),e||(this.removeTagsFromValue(r.map(y=>y.node)),this.update(),d(m,b.mode)&&this.setContentEditable(!0))}).catch(A=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(t=>t.parentNode.removeChild(t))},removeTagsFromValue(t){var e=function(r,i){return r(i)},n=function(r,i){return r>i};(t=Array.isArray(t)?t:[t]).forEach(r=>{var i=e(nt,r),a=this.getTagIdx(i);n(a,-1)&&this.value.splice(a,1)})},removeAllTags(t){var e=function(o,s){return o==s},n="mix",r=function(o,s){return o(s)},i=function(o,s){return o==s},a="select";t=function(o,s){return o||s}(t,{}),this.value=[],e(n,this.settings.mode)?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&r(setTimeout,()=>{this.DOM.input.focus()}),i(a,this.settings.mode)&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(t)},postUpdate(){var t,e,n=function(l,d){return l==d},r="mix",i=function(l,d){return l+d},a=function(l,d){return l>=d},o=function(l,d){return l==d},s="select",u=function(l,d){return l==d},c=function(l,d){return l==d};this.state.blockChangeEvent=!1;var f=this.settings,p=f.classNames,h=n(r,f.mode)?f.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():i(this.value.length,this.input.raw.call(this).length);this.toggleClass(p.hasMaxTags,a(this.value.length,f.maxTags)),this.toggleClass(p.hasNoTags,!this.value.length),this.toggleClass(p.empty,!h),o(s,f.mode)&&this.toggleScopeValidation(u(null,e=c(null,t=this.value)?void 0:t[0])?void 0:e.__isValid)},setOriginalInputValue(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,"value"))},update(t){var e=function(r,i){return r||i},n=function(r,i,a){return r(i,a)};(function(r,i){r(i)})(clearTimeout,this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=n(setTimeout,(function(){var r=this.getInputValue();this.setOriginalInputValue(r),(!this.settings.onChangeAfterBlur||!e(t,{}).withoutChangeEvent)&&!this.state.blockChangeEvent&&this.triggerChangeEvent(),this.postUpdate()}).bind(this),100)},getInputValue(){var t=function(r,i){return r==i},e="mix",n=this.getCleanValue();return t(e,this.settings.mode)?this.getMixedTagsAsString(n):n.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(n):JSON.stringify(n):""},getCleanValue(t){var e,n,r;return e=We,n=t||this.value,r=this.dataProps,e(n,r)},getMixedTagsAsString(){var t=function(d,m){return d==m},e=function(d,m){return d(m)},n=function(d,m){return d==m},r=function(d,m){return d+m},i=function(d,m){return d(m)},a=function(d,m,v){return d(m,v)},o="style",s=function(d,m){return d==m},u="DIV",c="",f=this,p=this.settings,h=p.originalInputValueFormat||JSON.stringify,l=p.mixTagsInterpolator;return function d(m){m.childNodes.forEach(v=>{if(t(1,v.nodeType)){const F=e(nt,v);if(n("BR",v.tagName)&&(c+=`\r
`),F&&Ut.call(f,v)){if(F.__removed)return;c+=r(r(l[0],i(h,a(ge,F,f.dataProps))),l[1])}else v.getAttribute(o)||["B","I","U"].includes(v.tagName)?c+=v.textContent:(s(u,v.tagName)||s("P",v.tagName))&&(c+=`\r
`,i(d,v))}else c+=v.textContent})}(this.DOM.input),c}},Jt.prototype.removeTag=Jt.prototype.removeTags;const ot=t=>t,Jn=(t,e)=>{var n=function(i,a){return i(a)};const r=i=>typeof i=="string"?i:JSON.stringify(i);return function(i,a){return i==a}(function(i,a){return i(a)}(r,t),n(r,e))},Zn=({name:t,value:e,loading:n=!1,onInput:r=ot,onAdd:i=ot,onRemove:a=ot,onEditInput:o=ot,onEditBeforeUpdate:s=ot,onEditUpdated:u=ot,onEditStart:c=ot,onEditKeydown:f=ot,onInvalid:p=ot,onClick:h=ot,onKeydown:l=ot,onFocus:d=ot,onBlur:m=ot,onChange:v=ot,onDropdownShow:F=ot,onDropdownHide:C=ot,onDropdownSelect:b=ot,onDropdownScroll:A=ot,onDropdownNoMatch:w=ot,onDropdownUpdated:y=ot,readOnly:x,disabled:z,children:H,settings:U={},InputMode:J="input",autoFocus:B,className:T,whitelist:D,tagifyRef:_,placeholder:j="",defaultValue:W,showDropdown:S})=>{var O=function(R,ut){return R==ut},Y="textarea",K="mix",E="input",k="add",P="remove",$="invalid",L="keydown",I="focus",Q="blur",Z="click",lt="change",ht="edit:input",Ct="edit:beforeUpdate",X="edit:updated",G="edit:start",tt="edit:keydown",dt="dropdown:show",ft="dropdown:hide",Bt="dropdown:select",rt="dropdown:scroll",zt="dropdown:noMatch",se="dropdown:updated",Tt=function(R){return R()},Kt=function(R){return R()},Nt=function(R,ut,wt){return R(ut,wt)},ue=function(R,ut){return R||ut},It=function(R,ut,wt){return R(ut,wt)},ce=function(R,ut,wt){return R(ut,wt)},V=function(R,ut,wt){return R(ut,wt)},q=function(R,ut,wt){return R(ut,wt)},mt=function(R,ut,wt){return R(ut,wt)},Ht=function(R,ut,wt){return R(ut,wt)},qt=function(R,ut,wt){return R(ut,wt)},ci="div",li="tags-input";const Ft=Kt(M.useRef),gn=Tt(M.useRef),St=Tt(M.useRef),He=ue(W,e),di=It(M.useMemo,()=>({ref:gn,name:t,defaultValue:H||typeof He=="string"?He:JSON.stringify(He),className:T,readOnly:x,disabled:z,autoFocus:B,placeholder:j}),[]),hn=It(M.useCallback,()=>{B&&St.current&&St.current.DOM.input.focus()},[St]);return Nt(M.useEffect,()=>{O(Y,J)&&(U.mode=K),D&&D.length&&(U.whitelist=D);var R=new Jt(gn.current,U);return R.on(E,r).on(k,i).on(P,a).on($,p).on(L,l).on(I,d).on(Q,m).on(Z,h).on(lt,v).on(ht,o).on(Ct,s).on(X,u).on(G,c).on(tt,f).on(dt,F).on(ft,C).on(Bt,b).on(rt,A).on(zt,w).on(se,y),_&&(_.current=R),St.current=R,Tt(hn),()=>{R.destroy()}},[]),ce(M.useEffect,()=>{Kt(hn)},[B]),V(M.useEffect,()=>{var R=St.current.getInputValue();Ft.current&&!Nt(Jn,e,R)&&St.current.loadOriginalValues(e)},[e,Ft.current]),q(M.useEffect,()=>{Ft.current&&St.current.toggleClass(T)},[T,Ft.current]),mt(M.useEffect,()=>{Ft.current&&St.current.loading(n)},[n,Ft.current]),ce(M.useEffect,()=>{Ft.current&&St.current.setReadonly(x)},[x,Ft.current]),q(M.useEffect,()=>{Ft.current&&St.current.setDisabled(z)},[z,Ft.current]),V(M.useEffect,()=>{var R=St.current;Ft.current&&(S?(R.dropdown.show.call(R,S),R.toggleFocusClass(!0)):R.dropdown.hide.call(R))},[S,Ft.current]),Ht(M.useEffect,()=>{Ft.current=!0},[]),qt(g.jsx,ci,{className:li,children:It(g.jsx,J,{...di})})},$e=M.memo(Zn);$e.displayName="Tags";const Rn=({...t})=>g.jsx($e,{InputMode:"textarea",...t}),Zt="-**",Rt="**-";function $n(t,e){return e}function me(t){var e=function(o,s){return o===s},n=function(o,s){return o(s)},r=function(o,s){return o+s};const i={};t.fields.map(o=>{i[o.value]=o.transformer??$n});const a=t.rule.trim().split(Zt).map(o=>{let s=o.split(Rt),u=s[0];if(e(0,u.trim().length))return s.join("");let c=u.trim();try{const f=JSON.parse(c);f.value&&(c=f.value)}catch{}return t.fields.find(f=>f.value===c)&&(i[c]?s[0]=i[c](t.data,c):s[0]=c),s.join("")}).join("").trim();return n($t,r(n(At,a),t.ext??""))}function tr(t){var e=function(n,r){return n===r};return function(n,r){return n(r)}($t,t.trim().split(Zt).map(n=>{var r=n.split(Rt),i=r[0];if(e(0,i.trim().length))return r.join("");var a=i.trim();try{(n=JSON.parse(a)).value&&(a=n.value)}catch{}return r[0]=a,r.join(Rt)}).join(Zt).trim())}function $t(t){return t.replace(/[\n\t]/g,"").replace(new RegExp("\\p{C}","gu"),"")}function er(t,e,n){var r,i=function(T,D){return T(D)},a=function(T,D){return T<D},o=function(T,D){return T-D},s=function(T,D){return T&&D},u=function(T){return T()},c=function(T,D){return T===D},f=function(T,D){return T>D},p=function(T,D,_){return T(D,_)},h=function(T){return T()},l=function(T,D){return T!==D},d=function(T,D){return T===D},m=function(T,D){return T||D},v=function(T,D){return T!==D},F=function(T){return T()},C=m(n,{}),b=C.noTrailing,A=l(void 0,b)&&b,w=C.noLeading,y=l(void 0,w)&&w,x=C.debounceMode,z=c(void 0,x)?void 0:x,H=!1,U=0;function J(){r&&i(clearTimeout,r)}function B(){for(var T=arguments.length,D=new Array(T),_=0;a(_,T);_++)D[_]=arguments[_];var j=this,W=o(Date.now(),U);function S(){U=Date.now(),e.apply(j,D)}function O(){r=void 0}H||(s(!y,z)&&!r&&u(S),u(J),c(void 0,z)&&f(W,t)?y?(U=Date.now(),A||(r=p(setTimeout,z?O:S,t))):h(S):l(!0,A)&&(r=p(setTimeout,z?O:S,d(void 0,z)?o(t,W):t)))}return B.cancel=function(T){var D=m(T,{}).upcomingOnly,_=v(void 0,D)&&D;F(J),H=!_},B}function nr(t,e,n){var r=function(s,u,c,f){return s(u,c,f)},i=function(s,u){return s!==u},a=function(s,u){return s!==u},o=function(s,u){return s||u}(n,{}).atBegin;return r(er,t,e,{debounceMode:i(!1,a(void 0,o)&&o)})}let we=!1,tn=0;function rr(t,e){var n={LcsON:function(h,l){return h(l)},QmTsC:function(h,l){return h===l},SXCwm:function(h){return h()},QdWGl:function(h,l,d){return h(l,d)},BCcbl:function(h,l){return h(l)},GXNwa:function(h,l){return h(l)},tAbTs:function(h,l){return h(l)},rrAID:function(h,l,d){return h(l,d)},Cgmlg:function(h,l){return h(l)},XCSIG:function(h,l,d){return h(l,d)},IYWNJ:function(h,l,d){return h(l,d)},cSMUV:function(h,l,d){return h(l,d)},wEaUB:"vertical",dpFHN:"div",ireth:function(h,l,d){return h(l,d)},pEHrW:"bottom-bar",chwEs:"tagify-dropdown",WOETN:"small",HjRbn:"Choose a preset",gcTSU:function(h,l,d){return h(l,d)},FelOo:function(h,l,d){return h(l,d)},BbLUF:function(h,l,d){return h(l,d)},iqZMQ:"Insert a Field",erZhD:"tagify-example",RivCe:function(h,l,d){return h(l,d)},RgHdX:"span",okvgt:"example:",ZDdem:function(h,l,d){return h(l,d)},grWCV:"eg-txt"};const r=n.SXCwm(M.useRef);n.rrAID(M.useImperativeHandle,e,()=>r.current);const[i,a]=n.Cgmlg(M.useState,""),[o,s]=n.Cgmlg(M.useState,[]),u=n.QdWGl(M.useCallback,n.XCSIG(nr,600,function(h){var l=function(m,v){return n.LcsON(m,v)},d=h.detail.value.trim();d=d.replace(/\n/g,""),console.log(d,11),n.QmTsC(0,d.length)&&(d=t.presets[0],r.current.parseMixTags(d)),n.SXCwm(ir),t.onUpdate(n.LcsON($t,d)),n.QdWGl(setTimeout,()=>{l(s,r.current.getTagElms().map(m=>m.__tagifyTagData.value))},300)}),[r.current,t.presets]),c=n.IYWNJ(M.useMemo,()=>r.current?t.presets.map(h=>({key:h,label:g.jsx("div",{dangerouslySetInnerHTML:{__html:r.current.parseMixTags(h,!0)}}),onClick:l=>{n.BCcbl(a,l.key),n.BCcbl(u,{detail:{value:l.key}})}})):[],[t.presets,r.current,u]),f=n.XCSIG(M.useMemo,()=>r.current?t.fields.map(h=>{var l=h.value;return{key:l,label:l,disabled:o.includes(l),onClick:d=>{r.current.addTags([d.key])}}}):[],[t.fields,r.current,o]),p=n.IYWNJ(M.useMemo,()=>({pattern:/@/,placeholder:"Input naming rule",editTags:!1,enforceWhitelist:!0,tagTextProp:"label",whitelist:t.fields,mixTagsInterpolator:[Zt,Rt],duplicates:!1,autoComplete:{enable:!1},dropdown:{enabled:!1},userInput:!1,...t.tagifySettings??{}}),[t.tagifySettings,t.fields]);return n.rrAID(M.useEffect,()=>{we||n.GXNwa(a,n.LcsON($t,t.rule))},[t.rule]),n.QdWGl(M.useEffect,()=>{r.current&&n.tAbTs(s,r.current.getTagElms().map(h=>h.__tagifyTagData.value))},[r.current]),n.cSMUV(g.jsxs,N.Space,{direction:n.wEaUB,size:8,className:"tagify-wrapper "+t.theme,children:[n.XCSIG(g.jsx,Rn,{tagifyRef:r,onChange:u,settings:p,readOnly:!0,value:i}),n.IYWNJ(g.jsxs,n.dpFHN,{children:[n.ireth(g.jsxs,n.dpFHN,{className:n.pEHrW,children:[n.XCSIG(g.jsx,N.Space,{size:8,children:n.IYWNJ(g.jsx,N.Dropdown,{menu:{items:c},overlayClassName:n.chwEs,children:n.ireth(g.jsx,N.Button,{size:n.WOETN,children:n.HjRbn})})}),n.gcTSU(g.jsx,N.Space,{children:n.FelOo(g.jsx,N.Dropdown,{menu:{items:f},overlayClassName:n.chwEs,children:n.BbLUF(g.jsx,N.Button,{size:n.WOETN,children:n.iqZMQ})})})]}),t.exampleData&&n.BbLUF(g.jsxs,n.dpFHN,{className:n.erZhD,children:[n.RivCe(g.jsx,n.RgHdX,{className:"eg",children:n.okvgt}),n.ZDdem(g.jsx,n.RgHdX,{className:n.grWCV,children:n.LcsON(me,{rule:t.rule,fields:t.fields,data:t.exampleData,ext:t.ext??""})})]})]})]})}const en=M.forwardRef(rr);function ir(){var t;we=!0,window.clearTimeout(tn),t=setTimeout,tn=t(()=>{we=!1},1e3)}function or(t){return!!(t.toString().includes("1390008")||t.toString().includes("1348007")||t.toString().includes("3252001")||t.toString().includes("1404006")||t.toString().includes("1675004")||t.toString().includes("1404078")||t.toString().includes("Request is too frequent")||t.toString().includes("Rate limit")||t.toString().includes("Temporarily")||t.toString().includes("again later")||t.toString().includes("rate_limit_exceeded"))}function ar(t){const e=function(u,c){return u(c)},n=function(u,c,f){return u(c,f)};return t.includes("it was read from disk")?"The disk where the folder for storing images is located is either full or disconnected. Please check your disk.":n(function(u,c){return e(u,c)},or,t)?"Due to excessive API requests, you have been temporarily restricted from using this feature. The restriction is typically lifted automatically within 4-8 hours. Please try again later.":t.includes("HTTP 500 HTTP_SERVER_ERROR")?"It seems the requested resource is missing, which typically occurs when trying to download data from a few years ago. This is a Facebook error, not an error of this extension. If you firmly believe this is an error with the extension, please contact us.":t}function sr(t){const e=function(C,b){return C!=b},n=function(C,b){return C==b},r=function(C,b){return C==b},i=function(C,b){return C!=b},a=function(C,b){return C==b},o=function(C,b){return C!=b},s=function(C,b){return C==b},u=function(C,b){return C!=b};var c,f,p,h,l,d,m,v;if(!t)return"unknown errors";if(e(null,c=n(null,t)?void 0:t.error)&&c.message)return t.error.message;if(e(null,p=r(null,f=n(null,t)?void 0:t[0])?void 0:f.error)&&p.message)return t[0].error.message;if(e(null,t)&&t.error_subcode&&i(null,t)&&t.message)return t.message;if(i(null,l=a(null,h=n(null,t)?void 0:t.errors)?void 0:h[0])&&l.message)return t.errors[0].message;if(e(null,d=n(null,t)?void 0:t[0])&&d.message&&o(null,m=s(null,t)?void 0:t[0])&&m.error_subcode||u(null,v=r(null,t)?void 0:t[0])&&v.message)return t[0].message;if(u(null,t)&&t.message)return t.message;let F="";try{F=JSON.stringify(t)}catch{}return F.toString()}const ur="__fb_error_records";function cr(){const t="Error to get error records from localStorage:";try{const e=localStorage.getItem(ur);return e?JSON.parse(e):[]}catch(e){return console.error(t,e),[]}}function ve(t,e){const n=function(E){return E()},r=function(E){return E()},i=function(E,k,P){return E(k,P)},a=function(E,k){return E*k},o=function(E,k){return E(k)},s=function(E,k){return E==k},u=function(E,k){return E==k},c=function(E,k){return E(k)},f=function(E,k,P,$){return E(k,P,$)},p=function(E,k){return E+k},h=function(E,k){return E+k},l=function(E,k,P){return E(k,P)},d=function(E,k,P,$){return E(k,P,$)},m=function(E,k,P){return E(k,P)},v=function(E,k,P,$){return E(k,P,$)},F=function(E){return n(E)},C=function(E){return r(E)},b=function(E,k,P){return i(E,k,P)},A="application/json;charset=utf-8",w="ESUIT error message please send it to the developer.json",y="Downloaded",x="Api Request Error",z="div",H="code",U="flex",J="row",B="space-between",T="small",D="text",_="Download errors message",j="primary",W="Concat ESUIT devloper",S="Close",O="default",Y=function(E,k){return E(k)}(sr,e),K=h("id",Math.ceil(l(function(E,k){return a(E,k)},9999,Math.random())));t.error({title:x,width:530,content:d(b,g.jsxs,z,{children:[d(b,g.jsx,H,{style:{fontSize:10},children:m(function(E,k){return o(E,k)},ar,Y)}),v(function(E,k,P){return i(E,k,P)},g.jsxs,z,{style:{marginTop:24,display:U,flexDirection:J,justifyContent:B},children:[d(function(E,k,P){return i(E,k,P)},g.jsx,N.Button,{style:{marginBottom:8},size:T,type:D,id:K,onClick:()=>{const E={message:{errorMsg:Y,stack:(s(null,e)?void 0:e.stack)??"",description:u(null,e)?void 0:e.description},href:window.location.href,stacks:c(F,lr),errors:c(C,cr)},k=new TextEncoder().encode(JSON.stringify(E));f(b,dr,new Blob([k],{type:A}),w);const P=document.querySelector(p("#",K));P&&(P.innerHTML=y)},children:_}),d(b,g.jsx,N.Button,{size:T,type:j,onClick:()=>window.open("https://www.facebook.com/esuitdev","_blank"),children:W})]})]}),okText:S,okButtonProps:{type:O}})}function lr(){const t="ErrorPubSub";try{return window.require(t).history.slice(0,1).map(e=>{try{delete e.stackFrames,delete e.xFBDebug}catch{}return{message:e.message,messageFormat:e.messageFormat,messageParams:e.messageParams,name:e.name,project:e.project,script:e.script,stack:e,type:e.type,windowLocationURL:e.windowLocationURL,clientTime:e.clientTime,line:e.line,loggingSource:e.loggingSource}})}catch{return{}}}function dr(t,e){const n=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=n,r.download=e,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n)}function ye(){const t=function(S,O){return S==O},e=function(S,O,Y,K){return S(O,Y,K)},n=function(S,O){return S===O},r=function(S,O){return S!==O},i=function(S,O){return S(O)},a=function(S,O,Y){return S(O,Y)},o=function(S,O,Y){return S(O,Y)},s=function(S,O,Y,K,E){return S(O,Y,K,E)},u=function(S,O){return S+O},c=".graphql",f=function(S,O){return S==O},p=function(S,O){return S==O},h=function(S,O,Y){return S(O,Y)},l=function(S,O,Y,K){return S(O,Y,K)},d=function(S,O){return t(S,O)},m="string",v=function(S,O,Y,K){return e(S,O,Y,K)},F="[0].errors.[0].message",C="[0].errors.[0].severity",b="field_exception",A=function(S,O){return n(S,O)},w=function(S,O){return r(S,O)},y="WARNING",x=function(S,O){return i(S,O)},z=function(S,O,Y){return a(S,O,Y)},H="LoadQuery Error:",U="complete/next stuck",J=function(S,O){return i(S,O)},B=function(S,O){return t(S,O)},T="LocalArgument",D="__relay_internal__pv__CometUFIReactionEnableShortNamerelayprovider",_="network-only",j=a(M.useMemo,()=>window.require("CometRelay").useRelayEnvironment(),[]),W=l(z,M.useMemo,()=>window.require("CometRelay"),[]);return{loadQuery:function(S,O,Y){const K={ZVvjh:function(I,Q,Z){return o(I,Q,Z)},fHGPS:function(I,Q,Z,lt,ht){return s(I,Q,Z,lt,ht)},jzqHJ:function(I,Q,Z){return o(I,Q,Z)},BlNha:function(I,Q,Z){return o(I,Q,Z)},tJHaC:function(I,Q,Z){return o(I,Q,Z)},RkosA:function(I,Q){return u(I,Q)},YWRZV:c,OUkAY:function(I,Q){return f(I,Q)},JcUNR:function(I,Q){return f(I,Q)},lXkTB:function(I,Q){return p(I,Q)}},E={QULpg:function(I,Q){return K.ZVvjh(d,I,Q)},KPLDJ:m,jplCy:function(I,Q,Z,lt){return K.fHGPS(v,I,Q,Z,lt)},gORmh:F,xrFMm:C,SBuMQ:b,FALhh:function(I,Q){return K.ZVvjh(A,I,Q)},dXIiz:function(I,Q){return K.jzqHJ(w,I,Q)},bmwxT:y,DCdfe:function(I,Q){return K.BlNha(x,I,Q)},WWgHx:function(I,Q){return a(x,I,Q)},EbpeQ:function(I,Q,Z){return e(z,I,Q,Z)},BhEdE:H,JLXAD:function(I,Q){return K.BlNha(x,I,Q)},jqFwF:U,tuKJs:function(I,Q){return K.tJHaC(x,I,Q)},GIOPV:function(I,Q){return o(J,I,Q)},jUIvB:function(I,Q){return K.BlNha(B,I,Q)},WAxfj:T,ASXbx:D,VyDWg:_};let k=[],P=-1,$=0,L=!1;return new Promise((I,Q)=>{var Z,lt,ht;const Ct={naZXe:E.jqFwF,PCSWd:function(tt,dt){return E.tuKJs(tt,dt)},qLnXO:function(tt,dt){return E.GIOPV(tt,dt)}},X=E.jUIvB(E.KPLDJ,typeof S)?window.require(K.RkosA(S,K.YWRZV)):S;K.OUkAY(null,ht=K.JcUNR(null,lt=K.OUkAY(null,Z=K.lXkTB(null,X)?void 0:X.operation)?void 0:Z.argumentDefinitions)?void 0:lt.push)||ht.call(lt,{defaultValue:!1,kind:E.WAxfj,name:E.ASXbx});let G=W.loadQuery(j,X,{...O,__relay_internal__pv__CometUFIReactionEnableShortNamerelayprovider:!0},{fetchPolicy:E.VyDWg});G.source.subscribe({next(tt){Array.isArray(tt)?k.push(...tt):k.push(E.QULpg(E.KPLDJ,typeof tt)?JSON.parse(tt):tt),++P;const dt=E.jplCy(it.get,tt,E.gORmh,""),ft=E.jplCy(it.get,tt,E.xrFMm,""),Bt=!!~dt.indexOf(E.SBuMQ);if(dt&&E.FALhh(0,P)&&!Bt&&E.dXIiz(E.bmwxT,ft))return console.error({vars:O,groupQLName:S}),void E.DCdfe(Q,dt);if(Y){L=!0;try{G.dispose(),G=null}catch{}E.WWgHx(I,k)}else window.clearTimeout($),$=E.EbpeQ(setTimeout,()=>{if(!L){console.log(Ct.naZXe),L=!0;try{G.dispose(),G=null}catch{}Ct.PCSWd(I,k)}},15e3)},complete(){Ct.PCSWd(clearTimeout,$),L||(L=!0,G.dispose(),G=null,Ct.qLnXO(I,k))},error(tt){console.error(E.BhEdE,tt),E.JLXAD(Q,tt)}})})},findValueFromLoadQueryData:function(S,O,Y=!1){const K=Y?[...S].reverse():[...S];for(let E of K){const k=s(v,it.get,E,O,void 0);if(h(w,void 0,k))return k}}}}function be(t){const e={HVALh:function(a,o,s){return a(o,s)},drnDZ:function(a,o,s){return a(o,s)},rQouB:function(a,o){return a+o},OBtKK:"https://docs.esuit.dev",fYHja:"_blank",IXZtD:"Click to see how to use this feature",Nkioh:"span",okvms:"pointer"},n={nmVGl:e.fYHja,nECAW:e.IXZtD,cWhnz:function(a,o,s){return e.HVALh(a,o,s)},RbfJB:e.Nkioh,MVRNC:function(a,o,s){return e.drnDZ(a,o,s)},CNFSk:e.okvms},{title:r=n.nECAW,bold:i=!0}=t;return n.cWhnz(g.jsxs,n.RbfJB,{style:{lineHeight:1,paddingBottom:4},children:[i?n.cWhnz(g.jsx,"b",{children:t.children}):t.children,t.linkPath&&n.cWhnz(g.jsx,N.Tooltip,{title:r,children:n.MVRNC(g.jsx,n.RbfJB,{style:{cursor:n.CNFSk},onClick:function(){window.open(e.rQouB(e.OBtKK,t.linkPath),n.nmVGl)},children:"❓"})})]})}function fr(t){const e=new URL(t).pathname,n=e.lastIndexOf("/");return e.substring(n+1)}function Ce(t,e){const n=function(u,c){return u>=c},r=function(u,c){return u-c},i=function(u,c){return u<c},a=function(u,c){return u+c};let o=function(u,c){return u(c)}(String,e);if(n(o.length,t))return o;let s=r(t,o.length);for(let u=0;i(u,s);u++)o=a("0",o);return o}function De(t){const e=function(i){return i()},n=function(i,a,o){return i(a,o)},r=function(i,a){return i*a};return new Promise(i=>{const a=function(o){return e(o)};n(setTimeout,()=>{a(i)},r(1e3,t))})}function nn(t){let e=t.lastIndexOf(".");return e!==-1?t.slice(0,e):t}function te(){window.downloadedFilenameCountMap={}}var Qt=(t=>(t.INDEX="index",t.DATE="date",t.TIME="time",t.TIMESTAMP="timestamp",t.FILE_ID="file id",t.USER_ID="user id",t.USERNAME="username",t.ORIGINAL_NAME="original name",t._0Index="0index",t._00Index="00index",t._000Index="000index",t.DATE_US="date us",t.YEARS="years",t.MONTHs="months",t.DAYs="days",t.HOURS="hours",t.MINUTES="minutes",t.SECONDS="seconds",t))(Qt||{});const ee=[{value:"index",transformer:t=>String(t.index)},{value:"date",transformer:t=>Dt.unix(t.createdAt).format("YYYY_MM_DD__HH_mm_ss")},{value:"time",transformer:t=>Dt.unix(t.createdAt).format("HH_mm_ss")},{value:"timestamp",transformer:t=>String(t.createdAt)},{value:"file id",transformer:t=>String(t.id)},{value:"user id",transformer:t=>String(t.userId)},{value:"username",transformer:t=>String(t.userName)},{value:"original name",transformer:t=>nn(fr(t.uri))},{value:"0index",transformer:t=>Ce(2,t.index)},{value:"00index",transformer:t=>Ce(3,t.index)},{value:"000index",transformer:t=>Ce(4,t.index)},{value:"date us",transformer:t=>Dt.unix(t.createdAt).format("MM/DD/YYYY")},{value:"years",transformer:t=>Dt.unix(t.createdAt).format("YYYY")},{value:"months",transformer:t=>Dt.unix(t.createdAt).format("MM")},{value:"days",transformer:t=>Dt.unix(t.createdAt).format("DD")},{value:"hours",transformer:t=>Dt.unix(t.createdAt).format("HH")},{value:"minutes",transformer:t=>Dt.unix(t.createdAt).format("mm")},{value:"seconds",transformer:t=>Dt.unix(t.createdAt).format("ss")}],rn=["-**original name**-","-**index**-_-**date**-","-**date**-","-**timestamp**-","-**username**-_-**date**-","-**file id**-_-**date**-","-**username**-_-**timestamp**-"],on=["-**"+Qt.USERNAME+"**-","-**"+Qt.YEARS+"**---**"+Qt.MONTHs+"**---**"+Qt.DAYs+"**-"];var xt=(t=>(t.ORIGINAL="none",t.PNG="image/png",t.JPG="image/jpeg",t.WEBP="image/webp",t))(xt||{}),yt=(t=>(t[t.ALL=0]="ALL",t[t.BY_PHOTOS_COUNT=1]="BY_PHOTOS_COUNT",t[t.BY_DAYS_COUNT=2]="BY_DAYS_COUNT",t))(yt||{}),ct=(t=>(t.CAROUSEL_DOWNLOADER="carouselDownloader",t.FETCH_LIMIT="fetchLimit",t.IMAGES_FORMAT_AS="imagesFormatAs",t.FOLDER_NAME_RULE="folderNameRule",t.FILENAME_FORMATS="fileNameFormats",t.RESUME_DOWNLOADING="resumeDownloading",t.SKIP_DOWNLOADED_FILES="skipDownloadedFiles",t))(ct||{});const bt={isSkipDownloadedFile:!1,isFullSpeed:!1,isGenFolder:!1,fileFormatAs:xt.ORIGINAL,fileNameFormatRule:rn[0],requestDelay:0,folderNameRule:on[0],fetchingCountType:yt.ALL,fetchingCountByPhotosCountValue:10,fetchingCountByPhotosDaysValue:3};var gr=(t=>(t[t.FREE=0]="FREE",t[t.BASIC=1]="BASIC",t[t.PREMIUM=2]="PREMIUM",t))(gr||{}),hr=(t=>(t[t.SUBSCRIPTION=0]="SUBSCRIPTION",t[t.ONETIME_PAYMENT=1]="ONETIME_PAYMENT",t))(hr||{}),pr=(t=>(t[t.ONE_MONTH=1]="ONE_MONTH",t[t.THREE_MONTH=3]="THREE_MONTH",t[t.SIX_MONTH=6]="SIX_MONTH",t[t.A_YEAR=12]="A_YEAR",t))(pr||{}),mr=(t=>(t[t.STRIPE=0]="STRIPE",t[t.PAYPAL=1]="PAYPAL",t))(mr||{}),wr=(t=>(t[t.FACEBOOK=0]="FACEBOOK",t[t.INSTAGRAM=1]="INSTAGRAM",t))(wr||{}),vr=(t=>(t.SUBSCRIPTION="paypal_subscription",t.PAYMENT="paypal_payment",t))(vr||{}),yr=(t=>(t.RETURN_PAGE="RETURN_PAGE",t.RETURN_EXT="RETURN_EXT",t.RETURN_EXT_LOCAL="RETURN_EXT_LOCAL",t))(yr||{});function br(t){const e={ciWLg:"visitPricingPage",bCHVF:function(l,d,m){return l(d,m)},TYGSS:"div",nMDJI:"var(--primary-text)",EqvpN:"1.4em",lJtNK:"This feature is designed for professional users.",Hpiea:function(l,d,m){return l(d,m)},SGoUS:function(l,d,m){return l(d,m)},mxoHl:"12px 0 0 0",pcovS:"left",ppSgU:function(l,d,m){return l(d,m)},HamZe:"Upgrade to the",ZXnqS:function(l,d){return l===d},WwlgP:function(l,d,m){return l(d,m)},rLvzK:"span",QaLcI:"inline-block",lEQYL:"0 7px",OLTee:"1px solid #389e0d",kPQnz:"#389e0d",epuAb:"Basic",ULJXG:"1px solid #0958d9",oaquL:"#0958d9",ohSnR:"Premium",RYjma:"plan to unlock the unlimited version.",GRkVk:function(l,d,m){return l(d,m)},IXUmC:"button",faBuX:"#1677ff",GbBxu:"transparent",lVQbO:"none",JlDvp:"center",CtJvb:"pointer",RmRNR:"Upgrade Now!",OEszj:function(l,d){return l(d)},sXcoT:"setPersistLocalStorage",NMZzh:function(l,d){return l(d)},GDtph:"getPersistLocalStorage",rxqkh:"getUIMemoSettings",HYArc:function(l,d){return l(d)},PLbnW:function(l,d){return l(d)},KZsog:function(l){return l()},FDjLT:function(l,d){return l(d)},sDjZN:"Free trial",aufEF:" FREE try remaining.",JxKzy:"flex",epISh:"end",ohJxc:function(l,d,m){return l(d,m)},MKhWa:"text",LDBoY:"Do not show me again!",DTRCs:"primary",GxVCW:"Continue",Krwlg:"Message",yrWkC:"No free try left.",jxmdv:"Upgrade Now",nfYuN:"close",DylBg:function(l,d){return l>d},zzpgr:"The first ",Ycxrx:function(l,d){return l??d},gfflu:"times",eGFoI:" are FREE.",GDzLa:function(l,d,m){return l(d,m)},UTwAP:function(l,d){return l(d)},UIduf:"not exist",nPkcn:function(l,d){return l!==d},oCxKC:"setUIMemoSettings",WxDbN:"feature._.memoKey not exist",wRbvI:"freeTry",yrvPN:"limitation"},{messageInstance:n,defaultMemoConfig:r,onGetMemoSettings:i,modalApi:a,projectId:o,extId:s}=t,u=""+t.projectId.replaceAll("-","_");async function c(){n.send(e.ciWLg)}function f(l,d){return e.bCHVF(g.jsxs,e.TYGSS,{style:{color:e.nMDJI},children:[e.bCHVF(g.jsx,e.TYGSS,{style:{marginBottom:12,fontSize:14,lineHeight:e.EqvpN},children:e.lJtNK}),d?e.Hpiea(g.jsxs,g.Fragment,{children:[e.SGoUS(g.jsx,e.TYGSS,{style:{fontSize:18},children:d}),e.SGoUS(g.jsx,e.TYGSS,{style:{margin:e.mxoHl,textAlign:e.pcovS,fontSize:12,opacity:.4},children:"OR"})]}):null,e.ppSgU(g.jsxs,e.TYGSS,{style:{fontSize:14,lineHeight:e.EqvpN},children:[e.HamZe," ",e.ppSgU(g.jsx,g.Fragment,{children:e.ZXnqS(10,l.permission)?e.WwlgP(g.jsx,e.rLvzK,{style:{fontSize:12,display:e.QaLcI,padding:e.lEQYL,border:e.OLTee,color:e.kPQnz,borderRadius:4},children:e.epuAb}):e.bCHVF(g.jsx,e.rLvzK,{style:{fontSize:12,display:e.QaLcI,padding:e.lEQYL,border:e.ULJXG,color:e.oaquL,borderRadius:4},children:e.ohSnR})})," ",e.RYjma,e.GRkVk(g.jsx,e.IXUmC,{style:{color:e.faBuX,backgroundColor:e.GbBxu,fontSize:14,padding:"0",outline:e.lVQbO,textAlign:e.JlDvp,cursor:e.CtJvb,border:e.lVQbO,marginLeft:8},onClick:c,children:e.RmRNR})]})]})}function p(l){const d="do-not-show-permission-check"+e.OEszj(encodeURIComponent,l);n.send(e.sXcoT,d,1)}async function h(l){const d="do-not-show-permission-check"+e.NMZzh(encodeURIComponent,l);return await n.send(e.GDtph,d,0)}return e.SGoUS(M.useEffect,()=>{const l={Npqvd:e.rxqkh,mFBPL:function(d,m){return e.OEszj(d,m)}};(async()=>{const d=await n.send(l.Npqvd);l.mFBPL(i,d)})()},[]),{checkIfCanUseWithModal:function(l,d,m){const v={fjMMh:function(C,b){return e.HYArc(C,b)},Imspx:function(C,b){return e.PLbnW(C,b)},olaBd:function(C){return e.KZsog(C)},fmwSs:function(C,b){return e.OEszj(C,b)},tGmuK:function(C,b){return e.FDjLT(C,b)},RAJnd:function(C,b){return e.HYArc(C,b)},Ihghm:e.sDjZN,wHrlt:function(C,b,A){return e.Hpiea(C,b,A)},YsbNM:e.aufEF,xwgEd:e.TYGSS,dYvzZ:e.JxKzy,YzKiB:e.epISh,TcAAQ:function(C,b,A){return e.ohJxc(C,b,A)},uzRsQ:e.MKhWa,oOlqL:e.LDBoY,kGPxC:e.DTRCs,gwHJa:e.GxVCW,RaAqA:e.Krwlg,dXZZe:e.yrWkC,pLAZC:e.jxmdv,pnQnD:e.nfYuN,xZSCb:function(C,b){return e.DylBg(C,b)},kwFHH:function(C,b,A){return e.ppSgU(C,b,A)},JKFry:function(C,b,A){return e.Hpiea(C,b,A)},fiNuu:e.zzpgr,vXVKp:function(C,b,A){return e.GRkVk(C,b,A)},Bkbgs:function(C,b){return e.Ycxrx(C,b)},tIVbX:e.gfflu,YUIJv:e.eGFoI,qnpxG:function(C,b,A){return e.bCHVF(C,b,A)},MDdbs:function(C,b,A){return e.GDzLa(C,b,A)},YaZOj:function(C,b){return e.UTwAP(C,b)}};if(!window[u][l])return console.error(l,e.UIduf),Promise.resolve(!1);const F=window[u][l];return!F.needUpgrade||F._.memoKey&&e.nPkcn(void 0,r[F._.memoKey])&&e.ZXnqS(d,r[F._.memoKey])?Promise.resolve(!0):new Promise(async C=>{const b=function(y){return v.olaBd(y)},A=function(y,x){return v.fmwSs(y,x)},w=function(y,x){return v.tGmuK(y,x)};if(F.isCanFreeTry)if(F.freeTryLeft){if(await v.fmwSs(h,l))return v.RAJnd(C,!0);const y=a.confirm({title:v.Ihghm,content:v.wHrlt(f,F,v.wHrlt(g.jsxs,g.Fragment,{children:[v.wHrlt(g.jsx,"b",{style:{fontSize:18},children:F.freeTryLeft}),v.YsbNM]})),footer:v.wHrlt(g.jsx,v.xwgEd,{style:{display:v.dYvzZ,justifyContent:v.YzKiB,marginTop:24},children:v.TcAAQ(g.jsxs,N.Space,{size:12,children:[v.wHrlt(g.jsx,N.Button,{type:v.uzRsQ,onClick:()=>{y.destroy(),v.fjMMh(p,l),v.fjMMh(C,!0)},children:v.oOlqL}),v.wHrlt(g.jsx,N.Button,{type:v.kGPxC,onClick:()=>{y.destroy(),v.fjMMh(C,!0)},children:v.gwHJa})]})})})}else a.confirm({title:v.RaAqA,content:v.TcAAQ(f,F,v.TcAAQ(g.jsx,g.Fragment,{children:v.dXZZe})),okText:v.pLAZC,cancelText:v.pnQnD,onOk(){b(c),A(C,!1)},onCancel(){v.fjMMh(C,!1)}});else if(F.limitation&&v.xZSCb(F.limitation,0)){if(await v.RAJnd(h,l))return v.fmwSs(C,!0);const y=a.confirm({content:v.kwFHH(f,F,v.JKFry(g.jsxs,g.Fragment,{children:[v.fiNuu,v.vXVKp(g.jsx,"b",{children:F.limitation})," ",v.Bkbgs(m,v.tIVbX),v.YUIJv]})),footer:v.qnpxG(g.jsx,v.xwgEd,{style:{display:v.dYvzZ,justifyContent:v.YzKiB,marginTop:24},children:v.MDdbs(g.jsxs,N.Space,{size:12,children:[v.wHrlt(g.jsx,N.Button,{type:v.uzRsQ,onClick:()=>{y.destroy(),A(p,l),w(C,!0)},children:v.oOlqL}),v.vXVKp(g.jsx,N.Button,{type:v.kGPxC,onClick:()=>{y.destroy(),v.fjMMh(C,!0)},children:v.gwHJa})]})})})}else a.confirm({title:v.RaAqA,content:v.YaZOj(f,F),okText:"ok",cancelText:v.pnQnD,onOk(){v.Imspx(C,!1)},onCancel(){v.fjMMh(C,!1)}})})},setUIMemoSettings:async function(l){await n.send(e.oCxKC,l)},getFeatureLimitProcessTimeValue:function(l){const{featureKey:d,currentIndex:m,currentValue:v}=l;if(!window[u][d])throw console.error(d,e.UIduf),new Error(d+" not exist");const F=window[u][d];if(!F._.memoKey)throw console.error(d,e.WxDbN),new Error(d+" feature._.memoKey not exist");const C=r[F._.memoKey];return F.needUpgrade&&e.DylBg(m,F.limitation)?C:v},checkIfCanUse:function(l){if(!window[u][l])return console.error(l,e.UIduf),!1;const d=window[u][l];return!d.needUpgrade||(d.isCanFreeTry&&d.freeTryLeft?e.wRbvI:!(!d.limitation||!e.DylBg(d.limitation,0))&&e.yrvPN)},getUIMemoSettings:async function(){return await n.send(e.rxqkh)}}}const Ot=M.createContext(null);function Te(t){const[e,n]=N.message.useMessage(),[r,i]=N.Modal.useModal();return a=g.jsxs,o=Ot.Provider,s={value:{messageApi:e,modalApi:r},children:[n,i,t.children]},a(o,s);var a,o,s}var Cr=Object.defineProperty,Dr=(t,e,n)=>e in t?Cr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e,n)=>(Dr(t,typeof e!="symbol"?e+"":e,n),n);class Tr{constructor(e,n){const r=function(c,f,p){return c(f,p)},i=function(c,f,p,h){return c(f,p,h)},a="listeners",o=function(c,f,p){return c(f,p)};r(ne,this,"id"),i(ne,this,a,{}),o(ne,this,"slug"),r(ne,this,"isDebugger"),this.slug=e,this.isDebugger=!!n,this.id=window[e].id,this.bindEvent()}on(e,n){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(n),()=>{if(this.listeners[e].includes(n)){const r=this.listeners[e].indexOf(n);this.listeners[e].splice(r,1)}}}send(e,...n){const r={jSpjl:"received message from page send callback",Bpojz:function(i,a){return i(a)},RqyaY:"send message from page"};return new Promise(async i=>{const a={gzyOP:r.jSpjl,cefUw:function(s,u){return r.Bpojz(s,u)}};let o={action:e,payload:n};this.isDebugger&&console.log(r.RqyaY,o),chrome.runtime.sendMessage(this.id,o,{},s=>{this.isDebugger&&console.log(a.gzyOP,s),a.cefUw(i,s)})})}connect(){chrome.runtime.sendMessage(this.id,{action:"__connect"})}disconnect(){chrome.runtime.sendMessage(this.id,{action:"__disconnect"})}bindEvent(){window.addEventListener("message",this._handleReceivingMessage.bind(this))}destroy(){this.disconnect(),this.listeners={},window.removeEventListener("message",this._handleReceivingMessage.bind(this))}_handleReceivingMessage(e){const n=function(a,o){return a===o},r="received message from background",i=function(a,...o){return a(...o)};if(e.data&&n(e.data.from,this.slug)&&e.data.payload){const{action:a,payload:o}=e.data.payload;if(this.isDebugger&&console.log(r,e.data),this.listeners[a])for(let s of this.listeners[a])i(s,...o)}}}function Fr(){return!!~window.location.search.indexOf("debug")||!window[_t]||!window[_t].isProdMode}async function Ar(t){const e="Content-Type",n=function(s,u){return s(u)},r=function(s,u){return s||u},i=function(s,u){return s(u)},a=function(s,u,c){return s(u,c)},o="HEAD";return new Promise(s=>{const u=function(c,f){return i(c,f)};a(fetch,t,{method:o}).then(c=>{const f=c.headers.get(e);n(s,r(f,""))}).catch(c=>{u(s,"")})})}let xr=new Tr(_t,Fr());function gt(){return xr}const pt=M.createContext(null);function Fe(t){const e={APhqz:function(T,D){return T(D)},XtQQc:function(T,D){return T(D)},BQobK:function(T,D){return T(D)},JMtox:function(T,D){return T(D)},TlAfZ:function(T,D){return T(D)},dwWoq:function(T){return T()},IUMpG:"setPersistLocalStorage",MXMQp:function(T,D){return T(D)},XKHBa:function(T,D){return T===D},EUkoH:"getPersistLocalStorage",VxgyN:function(T,D){return T&&D},mOWcC:function(T,D,_){return T(D,_)},InVqk:"div",aToKg:"FullSpeed option will cause frequent API requests, you",CnKtw:"have to",Hmydo:" agree our",vATWJ:function(T,D,_){return T(D,_)},QNDsf:"_blank",SImos:"#385898",wxyHs:"https://esuit.dev/disclaimer",bVgzs:"Disclaimer",TKJXM:"span",wlNbZ:"disclaimer-level level1",GEnAx:"0 4px",RLOmO:"inline-block",BnCaV:"50%",SYuBz:"1px solid rgba(0, 0, 0, 0.175)",BwAqK:"#52c41a",SORsx:"#52c31a",yFEtr:"to turn on this option",AuejZ:"AGREE",LTzsN:function(T,D,_,j){return T(D,_,j)},elErW:"photos",NCgOS:function(T,D){return T(D)},exmzq:function(T,D,_,j){return T(D,_,j)},CesQZ:function(T,D){return T(D)},OeESV:function(T,D,_,j){return T(D,_,j)},zsxyX:function(T,D){return T===D},YfclE:function(T,D){return T(D)},msknU:function(T,D){return T(D)},OSASa:function(T,D){return T(D)},duZQV:function(T,D){return T(D)},DmaNy:function(T,D){return T(D)},GnDQx:function(T,D){return T(D)},ZKxQy:function(T,D,_){return T(D,_)},TaMFA:function(T,D){return T(D)},uHcSK:function(T){return T()}},{modalApi:n,messageApi:r}=e.OSASa(M.useContext,Ot),[i,a]=e.TlAfZ(M.useState,bt.isSkipDownloadedFile),[o,s]=e.JMtox(M.useState,bt.isFullSpeed),[u,c]=e.duZQV(M.useState,bt.isGenFolder),[f,p]=e.DmaNy(M.useState,bt.fileFormatAs),[h,l]=e.MXMQp(M.useState,bt.fileNameFormatRule),[d,m]=e.OSASa(M.useState,bt.folderNameRule),[v,F]=e.GnDQx(M.useState,bt.requestDelay),[C,b]=e.APhqz(M.useState,yt.ALL),[A,w]=e.msknU(M.useState,bt.fetchingCountByPhotosCountValue),[y,x]=e.BQobK(M.useState,bt.fetchingCountByPhotosDaysValue),z=e.ZKxQy(M.useMemo,()=>window.download_albums_for_facebook.fetchLimit.limitation===0?9**9:window.download_albums_for_facebook.fetchLimit.limitation,[]),{setUIMemoSettings:H,checkIfCanUseWithModal:U,getFeatureLimitProcessTimeValue:J}=e.TaMFA(br,{projectId:_t,extId:yn,modalApi:n,messageApi:r,messageInstance:e.uHcSK(gt),defaultMemoConfig:bt,onGetMemoSettings(T){e.APhqz(s,T.isFullSpeed),e.XtQQc(a,T.isSkipDownloadedFile),e.XtQQc(c,T.isGenFolder),e.APhqz(F,T.requestDelay),e.APhqz(l,T.fileNameFormatRule),e.APhqz(p,T.fileFormatAs),e.BQobK(m,T.folderNameRule),e.BQobK(b,T.fetchingCountType),e.JMtox(w,T.fetchingCountByPhotosCountValue),e.APhqz(x,T.fetchingCountByPhotosDaysValue)}}),B=e.ZKxQy(M.useCallback,()=>{e.TlAfZ(H,{isSkipDownloadedFile:i,isFullSpeed:o,isGenFolder:u,fileFormatAs:f,fileNameFormatRule:h,requestDelay:v,folderNameRule:d,fetchingCountType:C,fetchingCountByPhotosCountValue:A,fetchingCountByPhotosDaysValue:y})},[i,o,u,f,h,d,v,C,A,y]);return e.ZKxQy(g.jsx,pt.Provider,{value:{fetchLimit:z,isSkipDownloadedFile:i,isFullSpeed:o,isGenFolder:u,fileFormatAs:f,fileNameFormatRule:h,requestDelay:v,folderNameRule:d,fetchingCountType:C,fetchingCountByPhotosCountValue:A,fetchingCountByPhotosDaysValue:y,setIsGenFolder:c,setIsFullSpeed:async function(T){const D={wxeAe:function(W){return e.dwWoq(W)},PyUqP:e.IUMpG,Egsns:function(W,S){return e.MXMQp(W,S)}},_=_t+"-disclaimer",j=e.XKHBa(1,await e.dwWoq(gt).send(e.EUkoH,_,0));e.VxgyN(T,!j)?n.confirm({content:e.mOWcC(g.jsxs,e.InVqk,{children:[e.aToKg," ",e.mOWcC(g.jsx,"b",{children:e.CnKtw}),e.Hmydo," ",e.vATWJ(g.jsx,"a",{target:e.QNDsf,style:{color:e.SImos},href:e.wxyHs,children:e.bVgzs}),e.mOWcC(g.jsx,e.TKJXM,{className:e.wlNbZ,style:{margin:e.GEnAx,display:e.RLOmO,width:12,height:12,borderRadius:e.BnCaV,border:e.SYuBz,background:e.BwAqK,backgroundColor:e.SORsx}})," ",e.yFEtr]}),okText:e.AuejZ,onOk:()=>{D.wxeAe(gt).send(D.PyUqP,_,1),D.Egsns(s,!0)}}):e.BQobK(s,T)},setFileFormatAs:async function(T){await e.LTzsN(U,ct.IMAGES_FORMAT_AS,T,e.elErW)&&e.NCgOS(p,T)},setFileNameFormatRule:async function(T){await e.exmzq(U,ct.FILENAME_FORMATS,e.CesQZ(tr,T),e.elErW)&&e.NCgOS(l,T)},setIsSkipDownloadedFile:async function(T){await e.OeESV(U,ct.SKIP_DOWNLOADED_FILES,T,e.elErW)&&e.TlAfZ(a,T)},setFolderNameRule:async function(T){await e.exmzq(U,ct.FOLDER_NAME_RULE,T,e.elErW)&&e.BQobK(m,T)},setRequestDelay:F,setFetchingCountType(T){e.XKHBa(T,yt.BY_DAYS_COUNT)&&e.MXMQp(x,bt.fetchingCountByPhotosDaysValue),e.zsxyX(T,yt.BY_PHOTOS_COUNT)&&e.YfclE(w,bt.fetchingCountByPhotosCountValue),e.XKHBa(T,yt.ALL)&&(e.msknU(w,bt.fetchingCountByPhotosCountValue),e.XtQQc(x,bt.fetchingCountByPhotosDaysValue)),e.CesQZ(b,T)},setFetchingCountByPhotosCountValue:w,setFetchingCountByPhotosDaysValue:x,checkIfCanUseWithModal:U,getFeatureLimitProcessTimeValue:J,saveMemoSettings:B},children:t.children})}var et=(t=>(t[t.START=0]="START",t[t.DOWNLOADING=1]="DOWNLOADING",t[t.DONE=2]="DONE",t))(et||{});const st=M.createContext(null);function Ae(t){const e=function(E){return E()},n=function(E,k){return E(k)},r=function(E,k){return E(k)},i=function(E){return E()},a=function(E,k){return E(k)},o=function(E,k,P){return E(k,P)},s=function(E,k){return E(k)},u=function(E){return E()},c=function(E){return E()},f=function(E){return E()},p=function(E){return E()},h=function(E,k){return E(k)},l=function(E,k){return E(k)},d=function(E,k){return E(k)},m=function(E,k){return E(k)},v=function(E,k){return E(k)},F=function(E,k){return E(k)},C=function(E,k){return E(k)},b=function(E,k,P){return E(k,P)},A=function(E,k,P){return E(k,P)},w=r(M.useRef,!0),y=l(M.useRef,[]),x=d(M.useRef,0),z=s(M.useRef,0),H=m(M.useRef,!1),U=v(M.useRef,null),J=h(M.useRef,!1),B=F(M.useRef,0),[T,D]=m(M.useState,0),[_,j]=l(M.useState,!1),[W,S]=C(M.useState,0);function O(){w.current=!0,z.current=0,H.current=!1,x.current=0,B.current=0,U.current=null,J.current=!1,e(te),window.folderHandlerCacheMap={},n(S,0),r(K,[]),i(Y)}b(M.useEffect,()=>{!_&&i(O)},[_]);const Y=E=>{const k=function(P,$){return a(P,$)};if(E)return o(setTimeout,()=>{k(D,Math.random)},600);s(D,Math.random)};function K(E){y.current=E,i(Y)}return A(g.jsx,st.Provider,{value:{open:_,setOpen:j,isStopManually:w,photosArrRef:y,downloadCountRef:x,avoidAccountRestrictMSRef:z,setAvoidAccountRestrictMSRef:function(E){z.current=E,u(Y)},isFetchingNextPageRef:H,setIsFetchingNextPageRef:function(E){H.current=E,c(Y)},resumeDownloadPayload:U,isOnLimit:J,requestDelayMsRef:B,setRequestDelayMsRef:function(E){B.current=E,f(Y)},setPhotos:K,appendPhotos:function(E){y.current=y.current.concat(E),f(Y)},setPhotoStatus:function(E,k){const P=y.current.find($=>$.id===E);P&&(P.status=k,p(Y))},clearPhotos:function(){h(K,[])},setStep:S,step:W,resetStatus:O,updateUI:Y},children:t.children})}function Sr(){const t={AXadh:function(s,u){return s(u)},ZgxmD:function(s,u){return s(u)},lLqdM:function(s,u,c){return s(u,c)},EpMrI:"Photos fetch quantity control",gMhjw:"small",SBwgg:"100%",iAkig:function(s,u,c){return s(u,c)},mKSqh:function(s,u,c){return s(u,c)},UjLqG:"Fetch ALL",iaDXp:"By photos count",KfDxy:"By days count",NnuEm:function(s,u){return s!==u},vAbMu:"8px 0",xLmMr:function(s,u){return s===u},xyghx:function(s,u,c){return s(u,c)},pUpWg:"span",LCBCg:"Numbers of photos to fetch:",BhNKP:function(s,u){return s===u},ylYke:"Days back to fetch:"},{fetchingCountType:e,fetchingCountByPhotosCountValue:n,fetchingCountByPhotosDaysValue:r,setFetchingCountType:i,setFetchingCountByPhotosDaysValue:a,setFetchingCountByPhotosCountValue:o}=t.AXadh(M.useContext,pt);return t.ZgxmD(M.useContext,st),t.lLqdM(g.jsxs,N.Card,{title:t.EpMrI,size:t.gMhjw,style:{marginTop:12,width:t.SBwgg},children:[t.iAkig(g.jsxs,N.Radio.Group,{onChange:s=>i(s.target.value),value:e,size:t.gMhjw,children:[t.mKSqh(g.jsx,N.Radio,{value:yt.ALL,children:t.UjLqG}),t.iAkig(g.jsx,N.Radio,{value:yt.BY_PHOTOS_COUNT,children:t.iaDXp}),t.mKSqh(g.jsx,N.Radio,{value:yt.BY_DAYS_COUNT,children:t.KfDxy})]}),t.NnuEm(e,yt.ALL)&&t.lLqdM(g.jsx,N.Divider,{style:{margin:t.vAbMu}}),t.xLmMr(e,yt.BY_PHOTOS_COUNT)&&t.iAkig(g.jsxs,N.Space,{children:[t.xyghx(g.jsx,t.pUpWg,{children:t.LCBCg}),t.iAkig(g.jsx,N.Slider,{min:1,max:1e3,step:1,value:n,onChange:s=>o(s),style:{width:400}}),t.mKSqh(g.jsx,t.pUpWg,{children:n})]}),t.BhNKP(e,yt.BY_DAYS_COUNT)&&t.lLqdM(g.jsxs,N.Space,{children:[t.iAkig(g.jsx,t.pUpWg,{children:t.ylYke}),t.mKSqh(g.jsx,N.Slider,{min:1,max:180,value:r,onChange:s=>a(s),style:{width:200}}),t.iAkig(g.jsx,t.pUpWg,{children:r})]})]})}const an={id:"442315268221",createdAt:1695526699,index:8,uri:"https://scontent-lga3-2.cdninstagram.com/v/t51.2885-15/345242088_283736111641893782_n.jpg",userName:"ESUIT.DEV"};function xe(t){var C,b,A;const e={gQhhF:function(w,y){return w(y)},Rnpdw:function(w,y){return w===y},mwqMA:"ENABLED",MASVM:"fepNlsbEufnpD",bqgNo:function(w,y,x){return w(y,x)},DjRiz:"vertical",jyuJQ:"100%",ZDhCK:function(w,y,x){return w(y,x)},kfzrb:"Options:",uCfRx:function(w,y,x){return w(y,x)},ZEIwB:"horizontal",ZxvHu:"nowrap",TeBWF:"Download at full speed like a robot, click to see how to avoid account restrictions.",lgnkh:"/download-albums-for-facebook/how-to-avoid-account-restriction.html",LiVdm:"⚡️Full Speed!",PwlPm:"If the file has already been downloaded before, it will be skipped to reduce network load.",zuAVT:"top",hKpiY:"span",zKaEk:"🔍Skip Downloaded files",rtVTZ:function(w,y,x){return w(y,x)},SYwEn:"Automatically download images into folders based on the author/group name.",GgjwW:function(w,y,x){return w(y,x)},lXhdK:"📁Gen-Folder",RZREi:function(w,y,x){return w(y,x)},boXmf:function(w,y,x){return w(y,x)},SMtUd:function(w,y,x){return w(y,x)},FFJdF:"div",DQjYD:function(w,y,x){return w(y,x)},wMTBs:"Click to see how to avoid account restrictions.",lqKOk:"⏱️Request Delay",OerGv:"If the FullSpeed option is disabled and you still find the requests too fast, you can set a delay time for each request.",ozAtu:"link",gyucT:"small",wxuRC:function(w,y,x){return w(y,x)},RVdzg:'This feature does not work when the "⚡️FullSpeed" is enabled.',wQwzZ:function(w,y,x){return w(y,x)},emcZc:"seconds",ESFkg:function(w,y,x){return w(y,x)},IFUuQ:"Images Format as:",yYJoW:function(w,y){return w===y},yKyOd:function(w,y,x){return w(y,x)},RgxKp:"This feature is available for the free version and can only process the first 50 images.",zjLTu:function(w,y,x){return w(y,x)},AJwUK:function(w,y,x){return w(y,x)},QxfLQ:function(w,y,x){return w(y,x)},WgCBg:"original",xEVYA:"jpg",USBnC:"png",eaukI:"webp",kRLJa:function(w,y){return w===y},bgvcx:"⚠️ Notice: PNG format will result in larger file sizes.",xbpix:function(w,y,x){return w(y,x)},ooCMJ:function(w,y,x){return w(y,x)},nGtss:function(w,y,x){return w(y,x)},upjBx:"Click to see how to use this features",DZOEX:"/download-albums-for-facebook/how-to-use-mixin-filenaming-system.html",BHsyZ:"File naming rules",TNUMG:function(w,y,x){return w(y,x)},VrYMS:function(w,y,x){return w(y,x)},msMbC:function(w,y,x){return w(y,x)},diqpV:".jpg",QtfYT:"dark",HqTgS:"light",casLR:function(w,y,x){return w(y,x)},LOvRC:"Folder naming rules",BDKCa:function(w,y){return w===y},Blplq:function(w,y,x){return w(y,x)},YKjSS:function(w,y,x){return w(y,x)},Ylfdm:function(w,y,x){return w(y,x)},nleUe:function(w,y,x){return w(y,x)}},{isHideQuantityCount:n=!1}=t,{isSkipDownloadedFile:r,isFullSpeed:i,isGenFolder:a,requestDelay:o,fileFormatAs:s,fileNameFormatRule:u,folderNameRule:c,setFolderNameRule:f,setFileNameFormatRule:p,setFileFormatAs:h,setRequestDelay:l,setIsSkipDownloadedFile:d,setIsFullSpeed:m,setIsGenFolder:v}=e.gQhhF(M.useContext,pt),F=e.Rnpdw(e.mwqMA,window.zKjQYvgSmF(e.MASVM).getDarkModeSetting());return e.bqgNo(g.jsxs,N.Space,{direction:e.DjRiz,size:24,style:{width:e.jyuJQ},children:[e.ZDhCK(g.jsx,kr,{children:e.kfzrb}),e.uCfRx(g.jsxs,N.Space,{direction:e.ZEIwB,size:[12,12],wrap:!0,style:{whiteSpace:e.ZxvHu},children:[e.ZDhCK(g.jsx,N.Checkbox,{checked:i,onChange:w=>m(w.target.checked),children:e.ZDhCK(g.jsx,be,{title:e.TeBWF,linkPath:e.lgnkh,children:e.LiVdm})}),e.ZDhCK(g.jsx,N.Checkbox,{checked:r,onChange:w=>d(w.target.checked),children:e.bqgNo(g.jsx,N.Tooltip,{title:e.PwlPm,placement:e.zuAVT,children:e.ZDhCK(g.jsx,e.hKpiY,{children:e.zKaEk})})}),e.rtVTZ(g.jsx,N.Checkbox,{checked:a,onChange:w=>v(w.target.checked),children:e.bqgNo(g.jsx,N.Tooltip,{title:e.SYwEn,placement:e.zuAVT,children:e.GgjwW(g.jsx,e.hKpiY,{children:e.lXhdK})})})]}),e.RZREi(g.jsxs,N.Row,{gutter:12,style:{width:e.jyuJQ},children:[e.boXmf(g.jsx,N.Col,{span:12,children:e.SMtUd(g.jsxs,e.FFJdF,{children:[e.SMtUd(g.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:0},children:[e.DQjYD(g.jsx,be,{title:e.wMTBs,linkPath:e.lgnkh,children:e.lqKOk}),e.rtVTZ(g.jsx,N.Tooltip,{title:e.OerGv,children:e.boXmf(g.jsx,N.Button,{type:e.ozAtu,size:e.gyucT,icon:e.wxuRC(g.jsx,Et.QuestionCircleOutlined,{})})})," ",":"]}),e.RZREi(g.jsx,N.Tooltip,{title:i?e.RVdzg:"",children:e.wQwzZ(g.jsx,N.InputNumber,{onChange:w=>l(w??0),value:o,max:30,min:0,step:.1,style:{width:150},addonAfter:e.emcZc,disabled:i})})]})}),e.ESFkg(g.jsx,N.Col,{span:12,children:e.ESFkg(g.jsxs,e.FFJdF,{children:[e.wxuRC(g.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:0},children:[e.IFUuQ," ",e.yYJoW(!0,(C=window.download_albums_for_facebook[ct.FILENAME_FORMATS])==null?void 0:C.needUpgrade)&&e.yKyOd(g.jsx,N.Tooltip,{title:e.RgxKp,children:e.zjLTu(g.jsx,N.Button,{type:e.ozAtu,size:e.gyucT,icon:e.AJwUK(g.jsx,Et.QuestionCircleOutlined,{})})})]}),e.QxfLQ(g.jsx,N.Segmented,{value:s,options:[{label:e.WgCBg,value:xt.ORIGINAL},{label:e.xEVYA,value:xt.JPG},{label:e.USBnC,value:xt.PNG},{label:e.eaukI,value:xt.WEBP}],onChange:w=>h(w)}),e.kRLJa(s,xt.PNG)&&e.boXmf(g.jsx,e.FFJdF,{style:{paddingTop:4,fontSize:12},children:e.bgvcx})]})}),e.xbpix(g.jsx,N.Col,{span:12,children:e.ESFkg(g.jsxs,e.FFJdF,{children:[e.ooCMJ(g.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:24},children:[e.nGtss(g.jsx,be,{title:e.upjBx,linkPath:e.DZOEX,children:e.BHsyZ}),e.kRLJa(!0,(b=window.download_albums_for_facebook[ct.FILENAME_FORMATS])==null?void 0:b.needUpgrade)&&e.TNUMG(g.jsx,N.Tooltip,{title:e.RgxKp,children:e.VrYMS(g.jsx,N.Button,{type:e.ozAtu,size:e.gyucT,icon:e.msMbC(g.jsx,Et.QuestionCircleOutlined,{})})}),":"," "]}),e.msMbC(g.jsx,en,{rule:u,ext:e.diqpV,theme:F?e.QtfYT:e.HqTgS,fields:ee,presets:rn,exampleData:an,onUpdate:w=>{e.gQhhF(p,w)}})]})}),a&&e.bqgNo(g.jsx,N.Col,{span:12,children:e.casLR(g.jsxs,e.FFJdF,{children:[e.wxuRC(g.jsxs,"p",{style:{paddingBottom:4,marginBottom:0,marginTop:24},children:[e.LOvRC,e.BDKCa(!0,(A=window.download_albums_for_facebook[ct.FOLDER_NAME_RULE])==null?void 0:A.needUpgrade)&&e.Blplq(g.jsx,N.Tooltip,{title:e.RgxKp,children:e.YKjSS(g.jsx,N.Button,{type:e.ozAtu,size:e.gyucT,icon:e.Ylfdm(g.jsx,Et.QuestionCircleOutlined,{})})}),":"," "]}),e.nleUe(g.jsx,en,{rule:c,ext:"",theme:F?e.QtfYT:e.HqTgS,fields:ee,presets:on,exampleData:an,onUpdate:w=>{e.gQhhF(f,w)}})]})}),!n&&e.msMbC(g.jsx,Sr,{})]})]})}function kr(t){return e=g.jsx,n="p",r={style:{marginBottom:-22,marginTop:0},children:t.children},e(n,r);var e,n,r}function Er(t){const e={myJvV:"_blank",tCxfx:function(r,i,a){return r(i,a)},rECkv:"div",KHdKR:"inherit",gGzrL:"24px auto 0 auto",dpyub:" 🙏We greatly appreciate your support! 🙏",AMmtt:function(r,i,a){return r(i,a)},BnPry:function(r,i,a){return r(i,a)},vohQm:"Help us out with a review for our Chrome extension!",GLnUk:function(r,i,a){return r(i,a)},TKrWn:"Your feedback is essential.👍🏼👍🏼👍🏼"},n=t.extLink+"/reviews";return e.tCxfx(g.jsxs,e.rECkv,{style:{color:e.KHdKR,margin:e.gGzrL},children:[e.tCxfx(g.jsx,e.rECkv,{children:e.dpyub}),e.AMmtt(g.jsx,N.Rate,{onChange:()=>{window.open(n,e.myJvV)},defaultValue:5}),e.BnPry(g.jsx,e.rECkv,{children:e.tCxfx(g.jsx,"a",{href:n,target:e.myJvV,children:e.vohQm})}),e.GLnUk(g.jsx,e.rECkv,{children:e.TKrWn})]})}function Mr(){const t={Atwpi:function(e,n,r){return e(n,r)},SOxJV:"Have issues or 🐛Bug during Download?",nZGbB:function(e,n,r){return e(n,r)},NQLdU:"https://esuit.dev/RedirectingToFBPage.html",Pvuff:"_blank",bMHEu:"Give us feedback on Facebook",fHbAb:"and we'll help you fix it!"};return t.Atwpi(g.jsxs,"p",{style:{opacity:.6},children:[t.SOxJV," ",t.nZGbB(g.jsx,"a",{href:t.NQLdU,target:t.Pvuff,style:{paddingRight:8},children:t.bMHEu}),t.fHbAb]})}function Se(){const t={yERVj:function(e,n,r){return e(n,r)},Lnqby:"vertical",SFsxf:function(e,n,r){return e(n,r)},bVwiv:"var(--secondary-text)",aXcQz:"flex",IRnFj:"row",JPXDv:"wrap",xBuJl:"flex-start",bDmmy:"center",zRJCE:"It Seems",qLVKS:"img",fPQZi:"block",IOCCn:"0 8px",XwnUd:" not working right now.",NMWUy:function(e,n,r){return e(n,r)},czKbe:"https://esuit.dev/RedirectingToFBPage.html",BXxSk:"_blank",OcvnX:"Give us feedback on Facebook",xhCVb:"and we'll help you fix it!",nYnrA:"fileSystemAPI is not enabled,",KhkMy:function(e,n,r){return e(n,r)},HlHfI:"https://github.com/brave/brave-browser/issues/18979#issuecomment-956513079",CrMee:"please click here for details"};return window.showDirectoryPicker?t.yERVj(g.jsxs,N.Space,{direction:t.Lnqby,children:[t.yERVj(g.jsx,Nr,{}),t.SFsxf(g.jsxs,"p",{style:{color:t.bVwiv,display:t.aXcQz,flexDirection:t.IRnFj,flexWrap:t.JPXDv,justifyContent:t.xBuJl,alignItems:t.bDmmy},children:[t.zRJCE," ",t.SFsxf(g.jsx,t.qLVKS,{src:window.download_albums_for_facebook_icon,style:{width:24,height:24,display:t.fPQZi,margin:t.IOCCn}}),je,t.XwnUd,t.NMWUy(g.jsx,"a",{href:t.czKbe,target:t.BXxSk,style:{paddingRight:8},children:t.OcvnX}),t.xhCVb]})]}):t.yERVj(g.jsxs,"p",{style:{color:t.bVwiv,display:t.aXcQz,flexDirection:t.IRnFj,flexWrap:t.JPXDv,justifyContent:t.xBuJl,alignItems:t.bDmmy},children:[t.yERVj(g.jsx,t.qLVKS,{src:window.download_albums_for_facebook_icon,style:{width:24,height:24,display:t.fPQZi,margin:t.IOCCn}}),t.nYnrA," ",t.KhkMy(g.jsx,"a",{href:t.HlHfI,target:t.BXxSk,children:t.CrMee}),"."]})}function Nr(){const t={AjAmH:function(i,a){return i(a)},Sqvih:function(i,a){return i(a)},Sjnon:"Copy successful.",SBYav:function(i,a){return i(a)},hcZdD:function(i,a,o){return i(a,o)},qOFxV:"div",HkoOU:"Please send this information to the developer for quick bug identification when submit a feedback.",Kaftv:function(i,a,o){return i(a,o)},fDgDD:"var(--secondary-text)",GRRVi:"CaseID: ",lIAhA:function(i,a,o){return i(a,o)},gZGza:"small",EVGxW:"Copy"},e=t.Sqvih(btoa,t.SBYav(encodeURIComponent,window.location.href)),[n,r]=N.message.useMessage();return t.hcZdD(g.jsxs,t.qOFxV,{children:[r,t.hcZdD(g.jsx,N.Tooltip,{title:t.HkoOU,children:t.Kaftv(g.jsxs,t.qOFxV,{style:{color:t.fDgDD},children:[t.GRRVi,e]})}),t.lIAhA(g.jsx,N.Button,{size:t.gZGza,onClick:function(){navigator.clipboard.writeText(t.AjAmH(btoa,t.Sqvih(encodeURIComponent,window.location.href))),n.success(t.Sjnon)},children:t.EVGxW})]})}function ke(){const t={IXIHP:function(n,r){return n(r)},DyOMY:function(n,r,i){return n(r,i)},xjkQO:"success",OGugA:function(n,r,i){return n(r,i)},YhSVe:"vertical",SiUeB:"center",foywf:"100%",WIldW:"8px 0px",DPehR:"🎉🎉🎉 Download Successful",srYBX:function(n,r,i){return n(r,i)},MuUbW:"div",nqrld:" photos",scoJC:function(n,r,i){return n(r,i)}},{downloadCountRef:e}=t.IXIHP(M.useContext,st);return t.DyOMY(g.jsx,g.Fragment,{children:t.DyOMY(g.jsx,N.Alert,{type:t.xjkQO,message:t.OGugA(g.jsxs,N.Space,{direction:t.YhSVe,size:12,style:{textAlign:t.SiUeB,width:t.foywf},children:[t.DyOMY(g.jsx,"p",{style:{fontSize:24,margin:t.WIldW},children:t.DPehR}),t.srYBX(g.jsxs,t.MuUbW,{children:[e.current,t.nqrld]}),t.DyOMY(g.jsx,Er,{extLink:bn}),t.scoJC(g.jsx,Mr,{})]})})})}function Ee(){const t={wSCsF:function(e,n,r){return e(n,r)},cmesJ:"square",CJarG:"span",uGfZX:"#999",GJnmt:"4.7.6",TnEAp:function(e,n){return e>n},fwVXZ:"_blank",OBOtt:"rgb(47, 129, 247)",nOgtf:"what's new?",YfpYd:function(e,n,r){return e(n,r)},AqQpP:"div",jdLXb:function(e,n,r){return e(n,r)},ZQAHY:"javascript:;",ibPgG:"pricing",FPBrM:function(e,n,r){return e(n,r)},QBDRu:"https://esuit.dev/faq",gCYOU:"❓FAQ"};return t.wSCsF(g.jsxs,N.Space,{size:8,children:[t.wSCsF(g.jsx,N.Avatar,{src:window.download_albums_for_facebook_icon,shape:t.cmesJ}),t.wSCsF(g.jsxs,t.CJarG,{children:[je," ",t.wSCsF(g.jsxs,t.CJarG,{style:{color:t.uGfZX,fontSize:12},children:["v",t.GJnmt]})," ",t.TnEAp(Ve.length,0)?t.wSCsF(g.jsx,"a",{href:Ve,target:t.fwVXZ,style:{fontSize:12,color:t.OBOtt},children:t.nOgtf}):null]}),t.YfpYd(g.jsx,t.AqQpP,{style:{marginLeft:24},children:t.jdLXb(g.jsx,"a",{href:t.ZQAHY,style:{fontSize:12,color:t.OBOtt},onClick:()=>gt().send("visitPricing"),children:t.ibPgG})}),t.wSCsF(g.jsx,t.AqQpP,{style:{marginLeft:24},children:t.FPBrM(g.jsx,"a",{href:t.QBDRu,target:t.fwVXZ,style:{fontSize:12,color:t.OBOtt},children:t.gCYOU})})]})}let re=[];function Or(){const t=function(c){return c()},e="appendDownloadedFilesId",n=function(c){return c()},r="getDownloadedFilesId",i=function(c,f,p){return c(f,p)},a=function(c,f,p){return c(f,p)},o=function(c,f){return c(f)}(M.useRef,[]),s=i(M.useMemo,()=>it.throttle(u,5e3),[]);function u(){t(gt).send(e,re),re=[]}return a(M.useEffect,()=>{n(gt).send(r).then(c=>{o.current=c||[]})},[]),{isFileIdDownloaded:function(c){return o.current.includes(c)},appendDownloadedFile:function(c){o.current.includes(c)||re.includes(c)||(o.current.push(c),re.push(c),t(s))},downloadedFilesId:o}}const Me=M.createContext(null);function Ne(t){const e=function(f){return f()},n="clearDownloadedFilesId",r=function(f,p){return f(p)},i=function(f){return f()},a=function(f,p,h){return f(p,h)},{updateUI:o}=r(M.useContext,st),{isFileIdDownloaded:s,appendDownloadedFile:u,downloadedFilesId:c}=i(Or);return a(g.jsx,Me.Provider,{value:{downloadedFilesId:c,isFileIdDownloaded:s,appendDownloadedFile:u,clearDownloadedFilesIdCache:function(){c.current=[],e(gt).send(n),e(o)}},children:t.children})}function Oe(){const t={RwdtH:function(i){return i()},DfNOu:"Cleanup successful.",IhCKR:function(i,a){return i(a)},jpFpX:function(i,a){return i===a},SmFXw:function(i,a,o){return i(a,o)},MTlxN:"It has saved ",QIdJz:`downloaded image's ID (stored in browser), which will be used for the "Skip Downloaded files" feature. Click to clean.`,OSzMI:function(i,a,o){return i(a,o)},zAgXP:function(i,a,o){return i(a,o)},ZoMSy:"small",shBGN:"text",gomKl:function(i,a,o){return i(a,o)},JtlCs:"span",OpVPT:"inline-block",MNDMQ:"left"},{clearDownloadedFilesIdCache:e,downloadedFilesId:n}=t.IhCKR(M.useContext,Me),{messageApi:r}=t.IhCKR(M.useContext,Ot);return t.jpFpX(0,n.current.length)?t.SmFXw(g.jsx,g.Fragment,{}):t.SmFXw(g.jsx,N.Tooltip,{title:t.SmFXw(g.jsxs,g.Fragment,{children:[t.MTlxN,n.current.length.toLocaleString()," ",t.QIdJz]}),children:t.OSzMI(g.jsx,N.Button,{icon:t.zAgXP(g.jsx,Et.DatabaseOutlined,{}),size:t.ZoMSy,type:t.shBGN,onClick:function(){t.RwdtH(e),r.success(t.DfNOu)},children:t.gomKl(g.jsx,t.JtlCs,{style:{display:t.OpVPT,minWidth:50,textAlign:t.MNDMQ,fontSize:12},children:n.current.length.toLocaleString()})})})}function Ie(){const t={auPjS:function(n,r){return n(r)},xNUeW:"Copy successful.",YvKpm:function(n,r){return n(r)},XVTmD:function(n,r,i){return n(r,i)},Vsjzv:"Encountering an issue? Click this icon to copy the Case ID and contact us on Facebook.",xPJqH:function(n,r,i){return n(r,i)},EYXho:"text",nhuoQ:"small"},{messageApi:e}=t.YvKpm(M.useContext,Ot);return t.XVTmD(g.jsx,N.Tooltip,{title:t.Vsjzv,children:t.xPJqH(g.jsx,N.Button,{type:t.EYXho,size:t.nhuoQ,onClick:function(){navigator.clipboard.writeText(t.auPjS(btoa,t.auPjS(encodeURIComponent,window.location.href))),e.success(t.xNUeW)},children:"🐛"})})}const ie=M.createContext(null),_e=M.createContext(null);function Ir(t){const e=function(A,w){return A(w)},n=function(A,w){return A&&w},r="getResumeCursor",i=function(A,w){return A===w},a="setResumeCursor",o=function(A,w){return A+w},s="removeResumeCursor",u=function(A,w){return A(w)},c=function(A,w){return A(w)},f=function(A){return A()},p=function(A,w,y){return A(w,y)},h=function(A,w,y){return A(w,y)},{collectionToken:l}=u(M.useContext,ie),{open:d,downloadCountRef:m,resumeDownloadPayload:v}=c(M.useContext,st),F=f(gt),[C,b]=c(M.useState,null);return p(M.useEffect,()=>{n(l,d)&&F.send(r,l).then(A=>{e(b,A)})},[l,d]),h(g.jsx,_e.Provider,{value:{resumeCursor:C,updateResumeCursor:function(A){var y,x;if(v.current&&i((y=v.current)==null?void 0:y.lastCursor,A))return;const w=((x=v.current)==null?void 0:x.lastIndex)??0;F.send(a,{collectionToken:l,lastCursor:A,lastIndex:o(m.current,w)})},removeResumeCursor:function(){l&&F.send(s,l)}},children:t.children})}const oe="photodownloderdirhandler";function Le(){const t={OepPn:function(r,i){return r(i)},IkoNf:"readwrite",jKWHd:"DirectoryPicker was undefined",SIhmk:"NotAllowedError",JdeYa:function(r,i,a){return r(i,a)},vVxLK:"div",QDADu:"It seems that the website has disabled the image download permission. Please follow the instructions in the video.",GHWHR:"https://youtu.be/131AOjjYHX0",UBbwr:"_blank",CHbiM:"showDirectoryPicker",zcvVl:function(r,i,a){return r(i,a)},XoUJj:"Your browser has not enabled the fileSystemAPI, please follow the instructions in the document to enable it.",KlbOH:function(r,i,a){return r(i,a)},TVmkR:"https://github.com/brave/brave-browser/issues/18979#issuecomment-956513079",dMckr:"The user aborted a request",nEQUg:"We need permission to download the image to the folder, but you have denied it.",EDiVt:"Permission Denied",qyrHc:"Unknown error occurred",VPiuG:function(r,i){return r(i)}},{messageApi:e}=t.VPiuG(M.useContext,Ot);return{requestDirPicker:function(){return new Promise(r=>{const i=function(o,s){return t.OepPn(o,s)},a=function(o,s){return t.OepPn(o,s)};try{window.showDirectoryPicker({mode:t.IkoNf}).then(async o=>{window[oe]=o,await window[oe].requestPermission({writable:!0}),i(r,!0)}).catch(o=>{console.error(o),a(n,o),i(r,!1)})}catch(o){console.error(o),t.OepPn(n,o),t.OepPn(r,!1)}})},getDirPickerHandler:function(){if(!window[oe])throw new Error(t.jKWHd);return window[oe]}};function n(r){try{const i=r.toString();~i.indexOf(t.SIhmk)?e.error(t.JdeYa(g.jsxs,t.vVxLK,{children:[t.QDADu,t.JdeYa(g.jsx,"br",{}),t.JdeYa(g.jsx,"a",{href:t.GHWHR,target:t.UBbwr,children:t.GHWHR})]})):~i.indexOf(t.CHbiM)?e.error(t.zcvVl(g.jsxs,t.vVxLK,{children:[t.XoUJj,t.KlbOH(g.jsx,"br",{}),t.zcvVl(g.jsx,"a",{href:t.TVmkR,target:t.UBbwr,children:t.TVmkR})]})):~i.indexOf(t.dMckr)?e.error(t.nEQUg):e.error(t.EDiVt)}catch(i){e.error(t.qyrHc),console.log(i)}}}function _r(t){const e={ImXAN:function(o){return o()},SsWif:function(o,s,u,c){return o(s,u,c)},vmYSl:"photo",dblwx:function(o,s){return o(s)},LKVKa:function(o,s){return o(s)},rEBih:function(o){return o()},BQXRp:function(o,s,u){return o(s,u)},cSNQg:"Resume downloading",KzXxF:function(o,s,u){return o(s,u)},tbuVT:"vertical",IlzwQ:"nowrap",NqAhi:"div",iUIGL:"From: ",cclvA:function(o,s,u){return o(s,u)},MCzHN:"Date:",djRQF:"MM/DD/YYYY hh:mm:ss",NEodK:function(o,s,u){return o(s,u)},nxKii:"Index: ",SZYvm:function(o,s,u){return o(s,u)},FPUUb:"primary",Qpjua:"Resume downloading?"},{resumeCursor:n}=e.dblwx(M.useContext,_e),{resumeDownloadPayload:r}=e.LKVKa(M.useContext,st),{checkIfCanUseWithModal:i}=e.dblwx(M.useContext,pt),{requestDirPicker:a}=e.rEBih(Le);if(n)return e.BQXRp(g.jsx,N.Popover,{title:e.cSNQg,content:e.KzXxF(g.jsxs,N.Space,{direction:e.tbuVT,size:8,style:{whiteSpace:e.IlzwQ,fontSize:14},children:[e.BQXRp(g.jsxs,e.NqAhi,{children:[e.iUIGL,Dt.unix(n.lastUpdateAt).fromNow()]}),e.cclvA(g.jsxs,e.NqAhi,{children:[e.MCzHN," ",Dt.unix(n.lastUpdateAt).format(e.djRQF)]}),e.NEodK(g.jsxs,e.NqAhi,{children:[e.nxKii,n.lastIndex]})]}),children:e.SZYvm(g.jsx,N.Button,{type:e.FPUUb,ghost:!0,onClick:function(){const o=function(s){return e.ImXAN(s)};e.SsWif(i,ct.RESUME_DOWNLOADING,null,e.vmYSl).then(s=>{s&&o(a).then(u=>{u&&(r.current=n,r.current&&t.onClick(r.current.lastCursor))})})},children:e.Qpjua})})}function Lr(t){var e=function(a,o){return a===o},n="Enter",r="keypress";function i(a){e(n,a.code)&&t.onEnter()}(function(a,o,s){a(o,s)})(M.useEffect,()=>(document.body.addEventListener("keypress",i),()=>{document.body.removeEventListener(r,i)}),[])}function Pe(t){const e={TuCll:function(i){return i()},PKErb:function(i){return i()},QwygN:function(i){return i()},juRYx:function(i,a){return i(a)},WWJHf:function(i,a,o){return i(a,o)},RrWdx:"div",TXbwy:"Hotkey: ",XNZEI:function(i,a,o){return i(a,o)},roLwi:"Enter",fFqao:"primary",LQJie:"Select a Folder to Download"},{requestDirPicker:n}=e.QwygN(Le);function r(){e.TuCll(n).then(i=>{i&&t.onClick()})}return e.juRYx(Lr,{onEnter(){e.PKErb(r)}}),e.WWJHf(g.jsx,N.Tooltip,{title:e.WWJHf(g.jsxs,e.RrWdx,{children:[e.TXbwy,e.XNZEI(g.jsx,"b",{children:e.roLwi})]}),children:e.WWJHf(g.jsx,N.Button,{type:e.fFqao,onClick:r,children:e.LQJie})})}function sn(t,e){var n={ItLIq:"COMET_MEDIA_VIEWER",iQYrX:"permalink",frURx:"pjubSmfyjQcfX",prDZG:function(r,i){return r||i}};return{feedbackSource:65,feedLocation:n.ItLIq,focusCommentID:null,nodeID:e,privacySelectorRenderLocation:n.ItLIq,renderLocation:n.iQYrX,scale:window.zKjQYvgSmF(n.frURx).get(),useDefaultActor:!1,isMediaset:!!t,mediasetToken:n.prDZG(t,null),useHScroll:!1,__relay_internal__pv__ShouldSkipMediaViewerRightRailQueryrelayprovider:!1,__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:!1,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1,__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:!1}}function un(){const t=function(m,v){return m(v)},e=function(m){return m()},n=function(m,v){return m*v},r=function(m,v){return m+v},i=function(m,v){return m*v},a=function(m,v){return m<v},o=function(m,v){return m(v)},s=function(m,v){return m>v},u=function(m,v){return m(v)},c=function(m,v){return m(v)},f=function(m,v,F){return m(v,F)},{isFullSpeed:p}=c(M.useContext,pt),{step:h,setAvoidAccountRestrictMSRef:l}=o(M.useContext,st),d=o(M.useRef,0);return f(M.useEffect,()=>{d.current=0},[h]),{AvoidAccountRestrict:async function(){if(p)return;d.current+=1;let m=n(10,d.current);return m=Math.ceil(r(i(Math.random(),m),500)),a(m,1e3)?o(l,0):s(m,5e3)?(d.current=0,void t(l,0)):(u(l,m),void await new Promise(v=>setTimeout(()=>{t(l,0),e(v)},m)))}}}const ae=M.createContext(null);window.folderHandlerCacheMap=new Map;async function Pr(t,e){const n=window.folderHandlerCacheMap[e.join("_")];if(n)return n;let r=t;for(const i of e)r=await r.getDirectoryHandle(i,{create:!0});return window.folderHandlerCacheMap[e.join("_")]=r,r}async function Br(t,e){const n=function(h,l){return h(l)},r="0.95",i="canvas";if(function(h,l){return h===l}(t.type,e))return t;let{width:a,height:o,type:s,img:u,objUrl:c}=await n(zr,t),f=document.createElement(i),p=f.getContext("2d");return f.width=a,f.height=o,p.drawImage(u,0,0),new Promise(h=>{const l=function(d,m){return n(d,m)};f.toBlob(d=>{URL.revokeObjectURL(c),f.remove(),f=null,u.remove(),u=null,p=null,l(h,d)},e,r)})}async function zr(t){const e=function(n,r){return n(r)};return new Promise(n=>{const r=function(o,s){return e(o,s)};let i=new Image,a=URL.createObjectURL(t);i.onload=function(){let o=i.width,s=i.height;r(n,{width:o,height:s,type:t.type,objUrl:a,img:i})},i.src=a})}function Hr(t){const e="png",n="jpg",r="webp";return{[xt.PNG]:e,[xt.JPG]:n,[xt.WEBP]:r}[t]}function cn(t){const e=new URL(t).pathname.split(".");return e[n=e.length,r=1,n-r];var n,r}function Ur(t,e){const n=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=n,r.download=e,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n)}function Be(t){const e=function(L,I){return L(I)},n="image",r=function(L,I,Q){return L(I,Q)},i="error",a=function(L,I,Q){return L(I,Q)},o="skip",s=".mp4",u=".webm",c=function(L,I){return L(I)},f=function(L,I){return L!==I},p=function(L,I){return L!==I},h=function(L,I){return L(I)},l=function(L,I,Q){return L(I,Q)},d=function(L,I){return L+I},m=function(L,I){return L(I)},v=function(L,I){return L(I)},F=function(L,I){return L(I)},C=function(L,I){return L(I)},b=function(L){return L()},A=function(L,I){return L>I},w=function(L,I,Q){return L(I,Q)},y=function(L,I,Q){return L(I,Q)},x="done",z=function(L,I){return L/I},H=function(L,I){return L*I},U=function(L,I){return L(I)},J=function(L,I){return L(I)},B=function(L){return L()},{step:T,setPhotoStatus:D,downloadCountRef:_,resumeDownloadPayload:j}=h(M.useContext,st),{isFileIdDownloaded:W,appendDownloadedFile:S}=U(M.useContext,Me),{isSkipDownloadedFile:O,isGenFolder:Y,fileFormatAs:K,fileNameFormatRule:E,folderNameRule:k,getFeatureLimitProcessTimeValue:P}=J(M.useContext,pt);m(M.useContext,t?ae:ie),r(M.useEffect,()=>{},[T]);const{getDirPickerHandler:$}=B(Le);return{download:async function(L){var tt;let I=await(await e(fetch,L.uri)).blob();if(!I.type.startsWith(n))return void r(D,L.id,i);if(O&&e(W,L.id)||~L.uri.indexOf(s)||~L.uri.indexOf(u))return a(D,L.id,o);_.current++;let Q=((tt=j.current)==null?void 0:tt.lastIndex)??0;Q+=_.current;let Z=c(me,{rule:e(P,{featureKey:ct.FILENAME_FORMATS,currentIndex:Q,currentValue:E}),fields:ee,data:{id:L.id,index:Q,createdAt:L.createdAt,userName:L.userName,uri:L.uri,userId:L.userId}});Z=Z+"."+e(cn,L.uri);let lt=e(P,{featureKey:ct.IMAGES_FORMAT_AS,currentIndex:Q,currentValue:K});f(lt,xt.ORIGINAL)&&p(lt,await h(Ar,L.uri))&&(I=await l(Br,I,lt),Z=d(m(nn,Z),"."+m(Hr,lt))),Z=v(At,Z);let ht=[];ht=Y?F(me,{rule:C(P,{featureKey:ct.FOLDER_NAME_RULE,currentIndex:Q,currentValue:k}),fields:ee,data:{id:L.id,index:Q,createdAt:L.createdAt,userName:L.folderName,uri:L.uri,userId:L.userId}}).split("/").filter(dt=>dt.trim().length>0).map(dt=>_n(dt)):[];let Ct=b($);if(A(ht.length,0)&&(Ct=await w(Pr,Ct,ht)),window.downloadedFilenameCountMap=window.downloadedFilenameCountMap||{},f(void 0,window.downloadedFilenameCountMap[Z])){window.downloadedFilenameCountMap[Z]=d(window.downloadedFilenameCountMap[Z],1);const dt=Z.split(".");dt.splice(-1,0,window.downloadedFilenameCountMap[Z]),Z=dt.join(".")}else window.downloadedFilenameCountMap[Z]=0;let X=await Ct.getFileHandle(Z,{create:!0}),G=await X.createWritable();await G.write(I),await G.close(),I=null,X=null,G=null,y(D,L.id,x),h(S,L.id),await h(De,z(Math.ceil(d(H(200,Math.random()),50)),1e3))}}}function ln(){const t=function(f,p){return f(p)},e=function(f){return f()},n=function(f,p){return f===p},r=function(f,p){return f*p},i=function(f,p){return f>p},a=function(f,p){return f(p)},o=function(f,p){return f(p)},{requestDelay:s,isFullSpeed:u}=a(M.useContext,pt),{setRequestDelayMsRef:c}=o(M.useContext,st);return{requestDelay:async function(){if(n(0,s)||u)return;const f=r(1e3,s);i(s,1)&&a(c,f),await new Promise(p=>setTimeout(()=>{t(c,0),e(p)},f))}}}const jr=window.zKjQYvgSmF("pjubSmfyjQcfX").get();function Vr(){const t={oCcii:function(B,T){return B(T)},pJjVd:function(B,T,D,_){return B(T,D,_)},enIqV:"CometPhotoRootContentQuery",mBCMR:function(B,T,D){return B(T,D)},XDHOD:"photo",DHNyj:"API request error 141 photo:",iVMDU:function(B,T,D){return B(T,D)},BQqeu:"data.currMedia.owner.id",LFBdw:function(B,T){return B>T},qaLnZ:"Failed to fetch HD photos",PKUzj:function(B,T,D){return B(T,D)},EXaYj:function(B,T){return B+T},LXwIa:"data.owner.name",zbQhR:"name",NbsZL:"unknown",KmTcz:"data.currMedia.image.uri",pPIiv:"data.currMedia.id",yAjvR:function(B,T){return B(T)},pYhfi:function(B,T){return B??T},ymzxw:"data.currMedia.created_time",QfryL:function(B,T){return B(T)},NMDPT:"set",ZYpFP:"found collectionToken as undefined!",RtDKS:function(B,T){return B(T)},GxpFH:function(B,T,D,_){return B(T,D,_)},LfZau:function(B,T){return B==T},oZrxR:"string",Jcrxe:function(B,T){return B===T},PMcjf:"Photo",rCmCa:function(B,T,D,_){return B(T,D,_)},jhicw:"waiting",JwrKi:function(B,T){return B>=T},iNAuf:function(B,T){return B+T},iHDde:function(B,T){return B-T},kWDxk:function(B,T){return B||T},Ozrkg:function(B){return B()},BgNAt:function(B,T,D){return B(T,D)},KwUIo:"downloading",bEAKq:function(B,T){return B===T},sUvgj:"day",BaknO:function(B,T){return B<T},sjIFt:"error",xfUuX:"download HD image error: ",ysVeW:"fetch HD image error: ",aEJCg:"There have been 5 consecutive request errors, and the program has been terminated. ",MBHTD:function(B,T){return B>=T},LnCqm:"uyfuopDfspuTfuvpSufnpD",fIalg:function(B,T){return B(T)},xJXhv:function(B,T){return B(T)},ILZmJ:function(B){return B()},kAxjm:function(B){return B()},PjAnW:function(B,T,D){return B(T,D)}},e=t.yAjvR(M.useContext,window.zKjQYvgSmF(t.LnCqm)),{graphQLName:n,collectionToken:r,paths:i,requestExtraPayload:a={},folderName:o}=t.fIalg(M.useContext,ie),{fetchLimit:s,fetchingCountType:u,fetchingCountByPhotosCountValue:c,fetchingCountByPhotosDaysValue:f}=t.oCcii(M.useContext,pt),{isOnLimit:p,isStopManually:h,downloadCountRef:l,photosArrRef:d,setIsFetchingNextPageRef:m,appendPhotos:v,setPhotoStatus:F,updateUI:C}=t.xJXhv(M.useContext,st),{removeResumeCursor:b,updateResumeCursor:A}=t.xJXhv(M.useContext,_e),{AvoidAccountRestrict:w}=t.Ozrkg(un),{findValueFromLoadQueryData:y,loadQuery:x}=t.Ozrkg(ye),{download:z}=t.ILZmJ(Be),{requestDelay:H}=t.kAxjm(ln),U=t.oCcii(M.useRef,0);async function J(B,T=0){var W;const D={hFRGp:t.XDHOD,PvXTb:t.DHNyj,vMHyN:function(S,O,Y){return t.iVMDU(S,O,Y)},IblMz:t.BQqeu,YDHXq:function(S,O){return t.LFBdw(S,O)},MNxtv:function(S,O){return t.oCcii(S,O)},tuYZJ:t.qaLnZ,xEVcp:function(S,O){return t.oCcii(S,O)},isNbi:function(S,O){return t.oCcii(S,O)},cLxlE:function(S,O,Y){return t.PKUzj(S,O,Y)},PKzlM:function(S,O){return t.EXaYj(S,O)},Nrhrt:t.LXwIa,XeUSj:t.zbQhR,kkcHq:t.NbsZL,VScKG:t.KmTcz,ljofY:function(S,O,Y,K){return t.pJjVd(S,O,Y,K)},NpvCh:t.pPIiv,vvawY:function(S,O){return t.yAjvR(S,O)},PCYtP:function(S,O){return t.pYhfi(S,O)},xBiqO:function(S,O){return t.yAjvR(S,O)},QLXeF:function(S,O,Y,K){return t.pJjVd(S,O,Y,K)},iMXbr:t.ymzxw,RieGc:function(S,O){return t.QfryL(S,O)}};let _=new URLSearchParams(B.uri.split("?")[1]),j=_.get(t.NMDPT);if(_=null,!j){const S=await e.fetchRoute(B.uri);(W=S==null?void 0:S.params)!=null&&W.set&&(j=S.params.set)}return new Promise((S,O)=>{const Y=function(K,E){return t.oCcii(K,E)};t.pJjVd(x,t.enIqV,t.mBCMR(sn,j,B.id),!1).then(async K=>{if(!K[0])throw console.log(D.hFRGp,B),new Error(D.PvXTb);const E=D.vMHyN(it.get,K[0],D.IblMz);if(!E)return D.YDHXq(T,2)?D.MNxtv(O,D.tuYZJ):(await D.xEVcp(De,2),D.isNbi(S,await D.cLxlE(J,B,D.PKzlM(T,1))));const k=D.vMHyN(y,K,D.Nrhrt);let P=o||(window.zKjqYvcSmF(E,D.XeUSj)??k??D.kkcHq);const $=D.vMHyN(it.get,K[0],D.VScKG),L={id:D.ljofY(it.get,K[0],D.NpvCh,""),userId:E,thumbnail:B.thumbnail,uri:$,folderName:D.vvawY(At,D.PCYtP(o,P)),userName:D.xBiqO(At,k??window.zKjqYvcSmF(E,D.XeUSj)??P),createdAt:D.QLXeF(it.get,K[0],D.iMXbr,0),status:B.status};D.RieGc(S,L)}).catch(K=>{Y(O,K)})})}return t.PjAnW(M.useEffect,()=>{if(!r)throw new Error(t.ZYpFP)},[]),{startFetchAndDownload:function B(T){const D={hGmnK:function(_,j){return t.RtDKS(_,j)},cOgqy:function(_,j,W,S){return t.pJjVd(_,j,W,S)},QLzna:function(_,j,W,S){return t.GxpFH(_,j,W,S)},ZfFru:function(_,j){return t.LfZau(_,j)},mhdsD:t.oZrxR,nMTqn:function(_,j){return t.Jcrxe(_,j)},fgTcR:t.PMcjf,Czzen:function(_,j,W,S){return t.rCmCa(_,j,W,S)},xQgpV:function(_,j,W,S){return t.rCmCa(_,j,W,S)},NfxLe:t.jhicw,dXglv:function(_,j){return t.Jcrxe(_,j)},mUWbU:function(_,j){return t.JwrKi(_,j)},YdfJQ:function(_,j){return t.iNAuf(_,j)},XWAWL:function(_,j){return t.iHDde(_,j)},slvGp:function(_,j){return t.EXaYj(_,j)},ctWPf:function(_,j){return t.kWDxk(_,j)},HpFeb:function(_,j){return t.RtDKS(_,j)},sgOSH:function(_){return t.Ozrkg(_)},fACmg:function(_){return t.Ozrkg(_)},ZwXSa:function(_){return t.Ozrkg(_)},vVkjD:function(_,j,W){return t.BgNAt(_,j,W)},LVRjy:t.KwUIo,dmMvg:function(_,j){return t.bEAKq(_,j)},BWWbe:t.sUvgj,kiBNo:function(_,j){return t.BaknO(_,j)},arHxG:t.qaLnZ,BgNld:t.sjIFt,CZBEh:t.xfUuX,kPGzu:t.ysVeW,ILbsG:function(_,j,W){return t.BgNAt(_,j,W)},GDwQr:function(_,j){return t.LFBdw(_,j)},Ggvlr:t.aEJCg,buthN:function(_,j,W,S){return t.rCmCa(_,j,W,S)}};return h.current?Promise.resolve():t.MBHTD(l.current,s)?(p.current=!0,Promise.resolve()):(T&&t.RtDKS(A,T),new Promise(async(_,j)=>{const W={CdJGQ:function(S,O){return D.hGmnK(S,O)},ffDel:function(S,O){return D.mUWbU(S,O)},pwdjo:function(S){return D.ZwXSa(S)},fOONt:function(S,O,Y){return D.vVkjD(S,O,Y)},TEykf:D.LVRjy,Omxed:function(S,O){return D.dmMvg(S,O)},UvCLx:function(S,O){return D.XWAWL(S,O)},NTkHq:D.BWWbe,UlyuR:function(S,O){return D.kiBNo(S,O)},DkBpb:D.arHxG,ccXbX:function(S,O){return D.HpFeb(S,O)},fHULm:D.BgNld,DkpqG:D.CZBEh,HvULY:D.kPGzu,wTsRE:function(S,O,Y){return D.ILbsG(S,O,Y)},WZbuG:function(S,O){return D.GDwQr(S,O)},oApRg:D.Ggvlr,LvGJN:function(S,O){return D.HpFeb(S,O)}};await D.sgOSH(w),await D.sgOSH(H),D.HpFeb(m,!0),D.buthN(x,n,{count:8,scale:jr,cursor:D.ctWPf(T,null),id:r,...a},!0).then(async S=>{if(D.hGmnK(m,!1),!S[0])throw new Error("API request error 142 collectionToken:"+r);const O=D.cOgqy(it.get,S[0],i.edgesPath,[]),Y=D.QLzna(it.get,S[0],i.pageInfoPath,{}),K=Y.has_next_page??!1,E=Y.end_cursor??null;let k=[];for(let L of O){const I=D.ZfFru(D.mhdsD,typeof i.viewerLinkPath)?D.cOgqy(it.get,L,i.viewerLinkPath,""):i.viewerLinkPath(L);D.nMTqn(D.fgTcR,D.Czzen(it.get,L,i.nodeTypePath,""))&&k.push({id:D.cOgqy(it.get,L,i.idPath,""),thumbnail:D.xQgpV(it.get,L,i.thumbnailUriPath,""),uri:I,userId:"",userName:"",folderName:"",createdAt:0,status:D.NfxLe})}let P=!1;if(D.dXglv(u,yt.BY_PHOTOS_COUNT)&&D.mUWbU(D.YdfJQ(d.current.length,k.length),c)){const L=D.XWAWL(k.length,D.XWAWL(D.slvGp(d.current.length,k.length),c));k=k.slice(0,L),P=!0}let $=!await async function(L){L=L.filter(I=>!d.current.find(Q=>Q.id===I.id)),W.CdJGQ(v,L);for(let I of L){if(W.ffDel(l.current,s))return p.current=!0,!1;if(await W.pwdjo(w),await W.pwdjo(H),h.current)return!1;W.fOONt(F,I.id,W.TEykf);let Q=I;try{if(Q=await W.CdJGQ(J,I),W.Omxed(u,yt.BY_DAYS_COUNT)){const Z=W.pwdjo(Dt).subtract(W.UvCLx(f,1),W.NTkHq).startOf(W.NTkHq).unix();if(W.UlyuR(Q.createdAt,Z))return!1}U.current=0;try{if(!Q.id)throw new Error(W.DkBpb);await W.ccXbX(z,Q)}catch(Z){W.fOONt(F,I.id,W.fHULm),console.error(W.DkpqG,Z,I)}}catch(Z){if(W.ccXbX(Ln,Z))throw new Error(Z);if(console.error(W.HvULY,Z,I),W.wTsRE(F,I.id,W.fHULm),U.current++,W.WZbuG(U.current,5))throw new Error(W.oApRg)}}return!0}(k);return D.ctWPf(P,$)||(K?await D.HpFeb(B,E):D.sgOSH(b)),D.fACmg(_)}).catch(S=>{W.LvGJN(j,S)})}))}}}function Qr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dn={exports:{}};(function(t){var e,n={kdTvR:function(r,i,a,o,s){return r(i,a,o,s)},ZXYcq:"second",sZyrn:"minute",vZvjq:"hour",RoaJR:"day",kINEo:"month",oposB:"year",FfzIC:function(r,i){return r<i},LZNuU:function(r,i){return r(i)},bMPsM:function(r,i){return r>i},EYwNl:function(r,i){return r<=i},KGJLf:function(r,i){return r-i},vNazN:function(r,i){return r+i},SpVkG:function(r,i){return r==i},QAlmi:"string",tHFoC:"function",lzIgH:function(r,i,a,o){return r(i,a,o)},fpxnp:function(r){return r()},ULvya:function(r,i){return r||i},aQuHm:"in %s",hqJpU:"%s ago",RVEgD:"a few seconds",KhTUo:"a minute",pTsan:"%d minutes",Amjfw:"an hour",VZHxI:"%d hours",TyoZE:"a day",omkXd:"%d days",Powfx:"a month",KEqgU:"%d months",YURLV:"a year",yAqAc:"%d years",qFslD:function(r){return r()}};e=function(){var r={QcRcE:function(i,a,o,s,u){return n.kdTvR(i,a,o,s,u)},DShVr:n.ZXYcq,XaXIQ:n.sZyrn,LLdUc:n.vZvjq,mqAag:n.RoaJR,ljtjp:n.kINEo,dYXvY:n.oposB,uXyKH:function(i,a){return n.FfzIC(i,a)},taJPK:function(i,a){return n.LZNuU(i,a)},vLWSp:function(i,a){return n.bMPsM(i,a)},QONoc:function(i,a){return n.EYwNl(i,a)},dnZuI:function(i,a){return n.KGJLf(i,a)},uNnJP:function(i,a){return n.vNazN(i,a)},mtjuC:function(i,a){return n.SpVkG(i,a)},SpRZs:n.QAlmi,FLTCo:n.tHFoC,wnSSj:function(i,a,o,s){return n.lzIgH(i,a,o,s)},qVySj:function(i){return n.fpxnp(i)},nSGjU:function(i,a){return n.ULvya(i,a)},UAZkd:n.aQuHm,KWWaQ:n.hqJpU,vePsm:n.RVEgD,OyblP:n.KhTUo,MUDEl:n.pTsan,LMzTT:n.Amjfw,AWjfT:n.VZHxI,QbYZO:n.TyoZE,rcmTS:n.omkXd,hoQZx:n.Powfx,kQahP:n.KEqgU,dcOgU:n.YURLV,LtTCf:n.yAqAc};return function(i,a,o){var s={nVyGl:r.DShVr,hlivQ:r.XaXIQ,gtMeA:r.LLdUc,ndztB:r.mqAag,Qhinp:r.ljtjp,mAysY:r.dYXvY,dhzGP:function(h,l){return r.uXyKH(h,l)},bPyhk:function(h,l){return r.taJPK(h,l)},JUvrN:function(h,l){return r.vLWSp(h,l)},oHede:function(h,l){return r.QONoc(h,l)},oiJDJ:function(h,l){return r.dnZuI(h,l)},SoVAA:function(h,l){return r.taJPK(h,l)},YdmVM:function(h,l){return r.uNnJP(h,l)},ISLrx:function(h,l){return r.mtjuC(h,l)},qJctS:r.SpRZs,GsBXK:function(h,l,d,m,v){return r.QcRcE(h,l,d,m,v)},wWOwP:function(h,l){return r.mtjuC(h,l)},LyKWt:r.FLTCo,rgnPG:function(h,l,d,m){return r.wnSSj(h,l,d,m)},YpDZT:function(h){return r.qVySj(h)}};i=r.nSGjU(i,{});var u=a.prototype,c={future:r.UAZkd,past:r.KWWaQ,s:r.vePsm,m:r.OyblP,mm:r.MUDEl,h:r.LMzTT,hh:r.AWjfT,d:r.QbYZO,dd:r.rcmTS,M:r.hoQZx,MM:r.kQahP,y:r.dcOgU,yy:r.LtTCf};function f(h,l,d,m){return u.fromToBase(h,l,d,m)}o.en.relativeTime=c,u.fromToBase=function(h,l,d,m,v){for(var F,C,b,A=d.$locale().relativeTime||c,w=i.thresholds||[{l:"s",r:44,d:s.nVyGl},{l:"m",r:89},{l:"mm",r:44,d:s.hlivQ},{l:"h",r:89},{l:"hh",r:21,d:s.gtMeA},{l:"d",r:35},{l:"dd",r:25,d:s.ndztB},{l:"M",r:45},{l:"MM",r:10,d:s.Qhinp},{l:"y",r:17},{l:"yy",d:s.mAysY}],y=w.length,x=0;s.dhzGP(x,y);x+=1){var z=w[x];z.d&&(F=m?s.bPyhk(o,h).diff(d,z.d,!0):d.diff(h,z.d,!0));var H=(i.rounding||Math.round)(Math.abs(F));if(b=s.JUvrN(F,0),s.oHede(H,z.r)||!z.r){s.oHede(H,1)&&s.JUvrN(x,0)&&(z=w[s.oiJDJ(x,1)]);var U=A[z.l];v&&(H=s.SoVAA(v,s.YdmVM("",H))),C=s.ISLrx(s.qJctS,typeof U)?U.replace("%d",H):s.GsBXK(U,H,l,z.l,b);break}}if(l)return C;var J=b?A.future:A.past;return s.wWOwP(s.LyKWt,typeof J)?s.bPyhk(J,C):J.replace("%s",C)},u.to=function(h,l){return r.QcRcE(f,h,l,this,!0)},u.from=function(h,l){return s.rgnPG(f,h,l,this)};var p=function(h){return h.$u?o.utc():s.YpDZT(o)};u.toNow=function(h){return this.to(s.bPyhk(p,this),h)},u.fromNow=function(h){return this.from(s.bPyhk(p,this),h)}}},t.exports=n.qFslD(e)})(dn);var Wr=dn.exports;const Kr=Qr(Wr);Dt.extend(Kr);function qr(){const t={dKkxg:function(l,d){return l(d)},qmGjP:function(l,d,m){return l(d,m)},WEovD:function(l){return l()},pPBkk:function(l){return l()},JoRkL:function(l){return l()},PAkNI:"consumeFeaturesTreeTryByMemoUIConfigs",iRMhV:function(l,d){return l(d)},gNcdA:function(l,d){return l(d)},mlBvC:function(l,d){return l(d)},gpIEE:function(l,d){return l(d)},AHuHl:function(l){return l()},XKeKH:"100%",tRDng:"space-between",KRlLv:"middle",cWbGL:function(l,d,m){return l(d,m)},yCeIC:function(l,d,m){return l(d,m)},KwNvT:function(l,d,m){return l(d,m)},oPbKJ:function(l,d){return l===d},gibuP:function(l,d,m){return l(d,m)},ZhatZ:"text",Rqwxc:"Close",sZKhF:function(l,d,m){return l(d,m)},HoQKn:"primary",dULtE:"Stop",MOVWA:function(l,d){return l===d},VmSHS:function(l,d,m){return l(d,m)},zenxe:"ReDownload"},{resetStatus:e,setOpen:n,step:r,isStopManually:i,setStep:a,isOnLimit:o,updateUI:s}=t.mlBvC(M.useContext,st),{isSkipDownloadedFile:u,saveMemoSettings:c}=t.mlBvC(M.useContext,pt),{modalApi:f}=t.gpIEE(M.useContext,Ot),{startFetchAndDownload:p}=t.AHuHl(Vr);function h(l){const d=function(v,F){return t.dKkxg(v,F)},m=function(v,F,C){return t.qmGjP(v,F,C)};t.WEovD(c),t.pPBkk(te),t.JoRkL(gt).send(t.PAkNI,{isSkipDownloadedFile:u}),i.current=!1,t.iRMhV(a,et.DOWNLOADING),t.dKkxg(p,l).then(()=>{if(o.current)return d(s,!0);d(a,et.DONE)}).catch(v=>{console.error(v),i.current=!0,m(ve,f,v)})}return t.qmGjP(g.jsxs,N.Row,{style:{width:t.XKeKH},justify:t.tRDng,align:t.KRlLv,children:[t.cWbGL(g.jsxs,N.Space,{size:8,children:[t.yCeIC(g.jsx,Oe,{}),t.KwNvT(g.jsx,Ie,{})]}),t.cWbGL(g.jsxs,N.Space,{size:24,children:[t.oPbKJ(r,et.START)&&t.cWbGL(g.jsxs,g.Fragment,{children:[t.gibuP(g.jsx,N.Button,{type:t.ZhatZ,onClick:()=>n(!1),children:t.Rqwxc}),t.KwNvT(g.jsx,Pe,{onClick:()=>h()}),t.sZKhF(g.jsx,_r,{onClick:h})]}),t.oPbKJ(r,et.DOWNLOADING)&&t.sZKhF(g.jsx,g.Fragment,{children:t.cWbGL(g.jsx,N.Button,{type:t.HoQKn,danger:!0,onClick:()=>{i.current=!0,t.gNcdA(a,et.DONE)},children:t.dULtE})}),t.MOVWA(r,et.DONE)&&t.sZKhF(g.jsxs,g.Fragment,{children:[t.VmSHS(g.jsx,N.Button,{type:t.ZhatZ,onClick:()=>n(!1),children:t.Rqwxc}),t.sZKhF(g.jsx,N.Button,{onClick:()=>e(),children:t.zenxe})]})]})]})}function ze(){const t={IGIhF:function(c,f){return c(f)},JoWXd:function(c){return c()},HeWxO:function(c,f,p){return c(f,p)},eMzYf:"vertical",UHsCj:"100%",kcwwz:"relative",yQjFT:"div",xUBQa:" images have already been downloaded.",ISuEQ:"auto",HaVqw:"hidden",hysKe:function(c,f,p){return c(f,p)},UpCVb:"absolute",xCnbG:"flex",zUXOZ:"row",iKmFZ:"center",tYWyQ:"var(--overlay-alpha-80)",jbUia:"warning",sZknt:function(c,f,p){return c(f,p)},bHtAw:"For our valued free users, we currently offer a generous allotment of ",eQxXC:" images per queue. However, we would like to extend an invitation for you to upgrade and enjoy the benefits of unlimited downloads.",OOTnM:"primary",kJRDY:"Upgrade Now!",ELdvr:function(c,f,p){return c(f,p)},kdrMJ:"span",rqtVH:function(c,f,p){return c(f,p)},oyxjk:"small",KwWjP:"#3b82f6",pLoEE:"fetching next page.",UPHfl:function(c,f,p){return c(f,p)},bpEgP:"Request delay, please wait for",SuntY:function(c,f){return c/f},XTfGm:" seconds.",XHRND:function(c,f,p){return c(f,p)},prJFx:function(c,f,p){return c(f,p)},ezJFl:"#DC2625",Xvkhg:"To avoid account restrictions, please wait for",yoIqz:function(c,f){return c/f}},{photosArrRef:e,downloadCountRef:n,isFetchingNextPageRef:r,avoidAccountRestrictMSRef:i,isOnLimit:a,requestDelayMsRef:o}=t.IGIhF(M.useContext,st),{fetchLimit:s}=t.IGIhF(M.useContext,pt),u=t.JoWXd(M.useRef);return t.HeWxO(M.useEffect,()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[e.current]),t.HeWxO(g.jsxs,N.Space,{direction:t.eMzYf,size:8,style:{width:t.UHsCj,position:t.kcwwz},children:[t.HeWxO(g.jsxs,t.yQjFT,{children:[n.current,t.xUBQa]}),t.HeWxO(g.jsx,t.yQjFT,{ref:u,style:{height:350,width:t.UHsCj,overflow:t.ISuEQ,overflowX:t.HaVqw,position:t.kcwwz},children:e.current.slice(-78).map(c=>g.jsxs("div",{style:{position:"relative",display:"inline-block",width:50,height:50,marginRight:8,marginBottom:8},children:[g.jsx("div",{style:{backgroundImage:"url("+c.thumbnail+")",width:50,height:50,backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",borderRadius:4}}),c.status!=="waiting"&&g.jsxs(Yr,{children:[c.status==="done"&&g.jsx(Et.CheckOutlined,{style:{color:"#A3E636",fontSize:24}}),c.status==="skip"&&g.jsx("span",{style:{fontSize:14,color:"#fff"},children:"skip"}),c.status==="downloading"&&g.jsx(Et.LoadingOutlined,{spin:!0,style:{fontSize:24,color:"#fff"}}),c.status==="error"&&g.jsx(Et.CloseOutlined,{style:{fontSize:24,color:"#f20"}})]})]},c.id))}),a.current&&t.hysKe(g.jsx,t.yQjFT,{style:{position:t.UpCVb,left:0,right:0,bottom:0,top:0,display:t.xCnbG,flexDirection:t.zUXOZ,justifyContent:t.iKmFZ,alignItems:t.iKmFZ,backgroundColor:t.tYWyQ,zIndex:9},children:t.HeWxO(g.jsx,N.Alert,{type:t.jbUia,style:{width:420},message:t.sZknt(g.jsxs,N.Space,{direction:t.eMzYf,size:12,children:[t.sZknt(g.jsxs,t.yQjFT,{children:[t.bHtAw,t.HeWxO(g.jsx,"b",{children:s}),t.eQxXC]}),t.sZknt(g.jsx,N.Button,{type:t.OOTnM,onClick:()=>gt().send("visitPricing"),children:t.kJRDY})]})})}),t.hysKe(g.jsxs,t.yQjFT,{children:[r.current&&t.ELdvr(g.jsxs,t.kdrMJ,{children:[t.rqtVH(g.jsx,N.Spin,{size:t.oyxjk}),t.ELdvr(g.jsx,t.kdrMJ,{style:{paddingLeft:6,color:t.KwWjP},children:t.pLoEE})]}),o.current?t.UPHfl(g.jsxs,t.kdrMJ,{children:[t.HeWxO(g.jsx,N.Spin,{size:t.oyxjk}),t.sZknt(g.jsxs,t.kdrMJ,{style:{paddingLeft:6},children:[t.bpEgP," ",t.SuntY(o.current,1e3).toFixed(1),t.XTfGm]})]}):t.hysKe(g.jsx,g.Fragment,{}),i.current?t.XHRND(g.jsxs,t.kdrMJ,{children:[t.prJFx(g.jsx,N.Spin,{size:t.oyxjk}),t.XHRND(g.jsxs,t.kdrMJ,{style:{paddingLeft:6,color:t.ezJFl},children:[t.Xvkhg," ",t.yoIqz(i.current,1e3).toFixed(1),t.XTfGm]})]}):t.rqtVH(g.jsx,g.Fragment,{})]})]})}function Yr(t){const e={HgSLi:function(n,r,i){return n(r,i)},pjYes:"div",SqIhD:"absolute",wkKib:"flex",UmzNX:"center",tlwuR:"rgba(0,0,0,0.4)"};return e.HgSLi(g.jsx,e.pjYes,{style:{position:e.SqIhD,left:0,right:0,top:0,bottom:0,display:e.wkKib,justifyContent:e.UmzNX,alignItems:e.UmzNX,backgroundColor:e.tlwuR},children:t.children})}function Xr(){const t={zHCuv:"sfebpmuppC",kEOcX:"CometPhotoRoot.react",LHPWU:"sfidubqtjEsfuvpSufnpDftv",aPtLs:function(n,r,i){return n(r,i)}},e=window.zKjQYvgSmF(t.LHPWU)();t.aPtLs(M.useEffect,()=>{window.zKjQYvgSmF(t.zHCuv).loadModules([t.kEOcX]),e.preloadRouteCode(window.location.origin+"/photo.php?fbid=10111561304664571&set=t.4&type=3")},[])}function Gr(){const t={NNwBV:function(i,a){return i(a)},dTEdP:function(i){return i()},QhXnA:function(i,a,o){return i(a,o)},wPxtE:function(i,a,o){return i(a,o)},VlNHi:function(i,a,o){return i(a,o)},EuJjW:"var(--secondary-text)",uuDiQ:"div",AqgkA:"100%",Rbhdj:"flex",wgeiJ:"column",MLcpp:"space-between",rJoGY:function(i,a,o){return i(a,o)},vzpPR:"vertical",CNMTB:function(i,a){return i===a},gfeeh:function(i,a,o){return i(a,o)},bruWs:function(i,a,o){return i(a,o)},fAToJ:function(i,a,o){return i(a,o)},EkPxo:function(i,a){return i===a},XUBje:function(i,a,o){return i(a,o)},zLLLC:"download-albums-for-instagram",ozfLE:"export-posts-for-facebook",JjdhG:function(i,a,o){return i(a,o)},twwqF:"square",nFbrl:"Download This Album"},{open:e,setOpen:n,step:r}=t.NNwBV(M.useContext,st);return t.dTEdP(Xr),t.QhXnA(g.jsxs,g.Fragment,{children:[t.wPxtE(g.jsx,N.Modal,{open:e,onCancel:()=>n(!1),width:840,title:t.VlNHi(g.jsx,Ee,{}),footer:null,bodyStyle:{height:500,color:t.EuJjW},children:t.wPxtE(g.jsxs,t.uuDiQ,{style:{height:t.AqgkA,width:t.AqgkA,display:t.Rbhdj,flexDirection:t.wgeiJ,justifyContent:t.MLcpp},children:[t.rJoGY(g.jsxs,N.Space,{direction:t.vzpPR,size:12,style:{width:t.AqgkA},children:[t.CNMTB(r,et.START)&&t.gfeeh(g.jsx,g.Fragment,{children:t.QhXnA(g.jsx,xe,{})}),t.CNMTB(r,et.DOWNLOADING)&&t.bruWs(g.jsx,g.Fragment,{children:t.fAToJ(g.jsx,ze,{})}),t.EkPxo(r,et.DONE)&&t.fAToJ(g.jsxs,g.Fragment,{children:[t.XUBje(g.jsx,ke,{}),t.rJoGY(g.jsx,de,{extsProjectIdArr:[t.zLLLC,t.ozfLE],perRow:2})]})]}),t.JjdhG(g.jsx,qr,{})]})}),t.wPxtE(g.jsxs,N.Button,{onClick:()=>n(!0),style:{marginBottom:12},children:[t.JjdhG(g.jsx,N.Avatar,{style:{marginTop:-2,marginRight:8},src:window.download_albums_for_facebook_icon,size:24,shape:t.twwqF}),t.nFbrl]})]})}function Wt(t){const e="udbfs/zsbeovpCspssFufnpD",n=function(p,h){return p===h},r="ENABLED",i="fepNlsbEufnpD",a=function(p,h,l){return p(h,l)},o=function(p,h,l){return p(h,l)},s=function(p,h,l){return p(h,l)},u=function(p,h,l){return p(h,l)},c=window.zKjQYvgSmF(e),f=n(r,window.zKjQYvgSmF(i).getDarkModeSetting());return a(g.jsx,c,{fallback:Jr,children:o(g.jsx,N.ConfigProvider,{theme:{algorithm:f?N.theme.darkAlgorithm:N.theme.defaultAlgorithm,token:{motion:!1}},children:a(g.jsx,Te,{children:o(g.jsx,Ae,{children:s(g.jsx,Fe,{children:s(g.jsx,ie.Provider,{value:t,children:a(g.jsx,Ir,{children:u(g.jsx,Ne,{children:o(g.jsx,Gr,{})})})})})})})})})}function Jr(t){return console.error(t),g.jsx(Se,{})}function Zr(){const t={TveIk:"found collectionToken as undefined!",ydgBH:function(d,m){return d(m)},RVgFC:function(d,m,v){return d(m,v)},VyOKG:"data.currMedia.owner.id",opzwY:function(d,m){return d>m},RPDOI:"Failed to fetch HD photos",lShqa:function(d,m,v){return d(m,v)},kKejQ:function(d,m){return d+m},rBBVc:"data.owner.name",VmNMi:"name",xKrnL:"unknown",mBlad:"data.currMedia.image.uri",yxrks:function(d,m,v,F){return d(m,v,F)},GRNoP:"data.currMedia.id",OOCvE:"waiting",zlinP:"data.currMedia.created_time",ZjoQt:"data.mediaset.nextMedia.edges[0].node.id",tFFFO:"data.nextMediaAfterNodeId.id",WqnJQ:function(d){return d()},yBSuU:function(d){return d()},ZRyIT:"CometPhotoRootContentQuery",LxoUj:function(d,m,v){return d(m,v)},RTNJX:function(d,m){return d||m},eOsRJ:function(d,m){return d>=m},VYegy:function(d,m){return d===m},rPRkv:function(d,m){return d(m)},PHDFN:function(d,m){return d(m)},nPkqT:function(d){return d()},ycktP:function(d,m){return d(m)}},{collectionToken:e,currentPhotoId:n}=t.rPRkv(M.useContext,ae),{isStopManually:r,downloadCountRef:i,isOnLimit:a,setIsFetchingNextPageRef:o,appendPhotos:s}=t.PHDFN(M.useContext,st),{fetchLimit:u}=t.PHDFN(M.useContext,pt),{AvoidAccountRestrict:c}=t.WqnJQ(un),{findValueFromLoadQueryData:f,loadQuery:p}=t.nPkqT(ye),{download:h}=t.ycktP(Be,!0),{requestDelay:l}=t.WqnJQ(ln);return t.lShqa(M.useEffect,()=>{if(!e)throw new Error(t.TveIk)},[]),{startFetchAndDownload:function d(m,v=0){const F={ZnXFg:function(b,A){return t.ydgBH(b,A)},lOFqz:function(b,A,w){return t.RVgFC(b,A,w)},VMEEZ:t.VyOKG,esPiZ:function(b,A){return t.opzwY(b,A)},aSJYH:t.RPDOI,CyhiJ:function(b,A,w){return t.lShqa(b,A,w)},yzLLz:function(b,A){return t.kKejQ(b,A)},vtBzs:t.rBBVc,MHlWa:t.VmNMi,NWFXv:t.xKrnL,wXWtE:t.mBlad,IoEWy:function(b,A,w,y){return t.yxrks(b,A,w,y)},isOQL:t.GRNoP,IbgnU:t.OOCvE,PeOVb:function(b,A,w,y){return t.yxrks(b,A,w,y)},avhGh:t.zlinP,PyasR:t.ZjoQt,CQFre:t.tFFFO,vBgif:function(b){return t.WqnJQ(b)},wYgLt:function(b){return t.yBSuU(b)},aOFHy:t.ZRyIT,qUIjc:function(b,A,w){return t.LxoUj(b,A,w)},AcAwz:function(b,A){return t.RTNJX(b,A)}};if(r.current)return Promise.resolve();if(t.eOsRJ(i.current,u))return a.current=!0,Promise.resolve();const C=m;return t.VYegy(m,n)?Promise.resolve():new Promise(async(b,A)=>{const w={yfcWe:function(y,x){return F.ZnXFg(y,x)},NsWMt:function(y,x,z){return F.lOFqz(y,x,z)},KiBfD:F.VMEEZ,ybdIb:function(y,x){return F.esPiZ(y,x)},vGmnZ:function(y,x){return F.ZnXFg(y,x)},bswXo:F.aSJYH,ZKIeg:function(y,x,z){return F.CyhiJ(y,x,z)},XFfkh:function(y,x){return F.yzLLz(y,x)},UtUVD:F.vtBzs,exLIe:F.MHlWa,tzTuV:F.NWFXv,JGIWd:F.wXWtE,XspXr:function(y,x,z,H){return F.IoEWy(y,x,z,H)},tnSlM:F.isOQL,xYFdP:F.IbgnU,BhVPF:function(y,x,z,H){return F.IoEWy(y,x,z,H)},WyTOL:function(y,x,z,H){return F.PeOVb(y,x,z,H)},vjeuC:F.avhGh,izuGO:F.PyasR,MAOgo:F.CQFre,bbbCI:function(y){return F.vBgif(y)},HhGNe:function(y,x){return F.ZnXFg(y,x)}};await F.vBgif(c),await F.wYgLt(l),F.ZnXFg(o,!0),F.CyhiJ(p,F.aOFHy,F.qUIjc(sn,e,F.AcAwz(m,n))).then(async y=>{if(w.yfcWe(o,!1),!y[0])throw new Error("API request error 143 photoId:"+n);const x=w.NsWMt(it.get,y[0],w.KiBfD);if(!x)return w.ybdIb(v,2)?w.vGmnZ(A,w.bswXo):(await w.yfcWe(De,2),w.yfcWe(b,await w.ZKIeg(d,C,w.XFfkh(v,1))));const z=w.ZKIeg(f,y,w.UtUVD);let H=window.zKjqYvcSmF(x,w.exLIe)??z??w.tzTuV;const U=w.ZKIeg(it.get,y[0],w.JGIWd);if(w.vGmnZ(s,[{id:w.XspXr(it.get,y[0],w.tnSlM,""),userId:x,thumbnail:U,uri:"",folderName:"",userName:"",createdAt:0,status:w.xYFdP}]),r.current||(await w.vGmnZ(h,{id:w.BhVPF(it.get,y[0],w.tnSlM,""),userId:x,thumbnail:U,uri:U,folderName:w.yfcWe(At,H),userName:w.vGmnZ(At,H),createdAt:w.WyTOL(it.get,y[0],w.vjeuC,0),status:w.xYFdP}),r.current))return;const J=w.NsWMt(it.get,y[0],w.izuGO)??w.ZKIeg(f,y,w.MAOgo);J?w.yfcWe(b,await w.yfcWe(d,J)):w.bbbCI(b)}).catch(y=>{console.log(y),w.HhGNe(A,y)})})}}}function Rr(){const t={oEfHN:function(h,l){return h(l)},icSgt:function(h,l,d){return h(l,d)},rAslP:function(h){return h()},qTvQk:function(h,l,d){return h(l,d)},fpBxN:"100%",JyjMP:"space-between",gpTCg:"middle",WjTdU:function(h,l,d){return h(l,d)},UJHXY:function(h,l,d){return h(l,d)},bBUPK:function(h,l,d){return h(l,d)},IzaUE:function(h,l){return h===l},Qzcwo:function(h,l,d){return h(l,d)},YoSXn:function(h,l,d){return h(l,d)},jPXqj:"text",SRYkZ:"Close",NpPWv:"primary",RFpPK:"Stop",KnJtc:function(h,l,d){return h(l,d)},lyPav:"ReDownload"},{resetStatus:e,setOpen:n,step:r,isStopManually:i,updateUI:a,setStep:o,isOnLimit:s}=t.oEfHN(M.useContext,st),{isSkipDownloadedFile:u,saveMemoSettings:c}=t.oEfHN(M.useContext,pt),{modalApi:f}=t.oEfHN(M.useContext,Ot),{startFetchAndDownload:p}=t.rAslP(Zr);return t.qTvQk(g.jsxs,N.Row,{style:{width:t.fpBxN},justify:t.JyjMP,align:t.gpTCg,children:[t.WjTdU(g.jsxs,N.Space,{size:8,children:[t.qTvQk(g.jsx,Oe,{}),t.UJHXY(g.jsx,Ie,{})]}),t.bBUPK(g.jsxs,N.Space,{size:24,children:[t.IzaUE(r,et.START)&&t.Qzcwo(g.jsxs,g.Fragment,{children:[t.YoSXn(g.jsx,N.Button,{type:t.jPXqj,onClick:()=>n(!1),children:t.SRYkZ}),t.icSgt(g.jsx,Pe,{onClick:()=>(c(),te(),gt().send("consumeFeatureTreeTry",[ct.CAROUSEL_DOWNLOADER]),gt().send("consumeFeaturesTreeTryByMemoUIConfigs",{isSkipDownloadedFile:u}),i.current=!1,o(et.DOWNLOADING),void p().then(()=>{if(s.current)return t.oEfHN(a,!0);t.oEfHN(o,et.DONE)}).catch(h=>{console.error(h),i.current=!0,t.icSgt(ve,f,h)}))})]}),t.IzaUE(r,et.DOWNLOADING)&&t.Qzcwo(g.jsx,g.Fragment,{children:t.qTvQk(g.jsx,N.Button,{type:t.NpPWv,danger:!0,onClick:()=>{i.current=!0,t.oEfHN(o,et.DONE)},children:t.RFpPK})}),t.IzaUE(r,et.DONE)&&t.qTvQk(g.jsxs,g.Fragment,{children:[t.KnJtc(g.jsx,N.Button,{type:t.jPXqj,onClick:()=>n(!1),children:t.SRYkZ}),t.WjTdU(g.jsx,N.Button,{onClick:()=>e(),children:t.lyPav})]})]})]})}const $r=window.zKjQYvgSmF("pjubSmfyjQcfX").get();function ti(){const t={jsZMB:function(c,f,p,h){return c(f,p,h)},uTLvP:"photos",iKsHE:function(c,f){return c(f)},XNaDP:"^image{$1}.uri",ZULsZ:"comet_media_viewer",BMmpx:function(c,f,p){return c(f,p)},PknkJ:function(c,f){return c+f},GqJIP:function(c,f){return c(f)},vcfgs:function(c,f){return c(f)},GipSw:function(c,f,p){return c(f,p)},locrT:function(c,f,p){return c(f,p)},JhRSm:function(c,f,p){return c(f,p)},nHcJP:"var(--secondary-text)",OuUnK:function(c,f,p){return c(f,p)},uCYse:"div",xzPRf:"100%",FypOA:"flex",eiilz:"column",wjpOp:"space-between",ElVXe:function(c,f,p){return c(f,p)},SSfOV:function(c,f,p){return c(f,p)},HXuBy:"vertical",vmvEc:function(c,f){return c===f},fOEBc:function(c,f,p){return c(f,p)},OnBco:function(c,f,p){return c(f,p)},TOuhz:function(c,f,p){return c(f,p)},lBoYh:"Start downloading from the first photo to get all the photos in the entire album set for the photo viewer. The extension only downloads subsequent photos, excluding the previous ones.",gKKaj:"warning",yflIe:function(c,f){return c===f},VIOdU:function(c,f,p){return c(f,p)},vDofL:function(c,f,p){return c(f,p)},fAneH:"download-albums-for-instagram",IxAra:"export-posts-for-facebook",KlYwO:function(c,f,p){return c(f,p)},jZLbT:"This feature is customized for professional users. Please upgrade to use it.",lhthW:"small",qzwDn:"primary",MgFGI:"Upgrade Now!",lYOWy:"FREE try",vKLhl:function(c,f,p){return c(f,p)},EasFq:"absolute",HnVEw:function(c,f,p){return c(f,p)},RdKle:"Download Current Photo",FyTPb:"right",osKaL:"text",RyaJl:"circle",IluUT:function(c,f,p){return c(f,p)},GoLEX:function(c,f,p){return c(f,p)},jSrEC:"Download this Carousel",PslXs:"square"},{open:e,setOpen:n,step:r}=t.iKsHE(M.useContext,st),{checkIfCanUseWithModal:i}=t.iKsHE(M.useContext,pt),[a,o]=t.iKsHE(M.useState,!window.download_albums_for_facebook[ct.CAROUSEL_DOWNLOADER].needUpgrade),{currentPhotoId:s}=t.vcfgs(M.useContext,ae),u=t.GipSw(M.useMemo,()=>window.zKjQYvgSmF("sftVuofssvD").getAccountID()!=="0",[]);return t.locrT(g.jsxs,g.Fragment,{children:[t.GipSw(g.jsx,N.Modal,{open:e,onCancel:()=>n(!1),width:840,title:t.JhRSm(g.jsx,Ee,{}),footer:null,bodyStyle:{height:500,color:t.nHcJP},children:t.OuUnK(g.jsx,t.uCYse,{style:{height:t.xzPRf,width:t.xzPRf,display:t.FypOA,flexDirection:t.eiilz,justifyContent:t.wjpOp},children:a?t.ElVXe(g.jsxs,g.Fragment,{children:[t.SSfOV(g.jsxs,N.Space,{direction:t.HXuBy,size:12,style:{width:t.xzPRf},children:[t.vmvEc(r,et.START)&&t.fOEBc(g.jsxs,g.Fragment,{children:[t.OnBco(g.jsx,xe,{isHideQuantityCount:!0}),t.GipSw(g.jsx,N.Alert,{showIcon:!0,message:t.TOuhz(g.jsx,g.Fragment,{children:t.OnBco(g.jsx,"p",{children:t.lBoYh})}),type:t.gKKaj})]}),t.vmvEc(r,et.DOWNLOADING)&&t.fOEBc(g.jsx,g.Fragment,{children:t.OuUnK(g.jsx,ze,{})}),t.yflIe(r,et.DONE)&&t.OuUnK(g.jsxs,g.Fragment,{children:[t.VIOdU(g.jsx,ke,{}),t.vDofL(g.jsx,de,{extsProjectIdArr:[t.fAneH,t.IxAra],perRow:2})]})]}),t.SSfOV(g.jsx,Rr,{})]}):t.JhRSm(g.jsx,N.Alert,{type:t.gKKaj,message:t.KlYwO(g.jsxs,t.uCYse,{children:[t.jZLbT,t.BMmpx(g.jsx,N.Button,{size:t.lhthW,type:t.qzwDn,style:{marginLeft:8},onClick:()=>gt().send("visitPricing"),children:t.MgFGI}),t.OnBco(g.jsx,N.Button,{size:t.lhthW,style:{marginLeft:12},onClick:async function(){await t.jsZMB(i,ct.CAROUSEL_DOWNLOADER,void 0,t.uTLvP)&&t.iKsHE(o,!0)},children:t.lYOWy})]})})})}),t.vKLhl(g.jsx,t.uCYse,{style:{position:t.EasFq,left:8,bottom:u?34:180,zIndex:9999},children:t.OuUnK(g.jsxs,N.Space,{direction:t.HXuBy,size:8,children:[t.HnVEw(g.jsx,N.Tooltip,{title:t.RdKle,placement:t.FyTPb,children:t.OuUnK(g.jsx,N.Button,{onClick:async function(){const c=window.zKjqYvcSmF(s,t.XNaDP,{$1:{context:t.ZULsZ,height:1e6,scale:$r,width:1e6}});if(!c)return;let f=await(await t.iKsHE(fetch,c)).blob();t.BMmpx(Ur,f,t.PknkJ(t.PknkJ(s,"."),t.GqJIP(cn,c)))},type:t.osKaL,shape:t.RyaJl,icon:t.IluUT(g.jsx,Et.DownloadOutlined,{})})}),t.GoLEX(g.jsx,N.Tooltip,{title:t.jSrEC,placement:t.FyTPb,children:t.ElVXe(g.jsx,N.Button,{onClick:()=>n(!0),type:t.osKaL,shape:t.RyaJl,children:t.GoLEX(g.jsx,N.Avatar,{src:window.download_albums_for_facebook_icon,size:24,shape:t.PslXs})})})]})})]})}function ei(t){const e="udbfs/zsbeovpCspssFufnpD",n=function(h,l){return h===l},r="ENABLED",i="fepNlsbEufnpD",a=function(h,l,d){return h(l,d)},o=function(h,l,d){return h(l,d)},s=function(h,l,d){return h(l,d)},u=function(h,l,d){return h(l,d)},c=function(h,l,d){return h(l,d)},f=window.zKjQYvgSmF(e),p=n(r,window.zKjQYvgSmF(i).getDarkModeSetting());return a(g.jsx,f,{fallback:ni,children:a(g.jsx,N.ConfigProvider,{theme:{algorithm:p?N.theme.darkAlgorithm:N.theme.defaultAlgorithm,token:{motion:!1}},children:o(g.jsx,Te,{children:s(g.jsx,Ae,{children:a(g.jsx,Fe,{children:a(g.jsx,ae.Provider,{value:t,children:u(g.jsx,Ne,{children:c(g.jsx,ti,{})})})})})})})})}function ni(t){return console.error(t),g.jsx(Se,{})}const fn=M.createContext(null),ri=window.zKjQYvgSmF("pjubSmfyjQcfX").get();function ii(){const t={jslWT:"found collectionToken as undefined!",NAvDm:function(s,u){return s(u)},IBZup:function(s,u,c,f){return s(u,c,f)},vEWYp:"MarketplacePDPContainerQuery",MgcfW:"MarketplacePDP",tMnaO:"MARKETPLACE_MEGAMALL",xMKSZ:"MarketplacePDPC2CMediaViewerWithImagesQuery",QACoT:function(s,u,c,f){return s(u,c,f)},sLFCN:"[0].data.viewer.marketplace_product_details_page.target.listing_photos",HCAyx:function(s,u,c,f){return s(u,c,f)},xhUzU:"[0].data.viewer.marketplace_product_details_page.target.creation_time",YvVjP:"[0].data.viewer.marketplace_product_details_page.target.marketplace_listing_seller.name",yLVDW:"unknown",cAGei:"[0].data.viewer.marketplace_product_details_page.target.marketplace_listing_seller.id",QHkLx:function(s,u){return s(u)},GCEpM:"waiting",TjRdC:function(s){return s()},RiwAO:function(s){return s()},HSLTd:function(s,u,c){return s(u,c)}},{targetId:e}=t.QHkLx(M.useContext,fn),{isStopManually:n,setIsFetchingNextPageRef:r,appendPhotos:i}=t.NAvDm(M.useContext,st),{loadQuery:a}=t.RiwAO(ye),{download:o}=t.QHkLx(Be,!0);return t.HSLTd(M.useEffect,()=>{if(!e)throw new Error(t.jslWT)},[]),{startFetchAndDownload:function(){const s={EptUo:function(u,c){return t.NAvDm(u,c)},mWxfi:function(u,c,f,p){return t.IBZup(u,c,f,p)},umltm:t.vEWYp,xETnc:t.MgcfW,LBLbV:t.tMnaO,aMdTJ:t.xMKSZ,DUJpO:function(u,c,f,p){return t.QACoT(u,c,f,p)},aqCmq:t.sLFCN,yWHRt:function(u,c,f,p){return t.HCAyx(u,c,f,p)},GeluV:t.xhUzU,HygYw:function(u,c,f,p){return t.IBZup(u,c,f,p)},gcvpL:t.YvVjP,XsFkU:t.yLVDW,nyXmx:function(u,c,f,p){return t.QACoT(u,c,f,p)},sgxre:t.cAGei,SMzvZ:function(u,c){return t.QHkLx(u,c)},SLLKC:function(u,c){return t.NAvDm(u,c)},XYqMa:function(u,c){return t.NAvDm(u,c)},vLcJF:t.GCEpM,NBNex:function(u){return t.TjRdC(u)}};return n.current?Promise.resolve():new Promise(async(u,c)=>{s.EptUo(r,!0);const f=await s.mWxfi(a,s.umltm,{UFI2CommentsProvider_commentsKey:s.xETnc,feedbackSource:56,feedLocation:s.LBLbV,referralCode:null,scale:ri,should_show_new_pdp:!1,targetId:e,useDefaultActor:!1,__relay_internal__pv__CometUFIIsRTAEnabledrelayprovider:!1,__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:!1},!1),p=await s.mWxfi(a,s.aMdTJ,{targetId:e},!1);s.EptUo(r,!1);const h=s.DUJpO(it.get,p,s.aqCmq,[]),l=s.yWHRt(it.get,f,s.GeluV,0),d=s.HygYw(it.get,f,s.gcvpL,s.XsFkU),m=s.nyXmx(it.get,f,s.sgxre,"");s.SMzvZ(i,h.map(v=>({id:v.id,userId:m,thumbnail:v.image.uri,uri:v.image.uri,folderName:At(d),userName:At(d),createdAt:l,status:"waiting"})));for(const v of h)if(await s.SLLKC(o,{id:v.id,userId:m,thumbnail:v.image.uri,uri:v.image.uri,folderName:s.XYqMa(At,d),userName:s.SLLKC(At,d),createdAt:l,status:s.vLcJF}),n.current)return;return s.NBNex(u)})}}}function oi(){const t={DpFDV:function(h,l){return h(l)},MrTas:function(h,l){return h(l)},RBhZz:function(h,l,d){return h(l,d)},fmDQT:function(h,l){return h(l)},mewVn:function(h,l){return h(l)},eNnaN:function(h){return h()},qwkoC:"100%",UHdrJ:"space-between",iHptl:"middle",ezlxj:function(h,l,d){return h(l,d)},QFqTd:function(h,l){return h===l},UhSdO:"text",nofhO:"Close",kmucb:function(h,l,d){return h(l,d)},dcold:"primary",tcfkH:"Stop",FvWOE:function(h,l,d){return h(l,d)},JZTzP:"ReDownload"},{resetStatus:e,setOpen:n,step:r,isStopManually:i,updateUI:a,setStep:o,isOnLimit:s}=t.mewVn(M.useContext,st),{isSkipDownloadedFile:u,saveMemoSettings:c}=t.mewVn(M.useContext,pt),{modalApi:f}=t.fmDQT(M.useContext,Ot),{startFetchAndDownload:p}=t.eNnaN(ii);return t.RBhZz(g.jsxs,N.Row,{style:{width:t.qwkoC},justify:t.UHdrJ,align:t.iHptl,children:[t.RBhZz(g.jsxs,N.Space,{size:8,children:[t.RBhZz(g.jsx,Oe,{}),t.ezlxj(g.jsx,Ie,{})]}),t.RBhZz(g.jsxs,N.Space,{size:24,children:[t.QFqTd(r,et.START)&&t.RBhZz(g.jsxs,g.Fragment,{children:[t.ezlxj(g.jsx,N.Button,{type:t.UhSdO,onClick:()=>n(!1),children:t.nofhO}),t.RBhZz(g.jsx,Pe,{onClick:()=>(c(),te(),gt().send("consumeFeatureTreeTry",[ct.CAROUSEL_DOWNLOADER]),gt().send("consumeFeaturesTreeTryByMemoUIConfigs",{isSkipDownloadedFile:u}),i.current=!1,o(et.DOWNLOADING),void p().then(()=>{if(s.current)return t.DpFDV(a,!0);t.MrTas(o,et.DONE)}).catch(h=>{console.error(h),i.current=!0,t.RBhZz(ve,f,h)}))})]}),t.QFqTd(r,et.DOWNLOADING)&&t.kmucb(g.jsx,g.Fragment,{children:t.kmucb(g.jsx,N.Button,{type:t.dcold,danger:!0,onClick:()=>{i.current=!0,t.fmDQT(o,et.DONE)},children:t.tcfkH})}),t.QFqTd(r,et.DONE)&&t.kmucb(g.jsxs,g.Fragment,{children:[t.kmucb(g.jsx,N.Button,{type:t.UhSdO,onClick:()=>n(!1),children:t.nofhO}),t.FvWOE(g.jsx,N.Button,{onClick:()=>e(),children:t.JZTzP})]})]})]})}window.zKjQYvgSmF("pjubSmfyjQcfX").get();function ai(){const t={GtDCY:function(u,c,f,p){return u(c,f,p)},PAsKw:"photos",kzkef:function(u,c){return u(c)},wrpwf:function(u,c){return u(c)},OpFHl:function(u,c,f){return u(c,f)},SlLBJ:function(u,c,f){return u(c,f)},uvOCy:function(u,c,f){return u(c,f)},cSwSz:"var(--secondary-text)",sRgMg:"div",HoQVa:"100%",ZWrmD:"flex",DvcfH:"column",DXTwz:"space-between",dJDRW:function(u,c,f){return u(c,f)},oixiI:function(u,c,f){return u(c,f)},WgRar:"vertical",qnIHa:function(u,c){return u===c},QTmPq:function(u,c,f){return u(c,f)},nNMQa:function(u,c,f){return u(c,f)},KqOyf:function(u,c,f){return u(c,f)},IUIKw:function(u,c,f){return u(c,f)},nOiiN:"Start downloading from the first photo to get all the photos in the entire album set for the photo viewer. The extension only downloads subsequent photos, excluding the previous ones.",QXNPu:"warning",vMwwq:function(u,c){return u===c},erPuv:function(u,c){return u===c},pnvGq:function(u,c,f){return u(c,f)},vqkNd:function(u,c,f){return u(c,f)},cOjGF:"download-albums-for-instagram",CdUQS:"export-posts-for-facebook",MLNFL:function(u,c,f){return u(c,f)},hlxCq:function(u,c,f){return u(c,f)},dwXTB:"This feature is customized for professional users. Please upgrade to use it.",MihoO:"small",Tjlbk:"primary",HSmKs:"Upgrade Now!",xZTQp:function(u,c,f){return u(c,f)},dtWrS:"FREE try",JTQqE:"absolute",nFqyd:function(u,c,f){return u(c,f)},bDlaj:function(u,c,f){return u(c,f)},nLAuL:"Download this Carousel",LjRwp:"right",zMTzv:function(u,c,f){return u(c,f)},YDngd:"text",bHyTi:"circle",tfZEz:"square"},{open:e,setOpen:n,step:r}=t.kzkef(M.useContext,st),{checkIfCanUseWithModal:i}=t.kzkef(M.useContext,pt),[a,o]=t.wrpwf(M.useState,!window.download_albums_for_facebook[ct.CAROUSEL_DOWNLOADER].needUpgrade),s=t.OpFHl(M.useMemo,()=>window.zKjQYvgSmF("sftVuofssvD").getAccountID()!=="0",[]);return t.SlLBJ(g.jsxs,g.Fragment,{children:[t.OpFHl(g.jsx,N.Modal,{open:e,onCancel:()=>n(!1),width:840,title:t.uvOCy(g.jsx,Ee,{}),footer:null,bodyStyle:{height:500,color:t.cSwSz},children:t.uvOCy(g.jsx,t.sRgMg,{style:{height:t.HoQVa,width:t.HoQVa,display:t.ZWrmD,flexDirection:t.DvcfH,justifyContent:t.DXTwz},children:a?t.dJDRW(g.jsxs,g.Fragment,{children:[t.oixiI(g.jsxs,N.Space,{direction:t.WgRar,size:12,style:{width:t.HoQVa},children:[t.qnIHa(r,et.START)&&t.QTmPq(g.jsxs,g.Fragment,{children:[t.nNMQa(g.jsx,xe,{isHideQuantityCount:!0}),t.KqOyf(g.jsx,N.Alert,{showIcon:!0,message:t.dJDRW(g.jsx,g.Fragment,{children:t.IUIKw(g.jsx,"p",{children:t.nOiiN})}),type:t.QXNPu})]}),t.vMwwq(r,et.DOWNLOADING)&&t.KqOyf(g.jsx,g.Fragment,{children:t.oixiI(g.jsx,ze,{})}),t.erPuv(r,et.DONE)&&t.pnvGq(g.jsxs,g.Fragment,{children:[t.uvOCy(g.jsx,ke,{}),t.vqkNd(g.jsx,de,{extsProjectIdArr:[t.cOjGF,t.CdUQS],perRow:2})]})]}),t.pnvGq(g.jsx,oi,{})]}):t.MLNFL(g.jsx,N.Alert,{type:t.QXNPu,message:t.hlxCq(g.jsxs,t.sRgMg,{children:[t.dwXTB,t.MLNFL(g.jsx,N.Button,{size:t.MihoO,type:t.Tjlbk,style:{marginLeft:8},onClick:()=>gt().send("visitPricing"),children:t.HSmKs}),t.xZTQp(g.jsx,N.Button,{size:t.MihoO,style:{marginLeft:12},onClick:async function(){await t.GtDCY(i,ct.CAROUSEL_DOWNLOADER,void 0,t.PAsKw)&&t.kzkef(o,!0)},children:t.dtWrS})]})})})}),t.xZTQp(g.jsx,t.sRgMg,{style:{position:t.JTQqE,left:8,bottom:s?34:180,zIndex:9999},children:t.nFqyd(g.jsx,N.Space,{direction:t.WgRar,size:8,children:t.bDlaj(g.jsx,N.Tooltip,{title:t.nLAuL,placement:t.LjRwp,children:t.zMTzv(g.jsx,N.Button,{onClick:()=>n(!0),type:t.YDngd,shape:t.bHyTi,children:t.hlxCq(g.jsx,N.Avatar,{src:window.download_albums_for_facebook_icon,size:24,shape:t.tfZEz})})})})})]})}function si(t){const e="udbfs/zsbeovpCspssFufnpD",n=function(p,h){return p===h},r="ENABLED",i="fepNlsbEufnpD",a=function(p,h,l){return p(h,l)},o=function(p,h,l){return p(h,l)},s=function(p,h,l){return p(h,l)},u=function(p,h,l){return p(h,l)},c=window.zKjQYvgSmF(e),f=n(r,window.zKjQYvgSmF(i).getDarkModeSetting());return a(g.jsx,c,{fallback:ui,children:o(g.jsx,N.ConfigProvider,{theme:{algorithm:f?N.theme.darkAlgorithm:N.theme.defaultAlgorithm,token:{motion:!1}},children:o(g.jsx,Te,{children:a(g.jsx,Ae,{children:o(g.jsx,Fe,{children:o(g.jsx,fn.Provider,{value:t,children:s(g.jsx,Ne,{children:u(g.jsx,ai,{})})})})})})})})}function ui(t){return console.error(t),g.jsx(Se,{})}window.download_albums_for_facebook_icon=window[_t].extensionFolderUri+window[_t].icons[128],window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/fhbmmpDpupiQnvcmBufnpD",t=>{var i,a,o,s;const e={BhgvZ:"reference_token",cHUWf:"^owner.name",kMLCz:function(u,c,f){return u(c,f)},tdVpo:"CometAlbumPhotoCollagePaginationQuery",JFiyW:"data.node.media.edges",vpsHk:"node.id",rIXJR:"node.image.uri",DsDdL:"node.__typename",QwVCx:"data.node.media.page_info",oUeQj:"permalink"},n=window.zKjqYvcSmF(((a=(i=t==null?void 0:t.payload)==null?void 0:i.album)==null?void 0:a.__id)??"",e.BhgvZ),r=window.zKjqYvcSmF(((s=(o=t==null?void 0:t.payload)==null?void 0:o.album)==null?void 0:s.__id)??"",e.cHUWf)??"";return[e.kMLCz(g.jsx,Wt,{collectionToken:n,graphQLName:e.tdVpo,paths:{edgesPath:e.JFiyW,idPath:e.vpsHk,thumbnailUriPath:e.rIXJR,nodeTypePath:e.DsDdL,viewerLinkPath:u=>"https://www.facebook.com/photo/?fbid="+u.node.id+"&set="+n,pageInfoPath:e.QwVCx},folderName:r,requestExtraPayload:{count:14,id:n.split(".").pop(),renderLocation:e.oUeQj}}),t.lastCmp]}),window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/sfsfeofStpupiQopjudfmmpDqqBufnpDfmjgpsQ",t=>{var i,a,o,s;const e={DsnBB:"name",vprWJ:"videos_by",FjhVl:"videos_of",MjMYK:"tab_key",DmlXE:function(u,c,f){return u(c,f)},WvoOi:"ProfileCometAppCollectionPhotosRendererPaginationQuery",iMtbR:"data.node.pageItems.edges",LVihG:"node.node.id",MFZxP:"node.node.__typename",BUKrQ:"node.image.uri",cdzEN:"node.url",VHrsp:"data.node.pageItems.page_info"};let n=(a=(i=t.payload)==null?void 0:i.variables)==null?void 0:a.collectionToken;const r=window.zKjqYvcSmF(((s=(o=t.payload)==null?void 0:o.variables)==null?void 0:s.userID)??"",e.DsnBB)??"";if(!n)try{n=t.payload.styleRenderer.__id.match(/client:(.*?):style_renderer/)[1]}catch{}return[e.vprWJ,e.FjhVl].includes(window.zKjqYvcSmF(n,e.MjMYK))?t.lastCmp:[e.DmlXE(g.jsx,Wt,{collectionToken:n,graphQLName:e.WvoOi,paths:{edgesPath:e.iMtbR,idPath:e.LVihG,nodeTypePath:e.MFZxP,thumbnailUriPath:e.BUKrQ,viewerLinkPath:e.cdzEN,pageInfoPath:e.VHrsp},folderName:r}),t.lastCmp]}),window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/xfjWejsHnvcmBzdbhfMufnpDfmjgpsQ",t=>{var i,a,o,s;const e={ecjxi:"reference_token",mYWta:"^owner.name",Xklbm:function(u,c,f){return u(c,f)},gEbFZ:"ProfileCometLegacyAlbumGridViewPaginationQuery",eeTkw:"data.node.grid_media.edges",kzjSO:"node.id",WXldk:"node.__typename",APLAc:"node.image.uri",RnFYw:"data.node.grid_media.page_info"},n=window.zKjqYvcSmF(((a=(i=t==null?void 0:t.payload)==null?void 0:i.mediaset)==null?void 0:a.__id)??"",e.ecjxi),r=window.zKjqYvcSmF(((s=(o=t==null?void 0:t.payload)==null?void 0:o.mediaset)==null?void 0:s.__id)??"",e.mYWta)??"";return[e.Xklbm(g.jsx,Wt,{collectionToken:n,graphQLName:e.gEbFZ,paths:{edgesPath:e.eeTkw,idPath:e.kzjSO,nodeTypePath:e.WXldk,thumbnailUriPath:e.APLAc,viewerLinkPath:u=>"https://www.facebook.com/photo/?fbid="+u.node.id+"&set="+n,pageInfoPath:e.RnFYw},folderName:r,requestExtraPayload:{count:14,id:n.split(".").pop()}}),t.lastCmp]}),window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/ejsHcbUtpupiQbjefNufnpDtqvpsH",t=>{const e={hfPPb:"name",qovZr:function(a,o,s){return a(o,s)},aLEmA:"GroupsCometMediaPhotosTabGridQuery",huOMD:"data.node.group_mediaset.media.edges",ksiHX:"node.id",nkQok:"node.__typename",OQqrk:"node.image.uri",PRNtd:"data.node.group_mediaset.media.page_info"},n=t.payload.group$key.__id,r=n,i=window.zKjqYvcSmF(n,e.hfPPb);return[e.qovZr(g.jsx,Wt,{collectionToken:r,graphQLName:e.aLEmA,paths:{edgesPath:e.huOMD,idPath:e.ksiHX,nodeTypePath:e.nkQok,thumbnailUriPath:e.OQqrk,viewerLinkPath:a=>"https://www.facebook.com/photo/?fbid="+a.node.id+"&set=g."+r,pageInfoPath:e.PRNtd},folderName:i,requestExtraPayload:{count:8,id:r.split(".").pop()}}),t.lastCmp]}),window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/opjudfTtpupiQmmBxfjWojbNcbUtpupiQufnpDtfhbQ",t=>{const e={PITcM:"name",SvGSb:function(r,i,a){return r(i,a)},kyMMO:"PagesCometPhotosTabMainViewAllPhotosSectionPaginationQuery",vvgWf:"data.node.allPhotos.edges",laLDr:"node.id",pjMbk:"node.__typename",KBxlL:"node.image.uri",HxFfS:"data.node.allPhotos.page_info"},n=window.zKjqYvcSmF(t.payload.page.__id,e.PITcM)??"";return[e.SvGSb(g.jsx,Wt,{collectionToken:t.payload.page.__id,graphQLName:e.kyMMO,paths:{edgesPath:e.vvgWf,idPath:e.laLDr,nodeTypePath:e.pjMbk,thumbnailUriPath:e.KBxlL,viewerLinkPath:r=>{var i;return"https://www.facebook.com/SteveHarvey/photos/"+((i=r==null?void 0:r.node)==null?void 0:i.id)},pageInfoPath:e.HxFfS},folderName:n,requestExtraPayload:{count:10}}),t.lastCmp]}),window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/uofuopDuppSpupiQufnpD",t=>{const e=function(a,o){return a&&o},n=function(a,o,s){return a(o,s)},r=t.payload.mediasetToken,i=t.payload.photoID;return e(r,i)?[n(g.jsx,ei,{collectionToken:r,currentPhotoId:i}),t.lastCmp]:t.lastCmp}),window.zKjQYvcSmF("lppcfdbg.spg.tnvcmb.ebpmoxpe}udbfs/zsfvRtfhbnJiujXsfxfjWbjefND3DQEQfdbmquflsbN",t=>{var a,o,s;const e=(s=(o=(a=t.payload)==null?void 0:a.imageQueryRef)==null?void 0:o.variables)==null?void 0:s.targetId;return e?[(n=g.jsx,r=si,i={targetId:e},n(r,i)),t.lastCmp]:t.lastCmp;var n,r,i})})(window.download_albums_for_facebook_vendors._.antd,kt,vn,window.download_albums_for_facebook_vendors._["lodash-es"],window.download_albums_for_facebook_vendors._.dayjs,window.download_albums_for_facebook_vendors._["@ant-design/icons"])}else console.error(`${vt} Not Found`)}function mn(){return Object.keys(window.require("__debug").modulesMap).filter(vt=>vt.indexOf("ReactDOM")===0).find(vt=>{const kt=window.require("__debug").modulesMap[vt];return!!(kt.exports&&kt.exports.version&&kt.depPosition>3&&vt.includes("classic"))})}function wn(){function vt(...kt){return window.require("react").jsx(...kt)}return{Fragment:Symbol.for("react.fragment"),jsx:vt,jsxs:vt,jsxDEV:vt}}})();
