!function(){function t(t){t!==document.body.getAttribute("data-current-conv-id")&&(t?document.body.setAttribute("data-current-conv-id",t):document.body.removeAttribute("data-current-conv-id"),document.dispatchEvent(new CustomEvent("@ZaDark:CONV_ID_CHANGE")))}function n(){const n=document.getElementById("conversationListId");n&&n.addEventListener("click",function(e){const o=e.target.closest(".msg-item");if(!o||!n.contains(o))return;const c=o.querySelector(".conv-item-title__more");c&&(c===e.target||c.contains(e.target))||t(function(t){if(!t)return null;const n=t[Object.keys(t).find(t=>t.startsWith("__reactInternalInstance"))];return n?n.key:null}(o))})}function e(){const n=document.querySelector("#container > main");if(!n)return;const e=n[Object.keys(n).find(t=>t.startsWith("__reactInternalInstance"))];if(!e)return null;const{convId:o}=e.return.pendingProps;t(o)}function o(t,n){let e;return function(){clearTimeout(e),e=setTimeout(t,n)}}const c=new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{"app-page"===t.id&&(n(),document.body.classList.contains("zadark-pc")?window.$zwindow.onVisibilityChange(o(e,200)):window.addEventListener("focus",o(e,200)),c.disconnect())})})});c.observe(document.querySelector("#app"),{subtree:!1,childList:!0})}();