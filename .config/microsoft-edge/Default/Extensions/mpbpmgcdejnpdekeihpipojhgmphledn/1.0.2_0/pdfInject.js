"use strict";function checkCurrentUrlIsLocalFileUrl(){const e=new URLSearchParams(window.location.search).get("file");/^file:\/\//.test(e)&&chrome.extension.isAllowedFileSchemeAccess((e=>{0==e&&(alert("\n    ------------------------------------------------------------------\n    Japanese Dictionary JP require permission for local pdf file.\n    User need to turn on 'Allow access to file URLs' from setting.\n    This page will be redirected to setting page after confirm.\n    -------------------------------------------------------------------"),openSettingPage())}))}function openSettingPage(){chrome.tabs.create({url:"chrome://extensions/?id=hmigninkgibhdckiaphhmbgcghochdjc"})}document.addEventListener("webviewerloaded",(function(){PDFViewerApplication.initializedPromise.then((function(){PDFViewerApplication.eventBus.on("documentloaded",(function(e){window.PDFViewerApplication.eventBus.on("textlayerrendered",(function(e){var t,n;document.querySelectorAll(".page span").forEach((function(e,i){var o=parseFloat(e.style.top);if(0===i);else{var r=parseFloat(e.style.fontSize);t<o-2*r||o+2*r<t?/\n $/.test(n.textContent)||(n.textContent=n.textContent+"\n "):(t<o-r||o+r<t)&&(/ $/.test(n.textContent)||(n.textContent=n.textContent+" "))}t=o,n=e}))}))}))}))})),checkCurrentUrlIsLocalFileUrl();